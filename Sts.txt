2021-09-06 13:26:16.906 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 13:26:16.912 +02:00 [INF] Now listening on: http://localhost:5000
2021-09-06 13:26:16.913 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 13:26:16.913 +02:00 [INF] Hosting environment: Development
2021-09-06 13:26:16.913 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 13:26:17.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 13:26:18.022 +02:00 [INF] Executing endpoint '/ HTTP: GET'
2021-09-06 13:26:18.031 +02:00 [INF] Executed endpoint '/ HTTP: GET'
2021-09-06 13:26:18.033 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - - 35.7831ms
2021-09-06 13:26:18.055 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-06 13:26:18.056 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 404 0 - 0.6308ms
2021-09-06 13:27:19.055 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 13:27:19.059 +02:00 [INF] Now listening on: http://localhost:5000
2021-09-06 13:27:19.059 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 13:27:19.059 +02:00 [INF] Hosting environment: Development
2021-09-06 13:27:19.059 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 13:27:25.554 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 13:27:25.575 +02:00 [INF] Executing endpoint '/ HTTP: GET'
2021-09-06 13:27:25.579 +02:00 [INF] Executed endpoint '/ HTTP: GET'
2021-09-06 13:27:25.580 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - - 27.9909ms
2021-09-06 13:27:25.666 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-06 13:27:25.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 404 0 - 0.5544ms
2021-09-06 13:29:43.933 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 13:29:43.938 +02:00 [INF] Now listening on: http://localhost:5000
2021-09-06 13:29:43.938 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 13:29:43.938 +02:00 [INF] Hosting environment: Development
2021-09-06 13:29:43.938 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 16:12:36.167 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 16:12:36.365 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 16:12:36.365 +02:00 [INF] Quartz Scheduler created
2021-09-06 16:12:36.373 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 16:12:36.373 +02:00 [INF] RAMJobStore initialized.
2021-09-06 16:12:36.375 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 16:12:36.375 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 16:12:36.375 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 16:12:36.391 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 16:12:36.392 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 16:12:36.401 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 16:40:39.710 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 16:40:39.876 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 16:40:39.877 +02:00 [INF] Quartz Scheduler created
2021-09-06 16:40:39.882 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 16:40:39.882 +02:00 [INF] RAMJobStore initialized.
2021-09-06 16:40:39.884 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 16:40:39.885 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 16:40:39.885 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 16:40:39.901 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 16:40:39.902 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 16:40:39.915 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 16:40:40.650 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 16:40:41.309 +02:00 [INF] Executed DbCommand (296ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [OpenIdDictServer];
2021-09-06 16:40:41.360 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [OpenIdDictServer] SET READ_COMMITTED_SNAPSHOT ON;
END;
2021-09-06 16:40:41.385 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 16:40:41.473 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2021-09-06 16:40:41.478 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2021-09-06 16:40:41.480 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictApplications] (
    [Id] nvarchar(450) NOT NULL,
    [ClientId] nvarchar(100) NULL,
    [ClientSecret] nvarchar(max) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [ConsentType] nvarchar(50) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Permissions] nvarchar(max) NULL,
    [PostLogoutRedirectUris] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedirectUris] nvarchar(max) NULL,
    [Requirements] nvarchar(max) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictApplications] PRIMARY KEY ([Id])
);
2021-09-06 16:40:41.482 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictScopes] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [Description] nvarchar(max) NULL,
    [Descriptions] nvarchar(max) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Name] nvarchar(200) NULL,
    [Properties] nvarchar(max) NULL,
    [Resources] nvarchar(max) NULL,
    CONSTRAINT [PK_OpenIddictScopes] PRIMARY KEY ([Id])
);
2021-09-06 16:40:41.485 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2021-09-06 16:40:41.489 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 16:40:41.492 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 16:40:41.495 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 16:40:41.498 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 16:40:41.500 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictAuthorizations] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [Properties] nvarchar(max) NULL,
    [Scopes] nvarchar(max) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictAuthorizations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictAuthorizations_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]) ON DELETE NO ACTION
);
2021-09-06 16:40:41.506 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictTokens] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [AuthorizationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [ExpirationDate] datetime2 NULL,
    [Payload] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedemptionDate] datetime2 NULL,
    [ReferenceId] nvarchar(100) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictAuthorizations_AuthorizationId] FOREIGN KEY ([AuthorizationId]) REFERENCES [OpenIddictAuthorizations] ([Id]) ON DELETE NO ACTION
);
2021-09-06 16:40:41.508 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2021-09-06 16:40:41.509 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2021-09-06 16:40:41.510 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2021-09-06 16:40:41.511 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2021-09-06 16:40:41.512 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2021-09-06 16:40:41.513 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2021-09-06 16:40:41.515 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2021-09-06 16:40:41.519 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictApplications_ClientId] ON [OpenIddictApplications] ([ClientId]) WHERE [ClientId] IS NOT NULL;
2021-09-06 16:40:41.520 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictAuthorizations_ApplicationId_Status_Subject_Type] ON [OpenIddictAuthorizations] ([ApplicationId], [Status], [Subject], [Type]);
2021-09-06 16:40:41.521 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictScopes_Name] ON [OpenIddictScopes] ([Name]) WHERE [Name] IS NOT NULL;
2021-09-06 16:40:41.522 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_ApplicationId_Status_Subject_Type] ON [OpenIddictTokens] ([ApplicationId], [Status], [Subject], [Type]);
2021-09-06 16:40:41.523 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_AuthorizationId] ON [OpenIddictTokens] ([AuthorizationId]);
2021-09-06 16:40:41.524 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictTokens_ReferenceId] ON [OpenIddictTokens] ([ReferenceId]) WHERE [ReferenceId] IS NOT NULL;
2021-09-06 16:40:41.749 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 16:40:41.806 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 16:40:41.916 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 16:40:41.938 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 16:40:41.950 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 16:40:41.956 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 16:40:41.970 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 16:40:41.990 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 16:40:42.009 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictScopes] ([Id], [ConcurrencyToken], [Description], [Descriptions], [DisplayName], [DisplayNames], [Name], [Properties], [Resources])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2021-09-06 16:40:42.191 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 16:40:42.192 +02:00 [INF] Now listening on: http://localhost:5000
2021-09-06 16:40:42.193 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 16:40:42.194 +02:00 [INF] Hosting environment: Development
2021-09-06 16:40:42.194 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 16:40:44.656 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 16:40:44.943 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 404 0 - 288.3479ms
2021-09-06 17:57:46.648 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 17:57:58.706 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 17:57:59.768 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 17:57:59.787 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-09-06 17:57:59.789 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 17:57:59.852 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2021-09-06 17:57:59.853 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 17:57:59.854 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-09-06 17:57:59.857 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-09-06 17:57:59.867 +02:00 [INF] Applying migration '20210906155746_Initial'.
2021-09-06 17:57:59.908 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2021-09-06 17:59:09.488 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 17:59:09.680 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 17:59:09.681 +02:00 [INF] Quartz Scheduler created
2021-09-06 17:59:09.686 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 17:59:09.686 +02:00 [INF] RAMJobStore initialized.
2021-09-06 17:59:09.688 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 17:59:09.688 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 17:59:09.688 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 17:59:09.703 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 17:59:09.705 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 17:59:09.714 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 17:59:10.396 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 17:59:10.765 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 17:59:10.808 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 17:59:11.039 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 17:59:11.151 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:00:08.237 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:00:08.397 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:00:08.397 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:00:08.402 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:00:08.403 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:00:08.404 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:00:08.405 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:00:08.405 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:00:08.424 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:00:08.426 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:00:08.435 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:00:09.010 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:00:09.309 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:00:09.351 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:00:09.578 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:00:09.689 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:10:25.994 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:10:26.438 +02:00 [INF] Executed DbCommand (247ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [OpenIdDictServer];
2021-09-06 18:10:26.488 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [OpenIdDictServer] SET READ_COMMITTED_SNAPSHOT ON;
END;
2021-09-06 18:10:26.500 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:10:26.561 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2021-09-06 18:10:26.562 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:10:26.576 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-09-06 18:10:26.579 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-09-06 18:10:26.590 +02:00 [INF] Applying migration '20210906155746_Initial'.
2021-09-06 18:10:26.629 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2021-09-06 18:10:26.631 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2021-09-06 18:10:26.632 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictApplications] (
    [Id] nvarchar(450) NOT NULL,
    [ClientId] nvarchar(100) NULL,
    [ClientSecret] nvarchar(max) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [ConsentType] nvarchar(50) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Permissions] nvarchar(max) NULL,
    [PostLogoutRedirectUris] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedirectUris] nvarchar(max) NULL,
    [Requirements] nvarchar(max) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictApplications] PRIMARY KEY ([Id])
);
2021-09-06 18:10:26.633 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictScopes] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [Description] nvarchar(max) NULL,
    [Descriptions] nvarchar(max) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Name] nvarchar(200) NULL,
    [Properties] nvarchar(max) NULL,
    [Resources] nvarchar(max) NULL,
    CONSTRAINT [PK_OpenIddictScopes] PRIMARY KEY ([Id])
);
2021-09-06 18:10:26.634 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:10:26.636 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:10:26.667 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:10:26.669 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:10:26.670 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:10:26.671 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictAuthorizations] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [Properties] nvarchar(max) NULL,
    [Scopes] nvarchar(max) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictAuthorizations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictAuthorizations_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]) ON DELETE NO ACTION
);
2021-09-06 18:10:26.673 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictTokens] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [AuthorizationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [ExpirationDate] datetime2 NULL,
    [Payload] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedemptionDate] datetime2 NULL,
    [ReferenceId] nvarchar(100) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictAuthorizations_AuthorizationId] FOREIGN KEY ([AuthorizationId]) REFERENCES [OpenIddictAuthorizations] ([Id]) ON DELETE NO ACTION
);
2021-09-06 18:10:26.673 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2021-09-06 18:10:26.674 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2021-09-06 18:10:26.674 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2021-09-06 18:10:26.675 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2021-09-06 18:10:29.181 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2021-09-06 18:10:29.182 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2021-09-06 18:10:29.182 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2021-09-06 18:10:29.183 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictApplications_ClientId] ON [OpenIddictApplications] ([ClientId]) WHERE [ClientId] IS NOT NULL;
2021-09-06 18:10:29.183 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictAuthorizations_ApplicationId_Status_Subject_Type] ON [OpenIddictAuthorizations] ([ApplicationId], [Status], [Subject], [Type]);
2021-09-06 18:10:29.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictScopes_Name] ON [OpenIddictScopes] ([Name]) WHERE [Name] IS NOT NULL;
2021-09-06 18:10:29.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_ApplicationId_Status_Subject_Type] ON [OpenIddictTokens] ([ApplicationId], [Status], [Subject], [Type]);
2021-09-06 18:10:29.185 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_AuthorizationId] ON [OpenIddictTokens] ([AuthorizationId]);
2021-09-06 18:10:29.185 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictTokens_ReferenceId] ON [OpenIddictTokens] ([ReferenceId]) WHERE [ReferenceId] IS NOT NULL;
2021-09-06 18:10:29.186 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210906155746_Initial', N'5.0.9');
2021-09-06 18:10:36.557 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:10:36.712 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:10:36.712 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:10:36.713 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:10:36.718 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:10:36.721 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:10:36.721 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:10:36.722 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:10:36.739 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:10:36.740 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:10:36.750 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:10:37.349 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:10:37.646 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:10:37.698 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:10:37.922 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:10:37.979 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:10:38.092 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 18:10:38.120 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:10:38.134 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:10:38.139 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 18:10:38.154 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 18:10:38.178 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 18:10:38.196 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictScopes] ([Id], [ConcurrencyToken], [Description], [Descriptions], [DisplayName], [DisplayNames], [Name], [Properties], [Resources])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2021-09-06 18:10:38.397 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 18:10:38.397 +02:00 [INF] Now listening on: http://localhost:5000
2021-09-06 18:10:38.398 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 18:10:38.399 +02:00 [INF] Hosting environment: Development
2021-09-06 18:10:38.399 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 18:10:39.868 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:10:40.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 404 0 - 297.8423ms
2021-09-06 18:13:36.691 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:13:36.758 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-06 18:13:36.818 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-06 18:15:20.507 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:15:20.671 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:15:20.672 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:15:20.678 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:15:20.679 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:15:20.680 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:15:20.681 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:15:20.681 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:15:20.697 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:15:20.698 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:15:20.707 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:15:21.260 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:15:21.517 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:15:21.548 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:15:21.773 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:15:21.881 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:16:28.283 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:16:28.411 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:16:28.411 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:16:28.411 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:16:28.412 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:16:28.413 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:16:28.413 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:16:28.413 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:16:28.427 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:16:28.429 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:16:28.437 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:16:29.050 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:16:29.298 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:16:29.325 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:16:29.520 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:16:29.615 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:19:46.253 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:19:46.341 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:19:46.341 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:19:46.342 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:19:46.342 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:19:46.343 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:19:46.343 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:19:46.343 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:19:46.358 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:19:46.359 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:19:46.368 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:19:46.860 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:19:47.082 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:19:47.122 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:19:47.322 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:19:47.418 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:23:10.304 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:23:10.471 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:23:10.472 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:23:10.477 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:23:10.477 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:23:10.479 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:23:10.480 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:23:10.480 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:23:10.496 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:23:10.498 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:23:10.507 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:23:11.064 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:23:11.364 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:23:11.407 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:23:11.638 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:23:11.747 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:29:52.890 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:29:52.976 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:29:52.976 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:29:52.976 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:29:52.977 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:29:52.978 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:29:52.978 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:29:52.978 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:29:52.993 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:29:52.994 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:29:53.003 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:29:53.487 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:29:53.694 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:29:53.735 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:29:53.935 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:29:54.033 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:31:54.670 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:31:54.755 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:31:54.755 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:31:54.755 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:31:54.755 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:31:54.756 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:31:54.756 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:31:54.756 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:31:54.771 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:31:54.772 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:31:54.781 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:31:55.093 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 18:31:55.093 +02:00 [INF] Now listening on: http://localhost:5000
2021-09-06 18:31:55.093 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 18:31:55.093 +02:00 [INF] Hosting environment: Development
2021-09-06 18:31:55.093 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 18:32:22.470 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:32:22.711 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:32:22.724 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:32:22.731 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:32:22.858 +02:00 [INF] Executed ViewResult - view Index executed in 129.4883ms.
2021-09-06 18:32:22.860 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 135.2262ms
2021-09-06 18:32:22.860 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:32:22.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 393.9563ms
2021-09-06 18:32:22.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 18:32:22.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:32:22.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 18:32:22.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js - -
2021-09-06 18:32:22.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:32:22.882 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:32:22.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3072 application/javascript;+charset=utf-8 1.4353ms
2021-09-06 18:32:22.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 404 0 - 2.3374ms
2021-09-06 18:32:22.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 404 0 - 2.3613ms
2021-09-06 18:32:22.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 404 0 - 2.4735ms
2021-09-06 18:32:22.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 404 0 - 2.4498ms
2021-09-06 18:32:22.884 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js - - - 404 0 - 2.4153ms
2021-09-06 18:32:22.911 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:32:22.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 404 0 - 4.0309ms
2021-09-06 18:32:22.945 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:32:22.945 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 404 0 - 0.4287ms
2021-09-06 18:32:22.948 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js - -
2021-09-06 18:32:22.948 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js - - - 404 0 - 0.5251ms
2021-09-06 18:33:25.806 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:33:25.807 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:33:25.807 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:33:25.807 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:33:25.810 +02:00 [INF] Executed ViewResult - view Index executed in 2.5347ms.
2021-09-06 18:33:25.810 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 2.8167ms
2021-09-06 18:33:25.810 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:33:25.810 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 3.9109ms
2021-09-06 18:33:25.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 18:33:25.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 18:33:25.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 404 0 - 0.6908ms
2021-09-06 18:33:25.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:33:25.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 404 0 - 0.5840ms
2021-09-06 18:33:25.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:33:25.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js - -
2021-09-06 18:33:25.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:33:25.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 404 0 - 0.3647ms
2021-09-06 18:33:25.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js - - - 404 0 - 0.3093ms
2021-09-06 18:33:25.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3072 application/javascript;+charset=utf-8 0.2874ms
2021-09-06 18:33:25.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 404 0 - 0.5883ms
2021-09-06 18:33:25.840 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:33:25.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 404 0 - 0.3832ms
2021-09-06 18:33:25.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:33:25.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 404 0 - 0.3573ms
2021-09-06 18:33:25.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js - -
2021-09-06 18:33:25.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js - - - 404 0 - 0.3944ms
2021-09-06 18:33:28.455 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:33:28.456 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:33:28.456 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:33:28.456 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:33:28.464 +02:00 [INF] Executed ViewResult - view Index executed in 7.8029ms.
2021-09-06 18:33:28.464 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 7.9535ms
2021-09-06 18:33:28.464 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:33:28.464 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 8.5759ms
2021-09-06 18:33:28.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 18:33:28.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 18:33:28.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:33:28.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:33:28.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:33:28.484 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js - -
2021-09-06 18:33:28.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3072 application/javascript;+charset=utf-8 0.1614ms
2021-09-06 18:33:28.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 404 0 - 0.3671ms
2021-09-06 18:33:28.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 404 0 - 0.3592ms
2021-09-06 18:33:28.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 404 0 - 0.4497ms
2021-09-06 18:33:28.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 404 0 - 0.6654ms
2021-09-06 18:33:28.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js - - - 404 0 - 0.3413ms
2021-09-06 18:33:28.493 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:33:28.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 404 0 - 0.5757ms
2021-09-06 18:33:28.497 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:33:28.497 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 404 0 - 0.3869ms
2021-09-06 18:33:28.499 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js - -
2021-09-06 18:33:28.499 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js - - - 404 0 - 0.2585ms
2021-09-06 18:33:30.833 +02:00 [INF] Application is shutting down...
2021-09-06 18:33:30.858 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-06 18:33:30.859 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-06 18:33:30.863 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-06 18:33:37.004 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:33:37.093 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:33:37.093 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:33:37.093 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:33:37.093 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:33:37.095 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:33:37.095 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:33:37.095 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:33:37.109 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:33:37.111 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:33:37.119 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:33:37.229 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 18:33:37.229 +02:00 [INF] Now listening on: http://localhost:5000
2021-09-06 18:33:37.229 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 18:33:37.229 +02:00 [INF] Hosting environment: Development
2021-09-06 18:33:37.229 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 18:33:43.662 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:33:43.735 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:33:43.748 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:33:43.755 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:33:43.884 +02:00 [INF] Executed ViewResult - view Index executed in 131.3856ms.
2021-09-06 18:33:43.886 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 137.0433ms
2021-09-06 18:33:43.886 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:33:43.889 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 228.1247ms
2021-09-06 18:33:43.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 18:33:43.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 18:33:43.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-06 18:33:43.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:33:43.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:33:43.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:33:43.907 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 1.4709ms
2021-09-06 18:33:43.912 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-06 18:33:43.912 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-06 18:33:43.912 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.4105ms
2021-09-06 18:33:43.912 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 6.3751ms
2021-09-06 18:33:43.923 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-06 18:33:43.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 19.0881ms
2021-09-06 18:33:43.939 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-06 18:33:43.940 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 33.7914ms
2021-09-06 18:33:43.946 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-06 18:33:43.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 40.2254ms
2021-09-06 18:33:58.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-06 18:33:58.928 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 18:33:58.942 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 18:33:58.953 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 18:33:58.963 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 18:33:58.964 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 18:33:58.966 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 18:33:58.967 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 18:33:59.007 +02:00 [INF] Executed page /Account/Login in 63.9644ms
2021-09-06 18:33:59.007 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 18:33:59.007 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 86.8662ms
2021-09-06 18:33:59.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-06 18:33:59.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-06 18:33:59.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:33:59.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 0.2671ms
2021-09-06 18:33:59.041 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.9\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-06 18:33:59.041 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 14.2253ms
2021-09-06 18:33:59.049 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.9\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-06 18:33:59.049 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 22.0389ms
2021-09-06 18:34:18.445 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register?returnUrl=%2F - -
2021-09-06 18:34:18.453 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 18:34:18.457 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 18:34:18.465 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-06 18:34:18.466 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 18:34:18.466 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 18:34:18.466 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 18:34:18.477 +02:00 [INF] Executed page /Account/Register in 19.6881ms
2021-09-06 18:34:18.477 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 18:34:18.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register?returnUrl=%2F - - - 200 - text/html;+charset=utf-8 32.0106ms
2021-09-06 18:34:18.496 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:34:18.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 0.2357ms
2021-09-06 18:34:40.710 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Register?returnUrl=%2F application/x-www-form-urlencoded 278
2021-09-06 18:34:40.710 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 18:34:40.711 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 18:34:40.721 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnPostAsync - ModelState is "Valid"
2021-09-06 18:34:41.170 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:34:41.555 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-06 18:34:41.685 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-09-06 18:34:41.698 +02:00 [INF] User created a new account with password.
2021-09-06 18:34:41.736 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-06 18:34:41.754 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 18:34:41.758 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-06 18:34:41.759 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-06 18:34:41.761 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-06 18:34:41.761 +02:00 [INF] Executed page /Account/Register in 1050.6627ms
2021-09-06 18:34:41.762 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 18:34:41.763 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Register?returnUrl=%2F application/x-www-form-urlencoded 278 - 302 0 - 1053.8437ms
2021-09-06 18:34:41.765 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:34:41.767 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:34:41.767 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:34:41.768 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:34:41.769 +02:00 [INF] Executed ViewResult - view Index executed in 1.7758ms.
2021-09-06 18:34:41.769 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 2.0616ms
2021-09-06 18:34:41.769 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:34:41.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 5.0070ms
2021-09-06 18:34:41.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:34:41.790 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 0.2305ms
2021-09-06 18:34:50.214 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-06 18:34:50.221 +02:00 [INF] Authorization was successful.
2021-09-06 18:34:50.222 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-06 18:34:50.224 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-06 18:34:50.225 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-06 18:34:50.243 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:34:50.251 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 18:34:50.260 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 18:34:50.278 +02:00 [INF] Executed page /Account/Manage/Index in 54.4696ms
2021-09-06 18:34:50.278 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-06 18:34:50.279 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 65.1328ms
2021-09-06 18:34:50.299 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:34:50.299 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 0.1680ms
2021-09-06 18:35:03.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - -
2021-09-06 18:35:03.905 +02:00 [INF] Authorization was successful.
2021-09-06 18:35:03.905 +02:00 [INF] Executing endpoint '/Account/Manage/Email'
2021-09-06 18:35:03.909 +02:00 [INF] Route matched with {page = "/Account/Manage/Email", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Email
2021-09-06 18:35:03.909 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EmailModel.OnGetAsync - ModelState is "Valid"
2021-09-06 18:35:03.915 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:35:03.917 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 18:35:03.919 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 18:35:03.932 +02:00 [INF] Executed page /Account/Manage/Email in 22.7108ms
2021-09-06 18:35:03.932 +02:00 [INF] Executed endpoint '/Account/Manage/Email'
2021-09-06 18:35:03.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - - - 200 - text/html;+charset=utf-8 30.1651ms
2021-09-06 18:35:03.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:35:03.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 0.2748ms
2021-09-06 18:35:05.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - -
2021-09-06 18:35:05.987 +02:00 [INF] Authorization was successful.
2021-09-06 18:35:05.987 +02:00 [INF] Executing endpoint '/Account/Manage/ChangePassword'
2021-09-06 18:35:05.989 +02:00 [INF] Route matched with {page = "/Account/Manage/ChangePassword", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ChangePassword
2021-09-06 18:35:05.989 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ChangePasswordModel.OnGetAsync - ModelState is "Valid"
2021-09-06 18:35:05.990 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:35:05.991 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 18:35:05.992 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 18:35:06.001 +02:00 [INF] Executed page /Account/Manage/ChangePassword in 12.038ms
2021-09-06 18:35:06.001 +02:00 [INF] Executed endpoint '/Account/Manage/ChangePassword'
2021-09-06 18:35:06.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - - - 200 - text/html;+charset=utf-8 19.3471ms
2021-09-06 18:35:06.024 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:35:06.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 0.2261ms
2021-09-06 18:35:07.917 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-06 18:35:07.919 +02:00 [INF] Authorization was successful.
2021-09-06 18:35:07.919 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-06 18:35:07.921 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-06 18:35:07.921 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-06 18:35:07.923 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:35:07.924 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 18:35:07.930 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-06 18:35:07.933 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-06 18:35:07.933 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 18:35:07.939 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 18.3285ms
2021-09-06 18:35:07.940 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-06 18:35:07.940 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 23.0770ms
2021-09-06 18:35:07.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:35:07.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 0.2216ms
2021-09-06 18:35:11.024 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - -
2021-09-06 18:35:11.025 +02:00 [INF] Authorization was successful.
2021-09-06 18:35:11.025 +02:00 [INF] Executing endpoint '/Account/Manage/PersonalData'
2021-09-06 18:35:11.028 +02:00 [INF] Route matched with {page = "/Account/Manage/PersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/PersonalData
2021-09-06 18:35:11.028 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.PersonalDataModel.OnGet - ModelState is "Valid"
2021-09-06 18:35:11.029 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:35:11.030 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 18:35:11.030 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 18:35:11.034 +02:00 [INF] Executed page /Account/Manage/PersonalData in 6.5131ms
2021-09-06 18:35:11.034 +02:00 [INF] Executed endpoint '/Account/Manage/PersonalData'
2021-09-06 18:35:11.035 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - - - 200 - text/html;+charset=utf-8 10.6105ms
2021-09-06 18:35:11.055 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2021-09-06 18:35:11.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 3073 application/javascript;+charset=utf-8 0.3713ms
2021-09-06 18:39:37.090 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:39:37.125 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-06 18:39:37.176 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-06 18:41:20.740 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:41:20.825 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:41:20.825 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:41:20.826 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:41:20.826 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:41:20.827 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:41:20.827 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:41:20.827 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:41:20.842 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:41:20.843 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:41:20.852 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:41:21.335 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:41:21.550 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:41:21.588 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:41:21.793 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:41:21.891 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:43:27.156 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:43:27.243 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:43:27.244 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:43:27.244 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:43:27.245 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:43:27.246 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:43:27.247 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:43:27.247 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:43:27.266 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:43:27.267 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:43:27.276 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:43:27.737 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 18:43:27.737 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 18:43:27.737 +02:00 [INF] Hosting environment: Development
2021-09-06 18:43:27.737 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 18:43:29.316 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:43:29.446 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:43:29.459 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:43:29.479 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:43:29.552 +02:00 [INF] Executed ViewResult - view Index executed in 88.3106ms.
2021-09-06 18:43:29.554 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 94.3577ms
2021-09-06 18:43:29.554 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:43:29.557 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 242.3497ms
2021-09-06 18:43:34.785 +02:00 [INF] Application is shutting down...
2021-09-06 18:43:34.807 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-06 18:43:34.808 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-06 18:43:34.812 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-06 18:43:42.819 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:43:42.905 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:43:42.905 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:43:42.905 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:43:42.905 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:43:42.906 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:43:42.906 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:43:42.906 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:43:42.921 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:43:42.922 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:43:42.930 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:43:43.165 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 18:43:43.165 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 18:43:43.165 +02:00 [INF] Hosting environment: Development
2021-09-06 18:43:43.165 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 18:43:57.243 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:43:57.380 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:43:57.393 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:43:57.409 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:43:57.482 +02:00 [INF] Executed ViewResult - view Index executed in 83.8802ms.
2021-09-06 18:43:57.483 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 89.6641ms
2021-09-06 18:43:57.484 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:43:57.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 245.7522ms
2021-09-06 18:45:43.362 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:45:43.823 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-06 18:45:43.893 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-06 18:48:11.286 +02:00 [INF] Application is shutting down...
2021-09-06 18:48:11.303 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-06 18:48:11.304 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-06 18:48:11.307 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-06 18:48:15.425 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:48:15.587 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:48:15.587 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:48:15.592 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:48:15.593 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:48:15.594 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:48:15.595 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:48:15.595 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:48:15.611 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:48:15.613 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:48:15.622 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:48:16.009 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 18:48:16.009 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 18:48:16.009 +02:00 [INF] Hosting environment: Development
2021-09-06 18:48:16.009 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 18:48:17.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:48:17.903 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:48:17.919 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:48:17.938 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:48:18.122 +02:00 [INF] Executed ViewResult - view Index executed in 196.0352ms.
2021-09-06 18:48:18.124 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 203.8693ms
2021-09-06 18:48:18.125 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:48:18.130 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 348.6977ms
2021-09-06 18:48:18.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 18:48:18.141 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 18:48:18.141 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:48:18.141 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:48:18.142 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-06 18:48:18.149 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-06 18:48:18.149 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-06 18:48:18.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 12.6499ms
2021-09-06 18:48:18.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 13.2147ms
2021-09-06 18:48:18.165 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-06 18:48:18.165 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-06 18:48:18.165 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-06 18:48:18.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 27.7125ms
2021-09-06 18:48:18.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 26.0701ms
2021-09-06 18:48:18.169 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 27.9333ms
2021-09-06 18:48:18.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-06 18:48:18.242 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-06 18:48:18.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 2.6862ms
2021-09-06 18:48:57.375 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:48:57.543 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:48:57.544 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:48:57.550 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:48:57.551 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:48:57.553 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:48:57.554 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:48:57.554 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:48:57.574 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:48:57.576 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:48:57.585 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:49:04.504 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:49:04.811 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:49:04.855 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:49:39.269 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:50:13.589 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:50:13.674 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:50:13.675 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:50:13.675 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:50:13.675 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:50:13.677 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:50:13.677 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:50:13.677 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:50:13.691 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:50:13.693 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:50:13.701 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:50:14.183 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:50:14.385 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:50:14.427 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:50:14.627 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:50:14.723 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:51:03.406 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:51:03.564 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:51:03.565 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:51:03.570 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:51:03.570 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:51:03.572 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:51:03.572 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:51:03.572 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:51:03.589 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:51:03.590 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:51:03.600 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:51:09.765 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:51:10.062 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:51:10.104 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:51:16.568 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:51:40.769 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:52:22.965 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:52:23.402 +02:00 [INF] Executed DbCommand (235ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [OpenIdDictServer];
2021-09-06 18:52:23.453 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [OpenIdDictServer] SET READ_COMMITTED_SNAPSHOT ON;
END;
2021-09-06 18:52:23.466 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:52:23.528 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2021-09-06 18:52:23.530 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:52:23.542 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-09-06 18:52:23.546 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-09-06 18:52:23.556 +02:00 [INF] Applying migration '20210906155746_Initial'.
2021-09-06 18:52:23.596 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2021-09-06 18:52:23.598 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2021-09-06 18:52:23.599 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictApplications] (
    [Id] nvarchar(450) NOT NULL,
    [ClientId] nvarchar(100) NULL,
    [ClientSecret] nvarchar(max) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [ConsentType] nvarchar(50) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Permissions] nvarchar(max) NULL,
    [PostLogoutRedirectUris] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedirectUris] nvarchar(max) NULL,
    [Requirements] nvarchar(max) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictApplications] PRIMARY KEY ([Id])
);
2021-09-06 18:52:23.600 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictScopes] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [Description] nvarchar(max) NULL,
    [Descriptions] nvarchar(max) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Name] nvarchar(200) NULL,
    [Properties] nvarchar(max) NULL,
    [Resources] nvarchar(max) NULL,
    CONSTRAINT [PK_OpenIddictScopes] PRIMARY KEY ([Id])
);
2021-09-06 18:52:23.601 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:52:23.602 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:52:23.659 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:52:23.661 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:52:23.662 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-06 18:52:23.664 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictAuthorizations] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [Properties] nvarchar(max) NULL,
    [Scopes] nvarchar(max) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictAuthorizations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictAuthorizations_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]) ON DELETE NO ACTION
);
2021-09-06 18:52:23.665 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictTokens] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [AuthorizationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [ExpirationDate] datetime2 NULL,
    [Payload] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedemptionDate] datetime2 NULL,
    [ReferenceId] nvarchar(100) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictAuthorizations_AuthorizationId] FOREIGN KEY ([AuthorizationId]) REFERENCES [OpenIddictAuthorizations] ([Id]) ON DELETE NO ACTION
);
2021-09-06 18:52:23.666 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2021-09-06 18:52:23.666 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2021-09-06 18:52:23.667 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2021-09-06 18:52:23.667 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2021-09-06 18:52:23.668 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2021-09-06 18:52:25.858 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2021-09-06 18:52:25.858 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2021-09-06 18:52:25.859 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictApplications_ClientId] ON [OpenIddictApplications] ([ClientId]) WHERE [ClientId] IS NOT NULL;
2021-09-06 18:52:25.859 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictAuthorizations_ApplicationId_Status_Subject_Type] ON [OpenIddictAuthorizations] ([ApplicationId], [Status], [Subject], [Type]);
2021-09-06 18:52:25.860 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictScopes_Name] ON [OpenIddictScopes] ([Name]) WHERE [Name] IS NOT NULL;
2021-09-06 18:52:25.861 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_ApplicationId_Status_Subject_Type] ON [OpenIddictTokens] ([ApplicationId], [Status], [Subject], [Type]);
2021-09-06 18:52:25.861 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_AuthorizationId] ON [OpenIddictTokens] ([AuthorizationId]);
2021-09-06 18:52:25.862 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictTokens_ReferenceId] ON [OpenIddictTokens] ([ReferenceId]) WHERE [ReferenceId] IS NOT NULL;
2021-09-06 18:52:25.863 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210906155746_Initial', N'5.0.9');
2021-09-06 18:52:34.055 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:52:34.217 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:52:34.218 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:52:34.229 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:52:34.230 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:52:34.232 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:52:34.233 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:52:34.233 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:52:34.258 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:52:34.261 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:52:34.275 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:52:41.295 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:52:41.593 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:52:41.648 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:53:05.072 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:53:11.211 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:53:11.349 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 18:53:17.900 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:53:20.147 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:53:20.179 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 18:53:29.635 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 18:53:32.319 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 18:53:32.361 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictScopes] ([Id], [ConcurrencyToken], [Description], [Descriptions], [DisplayName], [DisplayNames], [Name], [Properties], [Resources])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2021-09-06 18:53:37.649 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 18:53:37.649 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 18:53:37.652 +02:00 [INF] Hosting environment: Development
2021-09-06 18:53:37.652 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 18:53:38.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:53:39.015 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:53:39.030 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:53:39.052 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:53:39.155 +02:00 [INF] Executed ViewResult - view Index executed in 116.0658ms.
2021-09-06 18:53:39.156 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 123.832ms
2021-09-06 18:53:39.158 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:53:39.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 278.0718ms
2021-09-06 18:53:39.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:53:39.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 18:53:39.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:53:39.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 18:53:39.177 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-06 18:53:39.188 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-06 18:53:39.188 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-06 18:53:39.205 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 29.0845ms
2021-09-06 18:53:39.205 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 28.6898ms
2021-09-06 18:53:39.216 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-06 18:53:39.216 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-06 18:53:39.216 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-06 18:53:39.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 41.5941ms
2021-09-06 18:53:39.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 41.5735ms
2021-09-06 18:53:39.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 42.3438ms
2021-09-06 18:54:01.479 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 18:54:01.647 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 18:54:01.647 +02:00 [INF] Quartz Scheduler created
2021-09-06 18:54:01.652 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 18:54:01.653 +02:00 [INF] RAMJobStore initialized.
2021-09-06 18:54:01.654 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 18:54:01.655 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 18:54:01.655 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 18:54:01.674 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 18:54:01.676 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 18:54:01.686 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 18:54:09.918 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:54:10.197 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 18:54:10.233 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 18:54:15.155 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:54:17.516 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 18:54:23.063 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 18:54:31.720 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 18:54:31.720 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 18:54:31.722 +02:00 [INF] Hosting environment: Development
2021-09-06 18:54:31.722 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 18:54:32.706 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:54:32.857 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:54:32.873 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:54:32.891 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:54:32.997 +02:00 [INF] Executed ViewResult - view Index executed in 116.7962ms.
2021-09-06 18:54:32.999 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 123.9467ms
2021-09-06 18:54:33.000 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:54:33.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 299.0455ms
2021-09-06 18:54:33.017 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 18:54:33.017 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 18:54:33.017 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:54:33.017 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:54:33.017 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-06 18:54:33.027 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-06 18:54:33.027 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-06 18:54:33.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 60.2843ms
2021-09-06 18:54:33.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 63.4400ms
2021-09-06 18:54:33.081 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-06 18:54:33.081 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-06 18:54:33.081 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-06 18:54:33.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 68.4417ms
2021-09-06 18:54:33.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 68.8978ms
2021-09-06 18:54:33.087 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 70.3178ms
2021-09-06 18:55:01.627 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 18:55:01.697 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-06 18:55:01.758 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-06 18:55:27.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:55:27.329 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:55:27.330 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:55:27.331 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:55:32.965 +02:00 [INF] Executed ViewResult - view Index executed in 5633.8959ms.
2021-09-06 18:55:32.965 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 5634.5364ms
2021-09-06 18:55:32.966 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:55:32.967 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 5646.3341ms
2021-09-06 18:55:40.462 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 18:55:40.466 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 18:55:40.480 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 18:55:40.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 17.3721ms
2021-09-06 18:55:40.484 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 18:55:40.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 23.0401ms
2021-09-06 18:55:45.842 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 18:55:45.849 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:55:45.850 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 18:55:45.851 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 18:55:45.855 +02:00 [INF] Executed ViewResult - view Index executed in 3.9349ms.
2021-09-06 18:55:45.855 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 4.5175ms
2021-09-06 18:55:45.856 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 18:55:45.857 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 14.5716ms
2021-09-06 18:55:45.886 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 18:55:45.887 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 18:55:45.887 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 18:55:45.887 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 18:55:45.890 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-06 18:55:45.889 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-06 18:55:45.893 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.5769ms
2021-09-06 18:55:45.899 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-06 18:55:45.899 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-06 18:55:45.900 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-06 18:55:45.900 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.2168ms
2021-09-06 18:55:45.900 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-06 18:55:45.902 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 13.1866ms
2021-09-06 18:55:45.903 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 16.7028ms
2021-09-06 18:55:45.905 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 18.9764ms
2021-09-06 18:55:45.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 18:55:45.973 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 18:55:45.974 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 7.9630ms
2021-09-06 18:55:45.999 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 18:55:46.003 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 18:55:46.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 6.9835ms
2021-09-06 18:55:46.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-06 18:55:46.028 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-06 18:55:46.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 2.4645ms
2021-09-06 19:00:13.674 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 19:00:13.762 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 19:00:13.762 +02:00 [INF] Quartz Scheduler created
2021-09-06 19:00:13.763 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 19:00:13.763 +02:00 [INF] RAMJobStore initialized.
2021-09-06 19:00:13.764 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 19:00:13.764 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 19:00:13.764 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 19:00:13.779 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 19:00:13.780 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 19:00:13.789 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 19:00:14.274 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:00:14.451 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 19:00:14.485 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 19:00:14.688 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:00:14.748 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:00:14.760 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 19:00:15.013 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 19:00:15.014 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 19:00:15.014 +02:00 [INF] Hosting environment: Development
2021-09-06 19:00:15.014 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 19:00:19.154 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 19:00:19.230 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:00:19.242 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:00:19.255 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 19:00:19.330 +02:00 [INF] Executed ViewResult - view Index executed in 82.608ms.
2021-09-06 19:00:19.331 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 88.2212ms
2021-09-06 19:00:19.331 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:00:19.334 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 181.3958ms
2021-09-06 19:01:41.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 19:01:41.620 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:01:41.620 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:01:41.621 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 19:01:43.694 +02:00 [INF] Executed ViewResult - view Index executed in 2073.3862ms.
2021-09-06 19:01:43.694 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 2073.7188ms
2021-09-06 19:01:43.694 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:01:43.694 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 2076.9854ms
2021-09-06 19:01:43.782 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-06 19:01:43.789 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-06 19:01:43.789 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 7.0639ms
2021-09-06 19:03:16.866 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:03:16.868 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:03:16.877 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:03:16.878 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:03:16.896 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:03:16.898 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 31.5180ms
2021-09-06 19:04:13.797 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:04:13.863 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-06 19:04:13.921 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-06 19:05:04.825 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-06 19:05:04.917 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-06 19:05:04.917 +02:00 [INF] Quartz Scheduler created
2021-09-06 19:05:04.917 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-06 19:05:04.918 +02:00 [INF] RAMJobStore initialized.
2021-09-06 19:05:04.919 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-06 19:05:04.919 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-06 19:05:04.919 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-06 19:05:04.935 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-06 19:05:04.936 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-06 19:05:04.944 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-06 19:05:05.440 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:05:05.680 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-06 19:05:05.718 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-06 19:05:05.926 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:05:05.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:05:05.998 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-06 19:05:06.252 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-06 19:05:06.252 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-06 19:05:06.252 +02:00 [INF] Hosting environment: Development
2021-09-06 19:05:06.252 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-06 19:05:18.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:05:18.589 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:05:18.620 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:05:18.629 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:05:18.630 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:05:18.650 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:05:18.658 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 98.1396ms
2021-09-06 19:05:18.667 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:05:18.668 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:05:18.669 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:05:18.670 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:05:18.670 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:05:18.696 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:05:18.697 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 30.3320ms
2021-09-06 19:05:18.723 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=SDFSNEZFOE1VZVB4RkE3RmktRENCSjRyZjVoU204M2NsbjguSGtUfmxZRjBU&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=zK77URCkU1vsHob3nFKTfmewoiVq4lYSfsvIqcBKLiE&code_challenge_method=S256&nonce=SDFSNEZFOE1VZVB4RkE3RmktRENCSjRyZjVoU204M2NsbjguSGtUfmxZRjBU&prompt=none - -
2021-09-06 19:05:18.725 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:05:18.728 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "SDFSNEZFOE1VZVB4RkE3RmktRENCSjRyZjVoU204M2NsbjguSGtUfmxZRjBU",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "zK77URCkU1vsHob3nFKTfmewoiVq4lYSfsvIqcBKLiE",
  "code_challenge_method": "S256",
  "nonce": "SDFSNEZFOE1VZVB4RkE3RmktRENCSjRyZjVoU204M2NsbjguSGtUfmxZRjBU",
  "prompt": "none"
}.
2021-09-06 19:05:18.741 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:05:18.742 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:05:18.761 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:05:18.812 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:05:18.819 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-06 19:05:18.820 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:05:18.820 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-06 19:05:18.823 +02:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-09-06 19:05:18.824 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:05:18.837 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:05:18.842 +02:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-09-06 19:05:18.844 +02:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-06 19:05:18.856 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "error": "login_required",
  "error_description": "The user is not logged in.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2015",
  "state": "SDFSNEZFOE1VZVB4RkE3RmktRENCSjRyZjVoU204M2NsbjguSGtUfmxZRjBU"
}.
2021-09-06 19:05:18.863 +02:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2021-09-06 19:05:18.866 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 26.2618ms
2021-09-06 19:05:18.866 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:05:18.870 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=SDFSNEZFOE1VZVB4RkE3RmktRENCSjRyZjVoU204M2NsbjguSGtUfmxZRjBU&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=zK77URCkU1vsHob3nFKTfmewoiVq4lYSfsvIqcBKLiE&code_challenge_method=S256&nonce=SDFSNEZFOE1VZVB4RkE3RmktRENCSjRyZjVoU204M2NsbjguSGtUfmxZRjBU&prompt=none - - - 302 0 - 146.6315ms
2021-09-06 19:05:28.089 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=UFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=B02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o&code_challenge_method=S256&nonce=UFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj - -
2021-09-06 19:05:28.090 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:05:28.091 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "UFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "B02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o",
  "code_challenge_method": "S256",
  "nonce": "UFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj"
}.
2021-09-06 19:05:28.115 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:05:28.116 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:05:28.118 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:05:28.119 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:05:28.119 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:05:28.122 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2021-09-06 19:05:28.123 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-09-06 19:05:28.123 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 4.1245ms
2021-09-06 19:05:28.123 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:05:28.123 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=UFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=B02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o&code_challenge_method=S256&nonce=UFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj - - - 302 0 - 34.8239ms
2021-09-06 19:05:28.126 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DB02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o%26code_challenge_method%3DS256%26nonce%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj - -
2021-09-06 19:05:28.138 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:05:28.155 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:05:28.173 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:05:28.174 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:05:28.174 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:05:28.176 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:05:28.177 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:05:28.268 +02:00 [INF] Executed page /Account/Login in 112.3071ms
2021-09-06 19:05:28.268 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:05:28.269 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DB02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o%26code_challenge_method%3DS256%26nonce%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj - - - 200 - text/html;+charset=utf-8 143.0050ms
2021-09-06 19:05:28.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-06 19:05:28.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-06 19:05:28.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-06 19:05:28.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-06 19:05:28.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-06 19:05:28.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-06 19:05:28.296 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-06 19:05:28.301 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-06 19:05:28.301 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-06 19:05:28.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.6231ms
2021-09-06 19:05:28.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 4.9198ms
2021-09-06 19:05:28.305 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-06 19:05:28.305 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-06 19:05:28.305 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.9\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-06 19:05:28.305 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-06 19:05:28.305 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.9\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-06 19:05:28.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 8.9910ms
2021-09-06 19:05:28.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 9.9311ms
2021-09-06 19:05:28.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 9.4270ms
2021-09-06 19:05:28.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 8.7480ms
2021-09-06 19:05:28.305 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 8.7719ms
2021-09-06 19:05:28.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:05:28.368 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:05:28.369 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:05:28.375 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 7.4033ms
2021-09-06 19:05:28.377 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:05:28.377 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 9.2268ms
2021-09-06 19:05:28.428 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-06 19:05:28.428 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-06 19:05:28.428 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 0.6000ms
2021-09-06 19:05:50.385 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DB02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o%26code_challenge_method%3DS256%26nonce%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj application/x-www-form-urlencoded 291
2021-09-06 19:05:50.389 +02:00 [INF] CORS policy execution failed.
2021-09-06 19:05:50.389 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-06 19:05:50.389 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:05:50.390 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:05:50.399 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-06 19:05:50.401 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:05:50.407 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-06 19:05:50.409 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:05:50.415 +02:00 [INF] Executed page /Account/Login in 24.7788ms
2021-09-06 19:05:50.415 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:05:50.415 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DB02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o%26code_challenge_method%3DS256%26nonce%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj application/x-www-form-urlencoded 291 - 200 - text/html;+charset=utf-8 30.0609ms
2021-09-06 19:05:50.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:05:50.508 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:05:50.511 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:05:50.511 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 3.4361ms
2021-09-06 19:05:50.513 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:05:50.513 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.7457ms
2021-09-06 19:05:59.015 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-06 19:05:59.018 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 19:05:59.023 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 19:05:59.024 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:05:59.024 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:05:59.024 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:05:59.024 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:05:59.034 +02:00 [INF] Executed page /Account/Register in 11.3131ms
2021-09-06 19:05:59.035 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 19:05:59.035 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 19.4582ms
2021-09-06 19:05:59.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:05:59.112 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:05:59.113 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:05:59.113 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.4522ms
2021-09-06 19:05:59.116 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:05:59.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.2436ms
2021-09-06 19:06:19.217 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Register application/x-www-form-urlencoded 278
2021-09-06 19:06:19.217 +02:00 [INF] CORS policy execution failed.
2021-09-06 19:06:19.217 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-06 19:06:19.218 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 19:06:19.218 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 19:06:19.221 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnPostAsync - ModelState is "Valid"
2021-09-06 19:06:19.236 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:06:19.239 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-06 19:06:19.336 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-09-06 19:06:19.349 +02:00 [INF] User created a new account with password.
2021-09-06 19:06:19.378 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-06 19:06:19.396 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:06:19.400 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-06 19:06:19.400 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-06 19:06:19.400 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-06 19:06:19.400 +02:00 [INF] Executed page /Account/Register in 182.5197ms
2021-09-06 19:06:19.400 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 19:06:19.401 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Register application/x-www-form-urlencoded 278 - 302 0 - 183.5071ms
2021-09-06 19:06:19.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 19:06:19.403 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:06:19.405 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:06:19.408 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 19:06:19.414 +02:00 [INF] Executed ViewResult - view Index executed in 7.9484ms.
2021-09-06 19:06:19.414 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 9.0751ms
2021-09-06 19:06:19.414 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:06:19.414 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 11.1853ms
2021-09-06 19:06:19.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:06:19.500 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:06:19.502 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:06:19.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 3.3022ms
2021-09-06 19:06:19.505 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:06:19.505 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 5.6453ms
2021-09-06 19:06:28.868 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-06 19:06:28.869 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 19:06:28.870 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 19:06:28.870 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:06:28.870 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:06:28.870 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:06:28.870 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:06:28.872 +02:00 [INF] Executed page /Account/Register in 2.4773ms
2021-09-06 19:06:28.872 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 19:06:28.872 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 4.2103ms
2021-09-06 19:06:28.944 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:06:28.947 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:06:28.947 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.1634ms
2021-09-06 19:06:28.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:06:28.963 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:06:28.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.2420ms
2021-09-06 19:06:32.421 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DB02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o%26code_challenge_method%3DS256%26nonce%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj - -
2021-09-06 19:06:32.422 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:06:32.423 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:06:32.423 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:06:32.423 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:06:32.423 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:06:32.424 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:06:32.424 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:06:32.426 +02:00 [INF] Executed page /Account/Login in 2.607ms
2021-09-06 19:06:32.426 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:06:32.426 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DB02K80MSxDoulMwsaKWWFchU3Htwg6BD1n3z1NCpl7o%26code_challenge_method%3DS256%26nonce%3DUFlsZTNyYS5BS1FPdFF6aXI0bEc5Nk85QXYwc1JNV2pjcXJqM00wOTBVdFRj - - - 200 - text/html;+charset=utf-8 4.3826ms
2021-09-06 19:06:32.542 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:06:32.545 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:06:32.545 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.4543ms
2021-09-06 19:06:32.559 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:06:32.561 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:06:32.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.1675ms
2021-09-06 19:06:33.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=WkotYW9CQklrbl8tdU0uUkNDYTREVWsyazBVU1RJUFg2TFBGbElPWktGTFow&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=5jMPIdSaEsh-KnAl1SQL8lOW5jRu_XEOP1WiksXE-2o&code_challenge_method=S256&nonce=WkotYW9CQklrbl8tdU0uUkNDYTREVWsyazBVU1RJUFg2TFBGbElPWktGTFow&prompt=none - -
2021-09-06 19:06:33.841 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:06:33.842 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "WkotYW9CQklrbl8tdU0uUkNDYTREVWsyazBVU1RJUFg2TFBGbElPWktGTFow",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "5jMPIdSaEsh-KnAl1SQL8lOW5jRu_XEOP1WiksXE-2o",
  "code_challenge_method": "S256",
  "nonce": "WkotYW9CQklrbl8tdU0uUkNDYTREVWsyazBVU1RJUFg2TFBGbElPWktGTFow",
  "prompt": "none"
}.
2021-09-06 19:06:33.843 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:06:33.846 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:06:33.850 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:06:33.851 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:06:33.851 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:06:33.855 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:06:33.902 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-06 19:06:33.906 +02:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-06 19:06:33.907 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "error": "consent_required",
  "error_description": "Interactive user consent is required.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2015",
  "state": "WkotYW9CQklrbl8tdU0uUkNDYTREVWsyazBVU1RJUFg2TFBGbElPWktGTFow"
}.
2021-09-06 19:06:33.908 +02:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2021-09-06 19:06:33.908 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 56.3767ms
2021-09-06 19:06:33.908 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:06:33.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=WkotYW9CQklrbl8tdU0uUkNDYTREVWsyazBVU1RJUFg2TFBGbElPWktGTFow&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=5jMPIdSaEsh-KnAl1SQL8lOW5jRu_XEOP1WiksXE-2o&code_challenge_method=S256&nonce=WkotYW9CQklrbl8tdU0uUkNDYTREVWsyazBVU1RJUFg2TFBGbElPWktGTFow&prompt=none - - - 302 0 - 67.4035ms
2021-09-06 19:06:36.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=wGsyYNDady9dcnBpS6oN_t5kW4sSq6_WpVsLFo6zmS0&code_challenge_method=S256&nonce=eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE - -
2021-09-06 19:06:36.368 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:06:36.368 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "wGsyYNDady9dcnBpS6oN_t5kW4sSq6_WpVsLFo6zmS0",
  "code_challenge_method": "S256",
  "nonce": "eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE"
}.
2021-09-06 19:06:36.369 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:06:36.370 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:06:36.371 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:06:36.372 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:06:36.372 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:06:36.373 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:06:36.375 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-06 19:06:36.383 +02:00 [INF] Executing ViewResult, running view Authorize.
2021-09-06 19:06:36.387 +02:00 [INF] Executed ViewResult - view Authorize executed in 11.2109ms.
2021-09-06 19:06:36.387 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 14.7297ms
2021-09-06 19:06:36.387 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:06:36.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=wGsyYNDady9dcnBpS6oN_t5kW4sSq6_WpVsLFo6zmS0&code_challenge_method=S256&nonce=eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE - - - 200 - text/html;+charset=utf-8 19.9394ms
2021-09-06 19:06:36.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:06:36.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:06:36.471 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:06:36.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 18.7758ms
2021-09-06 19:06:36.488 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:06:36.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 20.7065ms
2021-09-06 19:06:46.677 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/authorize application/x-www-form-urlencoded 619
2021-09-06 19:06:46.684 +02:00 [INF] CORS policy execution failed.
2021-09-06 19:06:46.684 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-06 19:06:46.684 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:06:46.684 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "wGsyYNDady9dcnBpS6oN_t5kW4sSq6_WpVsLFo6zmS0",
  "code_challenge_method": "S256",
  "nonce": "eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE",
  "submit.Accept": "Yes",
  "__RequestVerificationToken": "CfDJ8M0irElukjFNtbmp3BlrPn7G6tPofyPJW7wajEue8bbWELcQVS6nEz7ReCb3MV1HC77CdoJWGvRP1WhHCsvhps8CFRNNfIGD-z0WoBN8Zy27cBLk-MQhObHJw3TKXKJ2M-R-B5Skh_ZOqYSuYqu86cXbFv9_QLng7rIFNPImq0UQKdFC-EGug8FBmFypmZC3hQ"
}.
2021-09-06 19:06:46.685 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:06:46.686 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:06:46.686 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:06:46.688 +02:00 [INF] Authorization was successful.
2021-09-06 19:06:46.688 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer)'
2021-09-06 19:06:46.690 +02:00 [INF] Route matched with {action = "Accept", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Accept() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:06:46.693 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:06:46.694 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-06 19:06:46.696 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-06 19:06:46.696 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:06:46.737 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-06 19:06:46.748 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:46.804 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2021-09-06 19:06:46.815 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:06:46.831 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:46.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:46.875 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:06:46.985 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:46.986 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.008 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:06:47.019 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:06:47.024 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "eExQQWh1MXZHLVl1aFJJdEVYZVFCYkF0cWJORXpKYmFDemJaQ0JTRXlLZ0hE;%2Fhome"
}.
2021-09-06 19:06:47.025 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer) in 334.963ms
2021-09-06 19:06:47.026 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer)'
2021-09-06 19:06:47.026 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/authorize application/x-www-form-urlencoded 619 - 302 0 - 348.5674ms
2021-09-06 19:06:47.388 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:06:47.388 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:06:47.389 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:06:47.389 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:06:47.389 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:06:47.390 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:06:47.391 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 2.3549ms
2021-09-06 19:06:47.425 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:06:47.425 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:06:47.426 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:06:47.427 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:06:47.427 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:06:47.428 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:06:47.428 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 3.2062ms
2021-09-06 19:06:47.444 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221
2021-09-06 19:06:47.444 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:06:47.444 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-06 19:06:47.448 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200",
  "code_verifier": "NU4tTGxTYWpfcmZ1di1OQU5uemlhZ1VGS2JsbGRCSXB1XzNTc2xnanlSRGRG",
  "client_id": "angularClient"
}.
2021-09-06 19:06:47.454 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:06:47.455 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:06:47.472 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:06:47.548 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.553 +02:00 [INF] The token request was successfully validated.
2021-09-06 19:06:47.554 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:06:47.556 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:06:47.559 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:06:47.559 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:06:47.566 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:06:47.569 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:06:47.570 +02:00 [INF] The token '394460b6-4f69-42cf-b826-b4c810247996' was successfully marked as redeemed.
2021-09-06 19:06:47.572 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.573 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.574 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:06:47.579 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.579 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.580 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:06:47.589 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.589 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.590 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:06:47.595 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-06 19:06:47.596 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 39.8725ms
2021-09-06 19:06:47.596 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:06:47.596 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221 - 200 6604 application/json;charset=UTF-8 152.2598ms
2021-09-06 19:06:47.601 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-06 19:06:47.601 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:06:47.601 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.7185ms
2021-09-06 19:06:47.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-06 19:06:47.602 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:06:47.602 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-06 19:06:47.604 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-06 19:06:47.612 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:06:47.621 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.625 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:06:47.626 +02:00 [INF] The userinfo request was successfully validated.
2021-09-06 19:06:47.631 +02:00 [INF] Authorization was successful.
2021-09-06 19:06:47.631 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:06:47.633 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-06 19:06:47.635 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:06:47.636 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:06:47.638 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-06 19:06:47.656 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 22.5268ms
2021-09-06 19:06:47.656 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:06:47.656 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 53.7376ms
2021-09-06 19:09:11.752 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:09:11.752 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:09:11.752 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - - - 204 - - 0.3604ms
2021-09-06 19:09:11.753 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:09:11.754 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:09:11.754 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:09:11.754 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:09:11.755 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:09:11.756 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:09:11.756 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 2.3400ms
2021-09-06 19:09:11.807 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - -
2021-09-06 19:09:11.807 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:09:11.807 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - - - 204 - - 0.2884ms
2021-09-06 19:09:11.808 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:09:11.808 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:09:11.808 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:09:11.809 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:09:11.809 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:09:11.810 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:09:11.810 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 2.5888ms
2021-09-06 19:09:12.196 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:09:12.197 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:09:12.197 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:09:12.197 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:09:12.197 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:09:12.198 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 1.1909ms
2021-09-06 19:09:12.294 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:09:12.294 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:09:12.294 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:09:12.294 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:09:12.295 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:09:12.295 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 0.7226ms
2021-09-06 19:10:04.934 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:10:04.960 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-06 19:10:05.009 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-06 19:10:24.659 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:10:24.659 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:10:24.659 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - - - 204 - - 0.3441ms
2021-09-06 19:10:24.660 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:10:24.661 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:10:24.661 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:10:24.661 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:10:24.661 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:10:24.661 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:10:24.662 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 1.1685ms
2021-09-06 19:10:24.714 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - -
2021-09-06 19:10:24.714 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:10:24.714 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - - - 204 - - 0.2977ms
2021-09-06 19:10:24.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:10:24.716 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:10:24.716 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:10:24.716 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:10:24.716 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:10:24.717 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:10:24.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 1.1736ms
2021-09-06 19:11:48.513 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=ekU1RnU4RU02OGM3RH5zb3kuSF9ncmo5Y3JlYlJNNDJsamtEM1lrLXkzS256&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=xoGiE5GKqEyN8Xq_CZLMH3x7q9JTKOUzDSuuuXLMOsE&code_challenge_method=S256&nonce=ekU1RnU4RU02OGM3RH5zb3kuSF9ncmo5Y3JlYlJNNDJsamtEM1lrLXkzS256&prompt=none - -
2021-09-06 19:11:48.513 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:11:48.513 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "ekU1RnU4RU02OGM3RH5zb3kuSF9ncmo5Y3JlYlJNNDJsamtEM1lrLXkzS256",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "xoGiE5GKqEyN8Xq_CZLMH3x7q9JTKOUzDSuuuXLMOsE",
  "code_challenge_method": "S256",
  "nonce": "ekU1RnU4RU02OGM3RH5zb3kuSF9ncmo5Y3JlYlJNNDJsamtEM1lrLXkzS256",
  "prompt": "none"
}.
2021-09-06 19:11:48.514 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:11:48.516 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:11:48.517 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:11:48.517 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:11:48.517 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:11:48.519 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:11:48.526 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-06 19:11:48.528 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-06 19:11:48.530 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:11:48.532 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-06 19:11:48.533 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:11:48.535 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.537 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.539 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:11:48.541 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.545 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:11:48.548 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:11:48.549 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "ekU1RnU4RU02OGM3RH5zb3kuSF9ncmo5Y3JlYlJNNDJsamtEM1lrLXkzS256"
}.
2021-09-06 19:11:48.549 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 31.5854ms
2021-09-06 19:11:48.549 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:11:48.549 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=ekU1RnU4RU02OGM3RH5zb3kuSF9ncmo5Y3JlYlJNNDJsamtEM1lrLXkzS256&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=xoGiE5GKqEyN8Xq_CZLMH3x7q9JTKOUzDSuuuXLMOsE&code_challenge_method=S256&nonce=ekU1RnU4RU02OGM3RH5zb3kuSF9ncmo5Y3JlYlJNNDJsamtEM1lrLXkzS256&prompt=none - - - 302 0 - 35.8981ms
2021-09-06 19:11:48.901 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-06 19:11:48.901 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:11:48.901 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2618ms
2021-09-06 19:11:48.902 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-06 19:11:48.902 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:11:48.902 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-06 19:11:48.903 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "X20zajUtcnhFWnBLd1FlZS11anRUc341ZWxYZnJIWFRHdllMeGtRMUV1Y0xa",
  "client_id": "angularClient"
}.
2021-09-06 19:11:48.904 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:11:48.904 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:11:48.906 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:11:48.910 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.911 +02:00 [INF] The token request was successfully validated.
2021-09-06 19:11:48.911 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:11:48.911 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:11:48.912 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:11:48.912 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:11:48.913 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:11:48.914 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:11:48.914 +02:00 [INF] The token '2782b644-8a69-46ab-8965-f47036bea51d' was successfully marked as redeemed.
2021-09-06 19:11:48.915 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.916 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.917 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:11:48.920 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.920 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.921 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:11:48.924 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.925 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.926 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:11:48.928 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-06 19:11:48.928 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 17.0838ms
2021-09-06 19:11:48.928 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:11:48.928 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 26.1211ms
2021-09-06 19:11:48.934 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-06 19:11:48.934 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:11:48.934 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.3018ms
2021-09-06 19:11:48.935 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-06 19:11:48.935 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:11:48.935 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-06 19:11:48.936 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-06 19:11:48.937 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:11:48.940 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.941 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:11:48.941 +02:00 [INF] The userinfo request was successfully validated.
2021-09-06 19:11:48.942 +02:00 [INF] Authorization was successful.
2021-09-06 19:11:48.942 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:11:48.942 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-06 19:11:48.943 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:11:48.944 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:11:48.944 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-06 19:11:48.944 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.7006ms
2021-09-06 19:11:48.944 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:11:48.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 9.1947ms
2021-09-06 19:14:56.024 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:14:56.025 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:14:56.025 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - - - 204 - - 0.5480ms
2021-09-06 19:14:56.027 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:14:56.027 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:14:56.027 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:14:56.027 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:14:56.027 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:14:56.027 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:14:56.028 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 0.9136ms
2021-09-06 19:14:56.077 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - -
2021-09-06 19:14:56.078 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:14:56.078 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - - - 204 - - 0.2649ms
2021-09-06 19:14:56.079 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:14:56.079 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:14:56.079 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:14:56.079 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:14:56.079 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:14:56.080 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:14:56.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 1.0800ms
2021-09-06 19:14:56.512 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:14:56.512 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:14:56.513 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:14:56.513 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:14:56.513 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:14:56.513 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 0.6110ms
2021-09-06 19:14:56.554 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:14:56.554 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:14:56.554 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:14:56.554 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:14:56.555 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:14:56.555 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 0.8393ms
2021-09-06 19:14:56.591 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/connect/introspect application/x-www-form-urlencoded 2175
2021-09-06 19:14:56.591 +02:00 [INF] The request address matched a server endpoint: "Introspection".
2021-09-06 19:14:56.593 +02:00 [INF] The introspection request was successfully extracted: {
  "client_id": "forecastApi",
  "client_secret": "[redacted]",
  "token": "[redacted]",
  "token_type_hint": "access_token"
}.
2021-09-06 19:14:56.595 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:14:56.597 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:14:56.616 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:14:56.618 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:14:56.620 +02:00 [INF] The introspection request was successfully validated.
2021-09-06 19:14:56.628 +02:00 [INF] The response was successfully returned as a JSON document: {
  "active": true,
  "iss": "https://localhost:5001/",
  "username": "littlepeterr@hotmail.com",
  "sub": "53a48ec8-57f7-49d7-9b7c-fd454ddd4d84",
  "scope": "openid profile email offline_access roles forecast",
  "token_type": "Bearer",
  "token_usage": "access_token",
  "client_id": "angularClient",
  "iat": 1630948308,
  "nbf": 1630948308,
  "exp": 1630951908,
  "aud": "forecastApi",
  "name": "littlepeterr@hotmail.com",
  "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress": "littlepeterr@hotmail.com"
}.
2021-09-06 19:14:56.628 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/connect/introspect application/x-www-form-urlencoded 2175 - 200 543 application/json;charset=UTF-8 36.7090ms
2021-09-06 19:16:49.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=NVlUU3hMbV9GY3ZETFFETWtwU1Y3SzVpV0p1SVIudXRZQTQxU0tDUTJXMH5G&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=iYgtgBwdmndBpUL3XN8v2lY_N0Hx8rJiIpWcAZdWS_4&code_challenge_method=S256&nonce=NVlUU3hMbV9GY3ZETFFETWtwU1Y3SzVpV0p1SVIudXRZQTQxU0tDUTJXMH5G&prompt=none - -
2021-09-06 19:16:49.745 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:16:49.745 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "NVlUU3hMbV9GY3ZETFFETWtwU1Y3SzVpV0p1SVIudXRZQTQxU0tDUTJXMH5G",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "iYgtgBwdmndBpUL3XN8v2lY_N0Hx8rJiIpWcAZdWS_4",
  "code_challenge_method": "S256",
  "nonce": "NVlUU3hMbV9GY3ZETFFETWtwU1Y3SzVpV0p1SVIudXRZQTQxU0tDUTJXMH5G",
  "prompt": "none"
}.
2021-09-06 19:16:49.746 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:16:49.748 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:16:49.748 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:16:49.748 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:16:49.749 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:16:49.750 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:16:49.753 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-06 19:16:49.755 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-06 19:16:49.757 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:16:49.760 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-06 19:16:49.760 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:16:49.762 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:49.763 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:49.766 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:16:49.772 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:49.773 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:49.777 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:16:49.780 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:16:49.781 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "NVlUU3hMbV9GY3ZETFFETWtwU1Y3SzVpV0p1SVIudXRZQTQxU0tDUTJXMH5G"
}.
2021-09-06 19:16:49.781 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 32.3128ms
2021-09-06 19:16:49.781 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:16:49.781 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=NVlUU3hMbV9GY3ZETFFETWtwU1Y3SzVpV0p1SVIudXRZQTQxU0tDUTJXMH5G&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=iYgtgBwdmndBpUL3XN8v2lY_N0Hx8rJiIpWcAZdWS_4&code_challenge_method=S256&nonce=NVlUU3hMbV9GY3ZETFFETWtwU1Y3SzVpV0p1SVIudXRZQTQxU0tDUTJXMH5G&prompt=none - - - 302 0 - 36.3401ms
2021-09-06 19:16:50.158 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-06 19:16:50.158 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:16:50.158 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2690ms
2021-09-06 19:16:50.159 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-06 19:16:50.159 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:16:50.159 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-06 19:16:50.160 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "TGhMSjJJbElDSnp6Zk9XeThZNUhwVUtXWUE2V2RTZUhyTTd2dnpBM29DNEl0",
  "client_id": "angularClient"
}.
2021-09-06 19:16:50.161 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:16:50.162 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:16:50.165 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:16:50.168 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.168 +02:00 [INF] The token request was successfully validated.
2021-09-06 19:16:50.169 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:16:50.169 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:16:50.170 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:16:50.170 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:16:50.171 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:16:50.172 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:16:50.173 +02:00 [INF] The token '14d80196-73fd-419f-9012-90777252409a' was successfully marked as redeemed.
2021-09-06 19:16:50.174 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.174 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.175 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:16:50.177 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.178 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.179 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:16:50.182 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.183 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:16:50.185 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-06 19:16:50.186 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 16.4258ms
2021-09-06 19:16:50.186 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:16:50.186 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 27.0046ms
2021-09-06 19:16:50.190 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-06 19:16:50.190 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:16:50.190 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2423ms
2021-09-06 19:16:50.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-06 19:16:50.191 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:16:50.192 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-06 19:16:50.192 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-06 19:16:50.194 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:16:50.197 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.197 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:16:50.198 +02:00 [INF] The userinfo request was successfully validated.
2021-09-06 19:16:50.198 +02:00 [INF] Authorization was successful.
2021-09-06 19:16:50.198 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:16:50.198 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-06 19:16:50.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:16:50.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:16:50.200 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-06 19:16:50.200 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.3312ms
2021-09-06 19:16:50.200 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:16:50.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 8.4446ms
2021-09-06 19:21:52.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=cUVZbUcybWV3aVlFMjBsYWlzUFRlV1l1MmtuZUZNZXpCcGFJSG5JNU0wQjMx&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QlTZrWdpjsIqaMlGQude8urKv7YPNIOjQ5yQT6lQSrk&code_challenge_method=S256&nonce=cUVZbUcybWV3aVlFMjBsYWlzUFRlV1l1MmtuZUZNZXpCcGFJSG5JNU0wQjMx&prompt=none - -
2021-09-06 19:21:52.305 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:21:52.305 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "cUVZbUcybWV3aVlFMjBsYWlzUFRlV1l1MmtuZUZNZXpCcGFJSG5JNU0wQjMx",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "QlTZrWdpjsIqaMlGQude8urKv7YPNIOjQ5yQT6lQSrk",
  "code_challenge_method": "S256",
  "nonce": "cUVZbUcybWV3aVlFMjBsYWlzUFRlV1l1MmtuZUZNZXpCcGFJSG5JNU0wQjMx",
  "prompt": "none"
}.
2021-09-06 19:21:52.305 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:21:52.356 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:21:52.356 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:21:52.357 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:21:52.357 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:21:52.359 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:21:52.362 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-06 19:21:52.364 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-06 19:21:52.366 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:21:52.368 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-06 19:21:52.368 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:21:52.369 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.370 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.373 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:21:52.375 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.376 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.378 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:21:52.382 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:21:52.382 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "cUVZbUcybWV3aVlFMjBsYWlzUFRlV1l1MmtuZUZNZXpCcGFJSG5JNU0wQjMx"
}.
2021-09-06 19:21:52.382 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 25.4442ms
2021-09-06 19:21:52.382 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:21:52.383 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=cUVZbUcybWV3aVlFMjBsYWlzUFRlV1l1MmtuZUZNZXpCcGFJSG5JNU0wQjMx&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QlTZrWdpjsIqaMlGQude8urKv7YPNIOjQ5yQT6lQSrk&code_challenge_method=S256&nonce=cUVZbUcybWV3aVlFMjBsYWlzUFRlV1l1MmtuZUZNZXpCcGFJSG5JNU0wQjMx&prompt=none - - - 302 0 - 78.2193ms
2021-09-06 19:21:52.740 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-06 19:21:52.740 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:21:52.741 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.4646ms
2021-09-06 19:21:52.742 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-06 19:21:52.742 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:21:52.742 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-06 19:21:52.742 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "TVZtY2pBT2FrNTdWcXUzcUZSejk3QmtXZ0k1MWRkY35JV0c1YjJEenJMYVRz",
  "client_id": "angularClient"
}.
2021-09-06 19:21:52.742 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:21:52.743 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:21:52.744 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:21:52.748 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.748 +02:00 [INF] The token request was successfully validated.
2021-09-06 19:21:52.748 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:21:52.748 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:21:52.749 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:21:52.750 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:21:52.750 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:21:52.751 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:21:52.752 +02:00 [INF] The token '55888f92-ab01-4ede-a0e6-f141db49f2bd' was successfully marked as redeemed.
2021-09-06 19:21:52.752 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.752 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.753 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:21:52.755 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.755 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.756 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:21:52.758 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.758 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.759 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:21:52.760 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-06 19:21:52.760 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 11.6832ms
2021-09-06 19:21:52.760 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:21:52.760 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 18.8907ms
2021-09-06 19:21:52.768 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-06 19:21:52.768 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:21:52.768 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2357ms
2021-09-06 19:21:52.769 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-06 19:21:52.769 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:21:52.769 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-06 19:21:52.769 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-06 19:21:52.770 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:21:52.772 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.773 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:21:52.773 +02:00 [INF] The userinfo request was successfully validated.
2021-09-06 19:21:52.774 +02:00 [INF] Authorization was successful.
2021-09-06 19:21:52.774 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:21:52.774 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-06 19:21:52.774 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:21:52.775 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:21:52.775 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-06 19:21:52.775 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.4197ms
2021-09-06 19:21:52.775 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:21:52.775 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 6.7623ms
2021-09-06 19:23:27.989 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:23:27.989 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:23:27.989 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:23:27.989 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:23:27.989 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:23:27.989 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 0.6063ms
2021-09-06 19:23:28.017 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:23:28.017 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:23:28.018 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:23:28.018 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:23:28.018 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:23:28.018 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 0.6470ms
2021-09-06 19:23:28.043 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/connect/introspect application/x-www-form-urlencoded 2175
2021-09-06 19:23:28.044 +02:00 [INF] The request address matched a server endpoint: "Introspection".
2021-09-06 19:23:28.044 +02:00 [INF] The introspection request was successfully extracted: {
  "client_id": "forecastApi",
  "client_secret": "[redacted]",
  "token": "[redacted]",
  "token_type_hint": "access_token"
}.
2021-09-06 19:23:28.045 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:23:28.047 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:23:28.058 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:23:28.060 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:23:28.060 +02:00 [INF] The introspection request was successfully validated.
2021-09-06 19:23:28.061 +02:00 [INF] The response was successfully returned as a JSON document: {
  "active": true,
  "iss": "https://localhost:5001/",
  "username": "littlepeterr@hotmail.com",
  "sub": "53a48ec8-57f7-49d7-9b7c-fd454ddd4d84",
  "scope": "openid profile email offline_access roles forecast",
  "token_type": "Bearer",
  "token_usage": "access_token",
  "client_id": "angularClient",
  "iat": 1630948308,
  "nbf": 1630948308,
  "exp": 1630951908,
  "aud": "forecastApi",
  "name": "littlepeterr@hotmail.com",
  "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress": "littlepeterr@hotmail.com"
}.
2021-09-06 19:23:28.061 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/connect/introspect application/x-www-form-urlencoded 2175 - 200 543 application/json;charset=UTF-8 17.4302ms
2021-09-06 19:26:51.305 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Qlpsbm40NjBXNnJOcWh4QmpvcGlLV2RSLlNLVERheHhRUVpfflphX1R-ZkFq&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=J977ubJXk0qUGzhs-GY4Z5s4lexAFHkqrytQ3mN6wfw&code_challenge_method=S256&nonce=Qlpsbm40NjBXNnJOcWh4QmpvcGlLV2RSLlNLVERheHhRUVpfflphX1R-ZkFq&prompt=none - -
2021-09-06 19:26:51.305 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:26:51.306 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "Qlpsbm40NjBXNnJOcWh4QmpvcGlLV2RSLlNLVERheHhRUVpfflphX1R-ZkFq",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "J977ubJXk0qUGzhs-GY4Z5s4lexAFHkqrytQ3mN6wfw",
  "code_challenge_method": "S256",
  "nonce": "Qlpsbm40NjBXNnJOcWh4QmpvcGlLV2RSLlNLVERheHhRUVpfflphX1R-ZkFq",
  "prompt": "none"
}.
2021-09-06 19:26:51.306 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:26:51.308 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:26:51.309 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:26:51.309 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:26:51.310 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:26:51.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:26:51.315 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-06 19:26:51.317 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-06 19:26:51.319 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:26:51.321 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-06 19:26:51.321 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:26:51.322 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.323 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.326 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:26:51.340 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.342 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.347 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:26:51.352 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:26:51.353 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "Qlpsbm40NjBXNnJOcWh4QmpvcGlLV2RSLlNLVERheHhRUVpfflphX1R-ZkFq"
}.
2021-09-06 19:26:51.353 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 43.6402ms
2021-09-06 19:26:51.353 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:26:51.354 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Qlpsbm40NjBXNnJOcWh4QmpvcGlLV2RSLlNLVERheHhRUVpfflphX1R-ZkFq&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=J977ubJXk0qUGzhs-GY4Z5s4lexAFHkqrytQ3mN6wfw&code_challenge_method=S256&nonce=Qlpsbm40NjBXNnJOcWh4QmpvcGlLV2RSLlNLVERheHhRUVpfflphX1R-ZkFq&prompt=none - - - 302 0 - 48.2429ms
2021-09-06 19:26:51.725 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-06 19:26:51.725 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:26:51.725 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2200ms
2021-09-06 19:26:51.726 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-06 19:26:51.726 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:26:51.726 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-06 19:26:51.726 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "SGQ1TUV2QmZDVFZRaWs2eHh3ZWRSTWdZSGpOYWsuTWdSZDNxemk5SU5pVmo5",
  "client_id": "angularClient"
}.
2021-09-06 19:26:51.727 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:26:51.727 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:26:51.728 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:26:51.731 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.732 +02:00 [INF] The token request was successfully validated.
2021-09-06 19:26:51.732 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:26:51.732 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:26:51.733 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:26:51.733 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-06 19:26:51.734 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-06 19:26:51.734 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-06 19:26:51.739 +02:00 [INF] The token '3889f902-63eb-4a16-a3cf-50faa54f0fa8' was successfully marked as redeemed.
2021-09-06 19:26:51.739 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.740 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.741 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:26:51.742 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.743 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.744 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:26:51.747 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.747 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.748 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-06 19:26:51.750 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-06 19:26:51.750 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 18.1667ms
2021-09-06 19:26:51.750 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-06 19:26:51.750 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 24.2719ms
2021-09-06 19:26:51.755 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-06 19:26:51.755 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:26:51.755 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.3602ms
2021-09-06 19:26:51.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-06 19:26:51.756 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:26:51.756 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-06 19:26:51.756 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-06 19:26:51.758 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:26:51.760 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.761 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-06 19:26:51.761 +02:00 [INF] The userinfo request was successfully validated.
2021-09-06 19:26:51.762 +02:00 [INF] Authorization was successful.
2021-09-06 19:26:51.762 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:26:51.762 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-06 19:26:51.763 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-06 19:26:51.763 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-06 19:26:51.764 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-06 19:26:51.764 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.7309ms
2021-09-06 19:26:51.764 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-06 19:26:51.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 7.6891ms
2021-09-06 19:29:48.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4NDA1MjZDQjY4MDY2NEQwQUIyQzk3N0YyQzY5MjIwNEE5NkE2QjAiLCJ4NXQiOiJPRUJTYkxhQVprMEtzc2wzOHNhU0lFcVdwckEiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiI1M2E0OGVjOC01N2Y3LTQ5ZDctOWI3Yy1mZDQ1NGRkZDRkODQiLCJuYW1lIjoibGl0dGxlcGV0ZXJyQGhvdG1haWwuY29tIiwib2lfYXVfaWQiOiIwNTFjZTRlNS1lNWU1LTRjMGQtYWQxOS03ZDJlNjkzMmExNmQiLCJhenAiOiJhbmd1bGFyQ2xpZW50Iiwibm9uY2UiOiJRbHBzYm00ME5qQlhObkpPY1doNFFtcHZjR2xMVjJSU0xsTkxWRVJoZUhoUlVWcGZmbHBoWDFSLVprRnEiLCJhdF9oYXNoIjoiRkhRY05qdkkzSFlZZEZndFFmOWVOZyIsIm9pX3Rrbl9pZCI6IjViNTcyMzIyLTJmOTItNDAwMS1iZmVmLTI3NTI5NmMyZmEyYSIsImF1ZCI6ImFuZ3VsYXJDbGllbnQiLCJleHAiOjE2MzA5NTA0MTEsImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvIiwiaWF0IjoxNjMwOTQ5MjExfQ.h8YKMU4eoJd17wRKPSuytTIlzAHQLwbiY8j9GlSbiJ3mFbmytvDWnHdnGgPW_NY8EtoFTaDydmZtT7mLMe0zfH0zqPn7npua7NE1dpT7g2FTDvZnT3WihysFUT9sDFhm6CgJnZ8pugaphqyizdtH1MX7PfP_sMekiR6kdQjmWgr07ytWy2-XB7ooYFpVA1XlLUVZlq6o8h702T6ro2NpePBYPLzgNOQEYZBeG4HMaLUprh7I5I-Vb0cEmEyuYL1j61RbS-0n-nKsXOGrERjZ5Pe7k3z6u5098lkO9sgonc8OK3TtVFAN_4q0rqE8M9dJCXoZeISLjH5roRGGdKQy3g&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2021-09-06 19:29:48.810 +02:00 [INF] The request address matched a server endpoint: "Logout".
2021-09-06 19:29:48.813 +02:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2021-09-06 19:29:48.830 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:29:48.836 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__address_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__address_0 LIKE N'') OR (CHARINDEX(@__address_0, [o].[PostLogoutRedirectUris]) > 0)
2021-09-06 19:29:48.841 +02:00 [INF] The logout request was successfully validated.
2021-09-06 19:29:48.843 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer)'
2021-09-06 19:29:48.843 +02:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:29:48.851 +02:00 [INF] Executing ViewResult, running view Logout.
2021-09-06 19:29:48.854 +02:00 [INF] Executed ViewResult - view Logout executed in 10.38ms.
2021-09-06 19:29:48.854 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer) in 10.6469ms
2021-09-06 19:29:48.854 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer)'
2021-09-06 19:29:48.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4NDA1MjZDQjY4MDY2NEQwQUIyQzk3N0YyQzY5MjIwNEE5NkE2QjAiLCJ4NXQiOiJPRUJTYkxhQVprMEtzc2wzOHNhU0lFcVdwckEiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiI1M2E0OGVjOC01N2Y3LTQ5ZDctOWI3Yy1mZDQ1NGRkZDRkODQiLCJuYW1lIjoibGl0dGxlcGV0ZXJyQGhvdG1haWwuY29tIiwib2lfYXVfaWQiOiIwNTFjZTRlNS1lNWU1LTRjMGQtYWQxOS03ZDJlNjkzMmExNmQiLCJhenAiOiJhbmd1bGFyQ2xpZW50Iiwibm9uY2UiOiJRbHBzYm00ME5qQlhObkpPY1doNFFtcHZjR2xMVjJSU0xsTkxWRVJoZUhoUlVWcGZmbHBoWDFSLVprRnEiLCJhdF9oYXNoIjoiRkhRY05qdkkzSFlZZEZndFFmOWVOZyIsIm9pX3Rrbl9pZCI6IjViNTcyMzIyLTJmOTItNDAwMS1iZmVmLTI3NTI5NmMyZmEyYSIsImF1ZCI6ImFuZ3VsYXJDbGllbnQiLCJleHAiOjE2MzA5NTA0MTEsImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvIiwiaWF0IjoxNjMwOTQ5MjExfQ.h8YKMU4eoJd17wRKPSuytTIlzAHQLwbiY8j9GlSbiJ3mFbmytvDWnHdnGgPW_NY8EtoFTaDydmZtT7mLMe0zfH0zqPn7npua7NE1dpT7g2FTDvZnT3WihysFUT9sDFhm6CgJnZ8pugaphqyizdtH1MX7PfP_sMekiR6kdQjmWgr07ytWy2-XB7ooYFpVA1XlLUVZlq6o8h702T6ro2NpePBYPLzgNOQEYZBeG4HMaLUprh7I5I-Vb0cEmEyuYL1j61RbS-0n-nKsXOGrERjZ5Pe7k3z6u5098lkO9sgonc8OK3TtVFAN_4q0rqE8M9dJCXoZeISLjH5roRGGdKQy3g&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 44.5995ms
2021-09-06 19:29:48.943 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:29:48.946 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:29:48.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.8275ms
2021-09-06 19:29:48.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:29:48.955 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:29:48.956 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.0931ms
2021-09-06 19:30:03.076 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/logout application/x-www-form-urlencoded 1332
2021-09-06 19:30:03.077 +02:00 [INF] CORS policy execution failed.
2021-09-06 19:30:03.077 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-06 19:30:03.077 +02:00 [INF] The request address matched a server endpoint: "Logout".
2021-09-06 19:30:03.077 +02:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8M0irElukjFNtbmp3BlrPn4yMrYsmZra1gYHr78hgdLz_qJXzRxSA74EUiCAvX4rfnPSXUYxV-S5L2fFGRIpwYj_NmSavj3qSvYTzqeOGkm7mHdL1B83nBvKOOP8SaS5JhWM-n9xpFRnNlMLl4hauxQW37zqp7nX1I19Mp65xPE9Xo24ZjvHypw-iAMjEDuFDA"
}.
2021-09-06 19:30:03.078 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:30:03.080 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__address_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__address_0 LIKE N'') OR (CHARINDEX(@__address_0, [o].[PostLogoutRedirectUris]) > 0)
2021-09-06 19:30:03.080 +02:00 [INF] The logout request was successfully validated.
2021-09-06 19:30:03.081 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer)'
2021-09-06 19:30:03.084 +02:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:30:03.085 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-06 19:30:03.085 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:30:03.085 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-06 19:30:03.086 +02:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-06 19:30:03.091 +02:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2021-09-06 19:30:03.092 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer) in 7.8113ms
2021-09-06 19:30:03.092 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer)'
2021-09-06 19:30:03.092 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/logout application/x-www-form-urlencoded 1332 - 302 0 - 15.3398ms
2021-09-06 19:30:03.783 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-06 19:30:03.783 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:30:03.783 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-06 19:30:03.783 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-06 19:30:03.783 +02:00 [INF] The configuration request was successfully validated.
2021-09-06 19:30:03.783 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-06 19:30:03.784 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 0.8780ms
2021-09-06 19:30:03.820 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-06 19:30:03.820 +02:00 [INF] CORS policy execution successful.
2021-09-06 19:30:03.820 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-06 19:30:03.820 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-06 19:30:03.820 +02:00 [INF] The cryptography request was successfully validated.
2021-09-06 19:30:03.821 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-06 19:30:03.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 0.7715ms
2021-09-06 19:30:03.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=a0NsX0czdU5Qb21CfnYwZUNxbkR5QXVJQzB2cmljTjlJYkF0cFJENmdHWjRJ&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=4V5-E2ngzTFvvDgyxqG8wdKdiNGh5UmMMJYNn6bykDI&code_challenge_method=S256&nonce=a0NsX0czdU5Qb21CfnYwZUNxbkR5QXVJQzB2cmljTjlJYkF0cFJENmdHWjRJ&prompt=none - -
2021-09-06 19:30:03.833 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:30:03.833 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "a0NsX0czdU5Qb21CfnYwZUNxbkR5QXVJQzB2cmljTjlJYkF0cFJENmdHWjRJ",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "4V5-E2ngzTFvvDgyxqG8wdKdiNGh5UmMMJYNn6bykDI",
  "code_challenge_method": "S256",
  "nonce": "a0NsX0czdU5Qb21CfnYwZUNxbkR5QXVJQzB2cmljTjlJYkF0cFJENmdHWjRJ",
  "prompt": "none"
}.
2021-09-06 19:30:03.834 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:30:03.835 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:30:03.836 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:30:03.836 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:30:03.836 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:30:03.836 +02:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-06 19:30:03.837 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "error": "login_required",
  "error_description": "The user is not logged in.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2015",
  "state": "a0NsX0czdU5Qb21CfnYwZUNxbkR5QXVJQzB2cmljTjlJYkF0cFJENmdHWjRJ"
}.
2021-09-06 19:30:03.838 +02:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2021-09-06 19:30:03.838 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 1.7098ms
2021-09-06 19:30:03.838 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:30:03.838 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=a0NsX0czdU5Qb21CfnYwZUNxbkR5QXVJQzB2cmljTjlJYkF0cFJENmdHWjRJ&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=4V5-E2ngzTFvvDgyxqG8wdKdiNGh5UmMMJYNn6bykDI&code_challenge_method=S256&nonce=a0NsX0czdU5Qb21CfnYwZUNxbkR5QXVJQzB2cmljTjlJYkF0cFJENmdHWjRJ&prompt=none - - - 302 0 - 4.5259ms
2021-09-06 19:30:10.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=RWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=LL3phEt0byNCHt5KodMa6RY38eJ8c3Ta3RXJ_jN84iI&code_challenge_method=S256&nonce=RWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L - -
2021-09-06 19:30:10.232 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-06 19:30:10.232 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "RWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "LL3phEt0byNCHt5KodMa6RY38eJ8c3Ta3RXJ_jN84iI",
  "code_challenge_method": "S256",
  "nonce": "RWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L"
}.
2021-09-06 19:30:10.233 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:30:10.233 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-06 19:30:10.234 +02:00 [INF] The authorization request was successfully validated.
2021-09-06 19:30:10.234 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:30:10.234 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-06 19:30:10.235 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2021-09-06 19:30:10.235 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-09-06 19:30:10.236 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 0.9938ms
2021-09-06 19:30:10.236 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-06 19:30:10.236 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=RWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=LL3phEt0byNCHt5KodMa6RY38eJ8c3Ta3RXJ_jN84iI&code_challenge_method=S256&nonce=RWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L - - - 302 0 - 4.0589ms
2021-09-06 19:30:10.239 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DRWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DLL3phEt0byNCHt5KodMa6RY38eJ8c3Ta3RXJ_jN84iI%26code_challenge_method%3DS256%26nonce%3DRWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L - -
2021-09-06 19:30:10.239 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:30:10.239 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:30:10.240 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:30:10.240 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:30:10.240 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:30:10.240 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:10.240 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:10.242 +02:00 [INF] Executed page /Account/Login in 2.8941ms
2021-09-06 19:30:10.242 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:30:10.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DRWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DLL3phEt0byNCHt5KodMa6RY38eJ8c3Ta3RXJ_jN84iI%26code_challenge_method%3DS256%26nonce%3DRWtQbUpmZUpSLm94MmhmYWZla3NzR3JNZTlzU2l2ejlwSy5QckMzOG5MWE1L - - - 200 - text/html;+charset=utf-8 3.4866ms
2021-09-06 19:30:10.315 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:10.317 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:10.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.0142ms
2021-09-06 19:30:10.330 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:10.334 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:10.334 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.1318ms
2021-09-06 19:30:20.048 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/ForgotPassword - -
2021-09-06 19:30:20.050 +02:00 [INF] Executing endpoint '/Account/ForgotPassword'
2021-09-06 19:30:20.053 +02:00 [INF] Route matched with {page = "/Account/ForgotPassword", area = "Identity", action = "", controller = ""}. Executing page /Account/ForgotPassword
2021-09-06 19:30:20.053 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:20.053 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:20.059 +02:00 [INF] Executed page /Account/ForgotPassword in 6.1364ms
2021-09-06 19:30:20.059 +02:00 [INF] Executed endpoint '/Account/ForgotPassword'
2021-09-06 19:30:20.059 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/ForgotPassword - - - 200 - text/html;+charset=utf-8 11.6338ms
2021-09-06 19:30:20.138 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:20.138 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:20.140 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:20.140 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.4874ms
2021-09-06 19:30:20.142 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:20.143 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.2075ms
2021-09-06 19:30:24.176 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/ForgotPassword application/x-www-form-urlencoded 221
2021-09-06 19:30:24.177 +02:00 [INF] CORS policy execution failed.
2021-09-06 19:30:24.177 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-06 19:30:24.177 +02:00 [INF] Executing endpoint '/Account/ForgotPassword'
2021-09-06 19:30:24.177 +02:00 [INF] Route matched with {page = "/Account/ForgotPassword", area = "Identity", action = "", controller = ""}. Executing page /Account/ForgotPassword
2021-09-06 19:30:24.180 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.ForgotPasswordModel.OnPostAsync - ModelState is "Valid"
2021-09-06 19:30:24.182 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 19:30:24.188 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-06 19:30:24.189 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2021-09-06 19:30:24.189 +02:00 [INF] Executing RedirectToPageResult, redirecting to ./ForgotPasswordConfirmation.
2021-09-06 19:30:24.189 +02:00 [INF] Executed page /Account/ForgotPassword in 12.3985ms
2021-09-06 19:30:24.189 +02:00 [INF] Executed endpoint '/Account/ForgotPassword'
2021-09-06 19:30:24.189 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/ForgotPassword application/x-www-form-urlencoded 221 - 302 0 - 13.0200ms
2021-09-06 19:30:24.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/ForgotPasswordConfirmation - -
2021-09-06 19:30:24.193 +02:00 [INF] Executing endpoint '/Account/ForgotPasswordConfirmation'
2021-09-06 19:30:24.194 +02:00 [INF] Route matched with {page = "/Account/ForgotPasswordConfirmation", area = "Identity", action = "", controller = ""}. Executing page /Account/ForgotPasswordConfirmation
2021-09-06 19:30:24.194 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.ForgotPasswordConfirmation.OnGet - ModelState is "Valid"
2021-09-06 19:30:24.194 +02:00 [INF] Executed handler method OnGet, returned result .
2021-09-06 19:30:24.194 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:24.194 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:24.196 +02:00 [INF] Executed page /Account/ForgotPasswordConfirmation in 2.0043ms
2021-09-06 19:30:24.196 +02:00 [INF] Executed endpoint '/Account/ForgotPasswordConfirmation'
2021-09-06 19:30:24.196 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/ForgotPasswordConfirmation - - - 200 - text/html;+charset=utf-8 4.5516ms
2021-09-06 19:30:24.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:24.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:24.270 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:24.271 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 3.0321ms
2021-09-06 19:30:24.273 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:24.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.4050ms
2021-09-06 19:30:30.110 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-06 19:30:30.111 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 19:30:30.111 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 19:30:30.112 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:30:30.112 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:30:30.112 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:30.112 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:30.115 +02:00 [INF] Executed page /Account/Register in 4.1903ms
2021-09-06 19:30:30.115 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 19:30:30.115 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 4.8983ms
2021-09-06 19:30:30.181 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:30.185 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:30.185 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.0056ms
2021-09-06 19:30:30.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:30.197 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:30.197 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.3429ms
2021-09-06 19:30:39.174 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Home/Privacy - -
2021-09-06 19:30:39.174 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer)'
2021-09-06 19:30:39.176 +02:00 [INF] Route matched with {action = "Privacy", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Privacy() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:30:39.184 +02:00 [INF] Executing ViewResult, running view Privacy.
2021-09-06 19:30:39.186 +02:00 [INF] Executed ViewResult - view Privacy executed in 9.4785ms.
2021-09-06 19:30:39.186 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer) in 9.8458ms
2021-09-06 19:30:39.186 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer)'
2021-09-06 19:30:39.186 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Home/Privacy - - - 200 - text/html;+charset=utf-8 11.6246ms
2021-09-06 19:30:39.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:39.261 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:39.264 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:39.264 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.8277ms
2021-09-06 19:30:39.266 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:39.266 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.3829ms
2021-09-06 19:30:40.907 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 19:30:40.908 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:30:40.908 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:30:40.908 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 19:30:40.909 +02:00 [INF] Executed ViewResult - view Index executed in 1.0354ms.
2021-09-06 19:30:40.909 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.2304ms
2021-09-06 19:30:40.909 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:30:40.909 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.8123ms
2021-09-06 19:30:40.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:40.983 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:40.985 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:40.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.9619ms
2021-09-06 19:30:40.987 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:40.987 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.3547ms
2021-09-06 19:30:42.589 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 19:30:42.589 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:30:42.589 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:30:42.589 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 19:30:42.590 +02:00 [INF] Executed ViewResult - view Index executed in 1.0413ms.
2021-09-06 19:30:42.590 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.2557ms
2021-09-06 19:30:42.590 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:30:42.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 2.0142ms
2021-09-06 19:30:42.662 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:42.662 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:42.665 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:42.665 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 3.1156ms
2021-09-06 19:30:42.666 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:42.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.5832ms
2021-09-06 19:30:44.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-06 19:30:44.289 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 19:30:44.290 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 19:30:44.290 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:30:44.290 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:30:44.290 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:44.290 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:44.291 +02:00 [INF] Executed page /Account/Register in 1.7164ms
2021-09-06 19:30:44.291 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 19:30:44.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 2.6014ms
2021-09-06 19:30:44.357 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:44.359 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:44.359 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 1.9886ms
2021-09-06 19:30:44.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:44.370 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:44.370 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.4374ms
2021-09-06 19:30:45.871 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-06 19:30:45.871 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:30:45.871 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:30:45.872 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:30:45.872 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:30:45.872 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:30:45.872 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:45.872 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:45.874 +02:00 [INF] Executed page /Account/Login in 2.6199ms
2021-09-06 19:30:45.874 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:30:45.874 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 3.2886ms
2021-09-06 19:30:45.956 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:45.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:45.959 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:45.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 3.0711ms
2021-09-06 19:30:45.963 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:45.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.6388ms
2021-09-06 19:30:48.977 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register?returnUrl=%2F - -
2021-09-06 19:30:48.977 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 19:30:48.977 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 19:30:48.978 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:30:48.978 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:30:48.978 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:48.978 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:48.979 +02:00 [INF] Executed page /Account/Register in 1.8526ms
2021-09-06 19:30:48.979 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 19:30:48.979 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register?returnUrl=%2F - - - 200 - text/html;+charset=utf-8 2.5103ms
2021-09-06 19:30:49.049 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:49.051 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:49.051 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:49.052 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.2165ms
2021-09-06 19:30:49.055 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:49.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.1550ms
2021-09-06 19:30:51.746 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-06 19:30:51.746 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:30:51.747 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:30:51.747 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:30:51.747 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:30:51.747 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:30:51.747 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:51.747 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:51.749 +02:00 [INF] Executed page /Account/Login in 2.0908ms
2021-09-06 19:30:51.749 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:30:51.749 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 2.7664ms
2021-09-06 19:30:51.819 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:51.819 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:51.821 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:51.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.7512ms
2021-09-06 19:30:51.823 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:51.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.4216ms
2021-09-06 19:30:55.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/ResendEmailConfirmation - -
2021-09-06 19:30:55.670 +02:00 [INF] Executing endpoint '/Account/ResendEmailConfirmation'
2021-09-06 19:30:55.672 +02:00 [INF] Route matched with {page = "/Account/ResendEmailConfirmation", area = "Identity", action = "", controller = ""}. Executing page /Account/ResendEmailConfirmation
2021-09-06 19:30:55.673 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.ResendEmailConfirmationModel.OnGet - ModelState is "Valid"
2021-09-06 19:30:55.673 +02:00 [INF] Executed handler method OnGet, returned result .
2021-09-06 19:30:55.673 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:55.673 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:55.679 +02:00 [INF] Executed page /Account/ResendEmailConfirmation in 6.6977ms
2021-09-06 19:30:55.679 +02:00 [INF] Executed endpoint '/Account/ResendEmailConfirmation'
2021-09-06 19:30:55.679 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/ResendEmailConfirmation - - - 200 - text/html;+charset=utf-8 11.3909ms
2021-09-06 19:30:55.750 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:55.751 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:55.753 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:55.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 3.1255ms
2021-09-06 19:30:55.755 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:55.755 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.6902ms
2021-09-06 19:30:58.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-06 19:30:58.841 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:30:58.841 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:30:58.842 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:30:58.842 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:30:58.842 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:30:58.842 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:30:58.842 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:30:58.843 +02:00 [INF] Executed page /Account/Login in 2.1191ms
2021-09-06 19:30:58.844 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:30:58.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 2.7551ms
2021-09-06 19:30:58.926 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:30:58.930 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:30:58.930 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.1205ms
2021-09-06 19:30:58.944 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:30:58.947 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:30:58.947 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.7518ms
2021-09-06 19:31:08.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register?returnUrl=%2F - -
2021-09-06 19:31:08.008 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-06 19:31:08.008 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-06 19:31:08.008 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:31:08.008 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:31:08.008 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:31:08.008 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:31:08.010 +02:00 [INF] Executed page /Account/Register in 2.1915ms
2021-09-06 19:31:08.010 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-06 19:31:08.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register?returnUrl=%2F - - - 200 - text/html;+charset=utf-8 2.8686ms
2021-09-06 19:31:08.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:31:08.084 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:31:08.102 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:31:08.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 19.5353ms
2021-09-06 19:31:08.105 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:31:08.105 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 21.1698ms
2021-09-06 19:31:10.761 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-06 19:31:10.761 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:31:10.761 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:31:10.761 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:31:10.762 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:31:10.762 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:31:10.762 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:31:10.762 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:31:10.762 +02:00 [INF] Executed page /Account/Login in 1.2214ms
2021-09-06 19:31:10.762 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:31:10.763 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 1.6965ms
2021-09-06 19:31:10.831 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:31:10.832 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:31:10.833 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:31:10.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 15.1867ms
2021-09-06 19:31:10.849 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:31:10.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 17.1793ms
2021-09-06 19:45:46.317 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/ForgotPassword - -
2021-09-06 19:45:46.317 +02:00 [INF] Executing endpoint '/Account/ForgotPassword'
2021-09-06 19:45:46.317 +02:00 [INF] Route matched with {page = "/Account/ForgotPassword", area = "Identity", action = "", controller = ""}. Executing page /Account/ForgotPassword
2021-09-06 19:45:46.318 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:45:46.318 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:45:46.319 +02:00 [INF] Executed page /Account/ForgotPassword in 1.9211ms
2021-09-06 19:45:46.320 +02:00 [INF] Executed endpoint '/Account/ForgotPassword'
2021-09-06 19:45:46.320 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/ForgotPassword - - - 200 - text/html;+charset=utf-8 2.9689ms
2021-09-06 19:45:46.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:45:46.414 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:45:46.415 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:45:46.415 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.3997ms
2021-09-06 19:45:46.418 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:45:46.418 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.0280ms
2021-09-06 19:45:51.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 19:45:51.531 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:45:51.531 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:45:51.531 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 19:45:51.532 +02:00 [INF] Executed ViewResult - view Index executed in 0.6391ms.
2021-09-06 19:45:51.532 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 0.8065ms
2021-09-06 19:45:51.532 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:45:51.532 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.3658ms
2021-09-06 19:45:51.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:45:51.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:45:51.621 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:45:51.622 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 21.0461ms
2021-09-06 19:45:51.623 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:45:51.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 22.8285ms
2021-09-06 19:45:58.347 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 19:45:58.348 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:45:58.348 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:45:58.348 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 19:45:58.348 +02:00 [INF] Executed ViewResult - view Index executed in 0.4791ms.
2021-09-06 19:45:58.348 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 0.6332ms
2021-09-06 19:45:58.348 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:45:58.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.1503ms
2021-09-06 19:45:58.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:45:58.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:45:58.423 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:45:58.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 3.1451ms
2021-09-06 19:45:58.424 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:45:58.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.6183ms
2021-09-06 19:46:01.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-06 19:46:01.739 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-06 19:46:01.739 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-06 19:46:01.739 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-06 19:46:01.739 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-06 19:46:01.739 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-06 19:46:01.739 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-06 19:46:01.739 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-06 19:46:01.740 +02:00 [INF] Executed page /Account/Login in 1.4789ms
2021-09-06 19:46:01.740 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-06 19:46:01.741 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 2.0129ms
2021-09-06 19:46:01.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:46:01.802 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:46:01.802 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 1.8274ms
2021-09-06 19:46:01.812 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:46:01.816 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:46:01.816 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.9749ms
2021-09-06 19:48:27.210 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-06 19:48:27.210 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:48:27.210 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-06 19:48:27.211 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-06 19:48:27.211 +02:00 [INF] Executed ViewResult - view Index executed in 0.5448ms.
2021-09-06 19:48:27.211 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 0.7436ms
2021-09-06 19:48:27.211 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-06 19:48:27.211 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.3522ms
2021-09-06 19:48:27.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-06 19:48:27.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-06 19:48:27.313 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-06 19:48:27.313 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 12.7521ms
2021-09-06 19:48:27.314 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-06 19:48:27.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 13.9171ms
2021-09-06 20:10:04.899 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-06 20:10:05.784 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-06 20:10:05.794 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 08:59:50.045 +02:00 [INF] Application is shutting down...
2021-09-07 08:59:50.066 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 08:59:50.067 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 08:59:50.070 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 09:00:15.440 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 09:00:15.524 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 09:00:15.525 +02:00 [INF] Quartz Scheduler created
2021-09-07 09:00:15.525 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 09:00:15.525 +02:00 [INF] RAMJobStore initialized.
2021-09-07 09:00:15.526 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 09:00:15.526 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 09:00:15.526 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 09:00:15.541 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 09:00:15.542 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 09:00:15.550 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 09:00:16.047 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:00:17.131 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 09:00:17.191 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 09:00:17.412 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:00:17.475 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:00:17.488 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 09:00:17.766 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 09:00:17.766 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 09:00:17.766 +02:00 [INF] Hosting environment: Development
2021-09-07 09:00:17.766 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 09:08:15.562 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:08:15.675 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 09:08:15.730 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 09:16:36.472 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 09:16:36.560 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 09:16:36.560 +02:00 [INF] Quartz Scheduler created
2021-09-07 09:16:36.560 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 09:16:36.560 +02:00 [INF] RAMJobStore initialized.
2021-09-07 09:16:36.562 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 09:16:36.562 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 09:16:36.562 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 09:16:36.580 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 09:16:36.581 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 09:16:36.589 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 09:16:37.077 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:16:42.039 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 09:16:42.148 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 09:16:42.148 +02:00 [INF] Quartz Scheduler created
2021-09-07 09:16:42.148 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 09:16:42.148 +02:00 [INF] RAMJobStore initialized.
2021-09-07 09:16:42.150 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 09:16:42.150 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 09:16:42.150 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 09:16:42.173 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 09:16:42.176 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 09:16:42.188 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 09:16:42.753 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:16:43.646 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 09:16:43.695 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 09:16:43.905 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:16:43.966 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:16:43.978 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 09:16:44.230 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 09:16:44.231 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 09:16:44.231 +02:00 [INF] Hosting environment: Development
2021-09-07 09:16:44.231 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 09:18:11.849 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 09:18:11.936 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 09:18:11.936 +02:00 [INF] Quartz Scheduler created
2021-09-07 09:18:11.936 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 09:18:11.937 +02:00 [INF] RAMJobStore initialized.
2021-09-07 09:18:11.938 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 09:18:11.938 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 09:18:11.938 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 09:18:11.954 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 09:18:11.955 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 09:18:11.964 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 09:18:12.519 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:18:13.398 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 09:18:13.449 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 09:18:13.659 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:18:13.734 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:18:13.750 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 09:18:14.022 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 09:18:14.022 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 09:18:14.022 +02:00 [INF] Hosting environment: Development
2021-09-07 09:18:14.022 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 09:19:10.709 +02:00 [INF] Application is shutting down...
2021-09-07 09:19:10.727 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 09:19:10.728 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 09:19:10.731 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 09:22:34.368 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 09:22:34.529 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 09:22:34.529 +02:00 [INF] Quartz Scheduler created
2021-09-07 09:22:34.531 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 09:22:34.537 +02:00 [INF] RAMJobStore initialized.
2021-09-07 09:22:34.539 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 09:22:34.540 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 09:22:34.540 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 09:22:34.556 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 09:22:34.558 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 09:22:34.568 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 09:22:35.123 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:22:35.425 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 09:22:35.469 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 09:22:35.698 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:22:35.768 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:22:35.783 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 09:22:36.235 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 09:22:36.236 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 09:22:36.237 +02:00 [INF] Hosting environment: Development
2021-09-07 09:22:36.237 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 09:22:37.275 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 09:22:37.560 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 09:22:37.576 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 09:22:37.593 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 09:22:37.702 +02:00 [INF] Executed ViewResult - view Index executed in 119.348ms.
2021-09-07 09:22:37.704 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 126.5295ms
2021-09-07 09:22:37.705 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 09:22:37.710 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 436.9221ms
2021-09-07 09:22:37.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 09:22:37.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 09:22:37.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 09:22:37.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 09:22:37.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 09:22:37.734 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 09:22:37.734 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 09:22:37.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 18.0101ms
2021-09-07 09:22:37.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 18.0551ms
2021-09-07 09:22:37.745 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 09:22:37.745 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 09:22:37.745 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 09:22:37.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 23.3588ms
2021-09-07 09:22:37.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 23.3484ms
2021-09-07 09:22:37.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 23.7868ms
2021-09-07 09:22:40.916 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 09:22:40.935 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 09:22:40.953 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 09:22:40.969 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 09:22:40.977 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 09:22:40.978 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 09:22:40.981 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 09:22:40.982 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:22:41.048 +02:00 [INF] Executed page /Account/Login in 94.5218ms
2021-09-07 09:22:41.048 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 09:22:41.050 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 134.1624ms
2021-09-07 09:22:41.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 09:22:41.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 09:22:41.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 09:22:41.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 09:22:41.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 09:22:41.060 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 09:22:41.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 09:22:41.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 4.3405ms
2021-09-07 09:22:41.061 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 09:22:41.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 09:22:41.066 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 6.8271ms
2021-09-07 09:22:41.066 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 09:22:41.068 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 09:22:41.068 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 09:22:41.069 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 10.9043ms
2021-09-07 09:22:41.070 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 11.7295ms
2021-09-07 09:22:41.077 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 19.0935ms
2021-09-07 09:22:41.085 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 09:22:41.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 26.7172ms
2021-09-07 09:22:41.089 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 09:22:41.091 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 31.6311ms
2021-09-07 09:23:09.717 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 09:23:09.876 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 09:23:09.877 +02:00 [INF] Quartz Scheduler created
2021-09-07 09:23:09.883 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 09:23:09.884 +02:00 [INF] RAMJobStore initialized.
2021-09-07 09:23:09.886 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 09:23:09.887 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 09:23:09.887 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 09:23:09.905 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 09:23:09.906 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 09:23:09.916 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 09:23:10.512 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:23:10.806 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 09:23:10.849 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 09:23:11.102 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:23:11.168 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:23:11.187 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 09:23:11.595 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 09:23:11.596 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 09:23:11.597 +02:00 [INF] Hosting environment: Development
2021-09-07 09:23:11.598 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 09:23:12.449 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 09:23:12.596 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 09:23:12.622 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 09:23:12.644 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 09:23:12.751 +02:00 [INF] Executed ViewResult - view Index executed in 121.24ms.
2021-09-07 09:23:12.753 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 129.1564ms
2021-09-07 09:23:12.754 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 09:23:12.758 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 310.1032ms
2021-09-07 09:23:12.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 09:23:12.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 09:23:12.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 09:23:12.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 09:23:12.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 09:23:12.782 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 09:23:12.782 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 09:23:12.790 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 17.3625ms
2021-09-07 09:23:12.790 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 17.7971ms
2021-09-07 09:23:12.795 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 09:23:12.795 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 09:23:12.795 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 09:23:12.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 25.1134ms
2021-09-07 09:23:12.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 25.2083ms
2021-09-07 09:23:12.798 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 26.6135ms
2021-09-07 09:23:15.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 09:23:15.345 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 09:23:15.361 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 09:23:15.376 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 09:23:15.385 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 09:23:15.386 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 09:23:15.389 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 09:23:15.389 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:23:15.440 +02:00 [INF] Executed page /Account/Login in 78.4108ms
2021-09-07 09:23:15.441 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 09:23:15.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 119.7562ms
2021-09-07 09:23:15.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 09:23:15.453 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 09:23:15.455 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 09:23:15.455 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 09:23:15.455 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 09:23:15.456 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 09:23:15.457 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 09:23:15.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.1324ms
2021-09-07 09:23:15.459 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 09:23:15.459 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 09:23:15.460 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 4.7931ms
2021-09-07 09:23:15.460 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 09:23:15.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 6.8634ms
2021-09-07 09:23:15.455 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 09:23:15.455 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 09:23:15.467 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 14.2913ms
2021-09-07 09:23:15.470 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 15.3449ms
2021-09-07 09:23:15.474 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 09:23:15.474 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 09:23:15.475 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 20.3268ms
2021-09-07 09:23:15.477 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 21.7010ms
2021-09-07 09:28:08.431 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 09:28:08.514 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 09:28:08.515 +02:00 [INF] Quartz Scheduler created
2021-09-07 09:28:08.515 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 09:28:08.515 +02:00 [INF] RAMJobStore initialized.
2021-09-07 09:28:08.516 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 09:28:08.516 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 09:28:08.516 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 09:28:08.531 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 09:28:08.532 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 09:28:08.542 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 09:28:09.018 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:28:09.234 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 09:28:09.274 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 09:28:09.483 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:28:09.543 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 09:28:09.555 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 09:28:09.820 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 09:28:09.820 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 09:28:09.820 +02:00 [INF] Hosting environment: Development
2021-09-07 09:28:09.821 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 09:28:15.214 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 09:28:15.284 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 09:28:15.296 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 09:28:15.308 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 09:28:15.380 +02:00 [INF] Executed ViewResult - view Index executed in 79.2958ms.
2021-09-07 09:28:15.380 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 83.877ms
2021-09-07 09:28:15.380 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 09:28:15.383 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 170.7333ms
2021-09-07 09:28:18.256 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-07 09:28:18.263 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-07 09:28:18.279 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-07 09:28:18.291 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-07 09:28:18.292 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 09:28:18.294 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 09:28:18.295 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:28:18.329 +02:00 [INF] Executed page /Account/Register in 49.6783ms
2021-09-07 09:28:18.329 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-07 09:28:18.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 73.8734ms
2021-09-07 09:28:23.785 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 09:28:23.796 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 09:28:23.800 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 09:28:23.806 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 09:28:23.811 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 09:28:23.811 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 09:28:23.811 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 09:28:23.811 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:28:23.829 +02:00 [INF] Executed page /Account/Login in 29.5652ms
2021-09-07 09:28:23.829 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 09:28:23.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 44.4052ms
2021-09-07 09:28:25.715 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 09:28:25.717 +02:00 [INF] CORS policy execution failed.
2021-09-07 09:28:25.718 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 09:28:25.718 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 09:28:25.718 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 09:28:25.729 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 09:28:25.732 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:28:25.740 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 09:28:25.812 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 09:28:25.830 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 09:28:25.835 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 09:28:25.836 +02:00 [INF] User logged in.
2021-09-07 09:28:25.837 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 09:28:25.838 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 09:28:25.839 +02:00 [INF] Executed page /Account/Login in 120.3593ms
2021-09-07 09:28:25.839 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 09:28:25.841 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 302 0 - 126.5111ms
2021-09-07 09:28:25.843 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 09:28:25.846 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 09:28:25.846 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 09:28:25.846 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 09:28:25.848 +02:00 [INF] Executed ViewResult - view Index executed in 2.1001ms.
2021-09-07 09:28:25.848 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 2.3291ms
2021-09-07 09:28:25.848 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 09:28:25.848 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 5.2760ms
2021-09-07 09:28:29.634 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 09:28:29.639 +02:00 [INF] Authorization was successful.
2021-09-07 09:28:29.640 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 09:28:29.642 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 09:28:29.643 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 09:28:29.666 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:28:29.674 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 09:28:29.676 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:28:29.695 +02:00 [INF] Executed page /Account/Manage/Index in 52.8069ms
2021-09-07 09:28:29.695 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 09:28:29.696 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 61.7081ms
2021-09-07 09:28:32.318 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - -
2021-09-07 09:28:32.321 +02:00 [INF] Authorization was successful.
2021-09-07 09:28:32.321 +02:00 [INF] Executing endpoint '/Account/Manage/Email'
2021-09-07 09:28:32.324 +02:00 [INF] Route matched with {page = "/Account/Manage/Email", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Email
2021-09-07 09:28:32.324 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EmailModel.OnGetAsync - ModelState is "Valid"
2021-09-07 09:28:32.325 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:28:32.326 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 09:28:32.328 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:28:32.339 +02:00 [INF] Executed page /Account/Manage/Email in 14.7203ms
2021-09-07 09:28:32.339 +02:00 [INF] Executed endpoint '/Account/Manage/Email'
2021-09-07 09:28:32.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - - - 200 - text/html;+charset=utf-8 20.4924ms
2021-09-07 09:28:34.803 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - -
2021-09-07 09:28:34.807 +02:00 [INF] Authorization was successful.
2021-09-07 09:28:34.807 +02:00 [INF] Executing endpoint '/Account/Manage/ChangePassword'
2021-09-07 09:28:34.809 +02:00 [INF] Route matched with {page = "/Account/Manage/ChangePassword", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ChangePassword
2021-09-07 09:28:34.810 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ChangePasswordModel.OnGetAsync - ModelState is "Valid"
2021-09-07 09:28:34.811 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:28:34.812 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 09:28:34.812 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:28:34.822 +02:00 [INF] Executed page /Account/Manage/ChangePassword in 12.7924ms
2021-09-07 09:28:34.822 +02:00 [INF] Executed endpoint '/Account/Manage/ChangePassword'
2021-09-07 09:28:34.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - - - 200 - text/html;+charset=utf-8 19.9127ms
2021-09-07 09:28:36.700 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-07 09:28:36.702 +02:00 [INF] Authorization was successful.
2021-09-07 09:28:36.702 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 09:28:36.705 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-07 09:28:36.705 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-07 09:28:36.706 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:28:36.707 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 09:28:36.713 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 09:28:36.716 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 09:28:36.717 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:28:36.723 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 18.7436ms
2021-09-07 09:28:36.724 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 09:28:36.724 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 23.6407ms
2021-09-07 09:28:44.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - -
2021-09-07 09:28:44.059 +02:00 [INF] Authorization was successful.
2021-09-07 09:28:44.060 +02:00 [INF] Executing endpoint '/Account/Manage/PersonalData'
2021-09-07 09:28:44.062 +02:00 [INF] Route matched with {page = "/Account/Manage/PersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/PersonalData
2021-09-07 09:28:44.062 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.PersonalDataModel.OnGet - ModelState is "Valid"
2021-09-07 09:28:44.063 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:28:44.064 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 09:28:44.065 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 09:28:44.068 +02:00 [INF] Executed page /Account/Manage/PersonalData in 6.3958ms
2021-09-07 09:28:44.068 +02:00 [INF] Executed endpoint '/Account/Manage/PersonalData'
2021-09-07 09:28:44.069 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - - - 200 - text/html;+charset=utf-8 10.3883ms
2021-09-07 09:35:08.513 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 09:35:08.599 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 09:35:08.655 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 10:32:06.000 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2021-09-07 10:32:06.001 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:32:06.001 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:32:06.004 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:32:06.793 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:32:06.797 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 10:32:06.799 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 10:32:06.801 +02:00 [INF] Executing endpoint '/Account/Logout'
2021-09-07 10:32:06.804 +02:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2021-09-07 10:32:06.805 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LogoutModel.OnPost - ModelState is "Valid"
2021-09-07 10:32:06.806 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 10:32:06.806 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:32:06.806 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 10:32:06.806 +02:00 [INF] User logged out.
2021-09-07 10:32:06.806 +02:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 10:32:06.807 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 10:32:06.807 +02:00 [INF] Executed page /Account/Logout in 3.0426ms
2021-09-07 10:32:06.807 +02:00 [INF] Executed endpoint '/Account/Logout'
2021-09-07 10:32:06.807 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 807.4208ms
2021-09-07 10:32:06.809 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:32:06.810 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:32:06.810 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:32:06.810 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:32:06.812 +02:00 [INF] Executed ViewResult - view Index executed in 1.7094ms.
2021-09-07 10:32:06.812 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.9573ms
2021-09-07 10:32:06.812 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:32:06.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 2.8101ms
2021-09-07 10:32:08.750 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-07 10:32:08.750 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-07 10:32:08.750 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-07 10:32:08.751 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:32:08.751 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:32:08.751 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:32:08.751 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:32:08.754 +02:00 [INF] Executed page /Account/Register in 3.3836ms
2021-09-07 10:32:08.754 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-07 10:32:08.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 4.0627ms
2021-09-07 10:32:50.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:32:50.807 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:32:50.807 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:32:50.808 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:32:50.808 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:32:50.808 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:32:50.808 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:32:50.808 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:32:50.810 +02:00 [INF] Executed page /Account/Login in 2.375ms
2021-09-07 10:32:50.810 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:32:50.810 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 3.0820ms
2021-09-07 10:35:08.488 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:35:08.500 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 10:35:08.506 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 10:35:28.149 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:35:33.526 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:35:33.528 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:35:33.528 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:35:33.528 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:35:33.528 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:35:33.528 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:35:33.529 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:35:33.538 +02:00 [INF] Executed page /Account/Login in 10.0923ms
2021-09-07 10:35:33.538 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:35:33.538 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 5389.1759ms
2021-09-07 10:35:33.623 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 10:35:33.630 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 10:35:33.630 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 7.5199ms
2021-09-07 10:36:07.824 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:36:07.829 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:36:07.829 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:36:07.829 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:36:07.830 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:36:07.830 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:36:07.830 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:36:07.830 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:36:07.831 +02:00 [INF] Executed page /Account/Login in 1.7645ms
2021-09-07 10:36:07.831 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:36:07.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 7.2368ms
2021-09-07 10:36:11.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-07 10:36:11.977 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation.CompilationFailedException: One or more compilation failures occurred:
oj2nwwrm.ptp(387,71): error CS0246: The type or namespace name 'RegisterModel' could not be found (are you missing a using directive or an assembly reference?)
oj2nwwrm.ptp(388,81): error CS0246: The type or namespace name 'RegisterModel' could not be found (are you missing a using directive or an assembly reference?)
oj2nwwrm.ptp(389,16): error CS0246: The type or namespace name 'RegisterModel' could not be found (are you missing a using directive or an assembly reference?)
oj2nwwrm.ptp(388,174): error CS0246: The type or namespace name 'RegisterModel' could not be found (are you missing a using directive or an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation.RuntimeViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation.RuntimeViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation.RuntimeViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.DefaultPageLoader.LoadAsyncCore(PageActionDescriptor actionDescriptor, EndpointMetadataCollection endpointMetadata)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageLoaderMatcherPolicy.ApplyAsyncAwaited(CandidateSet candidates, Task`1 actionDescriptorTask, Int32 index)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.SelectEndpointWithPoliciesAsync(HttpContext httpContext, IEndpointSelectorPolicy[] policies, CandidateSet candidateSet)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatch|8_1(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task matchTask)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-09-07 10:36:11.992 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 500 - text/html;+charset=utf-8 150.4811ms
2021-09-07 10:36:24.164 +02:00 [INF] Application is shutting down...
2021-09-07 10:36:24.175 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 10:36:24.176 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 10:36:24.179 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 10:36:32.546 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 10:36:32.633 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 10:36:32.633 +02:00 [INF] Quartz Scheduler created
2021-09-07 10:36:32.634 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 10:36:32.634 +02:00 [INF] RAMJobStore initialized.
2021-09-07 10:36:32.636 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 10:36:32.636 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 10:36:32.636 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 10:36:32.651 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 10:36:32.652 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 10:36:32.661 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 10:36:33.161 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:36:33.376 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 10:36:33.427 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 10:36:33.642 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 10:36:33.709 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 10:36:33.721 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 10:36:33.996 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 10:36:33.997 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 10:36:33.997 +02:00 [INF] Hosting environment: Development
2021-09-07 10:36:33.997 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 10:36:34.174 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-07 10:36:34.255 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-07 10:36:34.281 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-07 10:36:34.293 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:36:34.294 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:36:34.296 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:36:34.296 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:36:34.392 +02:00 [INF] Executed page /Account/Register in 107.18ms
2021-09-07 10:36:34.392 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-07 10:36:34.395 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 222.4128ms
2021-09-07 10:36:34.479 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 10:36:34.482 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 10:36:34.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 4.1654ms
2021-09-07 10:36:37.654 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:36:37.662 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:36:37.666 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:36:37.673 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:36:37.679 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:36:37.679 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:36:37.679 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:36:37.679 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:36:37.698 +02:00 [INF] Executed page /Account/Login in 32.4551ms
2021-09-07 10:36:37.698 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:36:37.699 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 45.0906ms
2021-09-07 10:36:39.080 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-07 10:36:39.083 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-07 10:36:39.084 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-07 10:36:39.085 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:36:39.085 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:36:39.085 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:36:39.085 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:36:39.086 +02:00 [INF] Executed page /Account/Register in 2.4468ms
2021-09-07 10:36:39.086 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-07 10:36:39.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 6.9722ms
2021-09-07 10:36:40.791 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:36:40.791 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:36:40.792 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:36:40.793 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:36:40.793 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:36:40.793 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:36:40.793 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:36:40.794 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:36:40.795 +02:00 [INF] Executed page /Account/Login in 3.4879ms
2021-09-07 10:36:40.796 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:36:40.796 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 4.9865ms
2021-09-07 10:37:12.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:37:12.199 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:37:12.201 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:37:12.201 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:37:12.201 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:37:12.201 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:37:12.201 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:37:12.201 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:37:12.203 +02:00 [INF] Executed page /Account/Login in 1.7539ms
2021-09-07 10:37:12.203 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:37:12.203 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 5.4323ms
2021-09-07 10:37:12.279 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 10:37:12.280 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 10:37:12.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 0.9256ms
2021-09-07 10:37:19.818 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:37:21.971 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:37:21.972 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:37:21.973 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:37:21.973 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:37:21.973 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:37:21.973 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:37:21.973 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:37:21.983 +02:00 [INF] Executed page /Account/Login in 10.1976ms
2021-09-07 10:37:21.983 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:37:21.983 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 2164.4265ms
2021-09-07 10:37:22.032 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 10:37:22.032 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 10:37:22.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 0.5638ms
2021-09-07 10:39:14.296 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 10:39:14.307 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:39:14.308 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:39:14.309 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:39:14.309 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:39:14.327 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 10:39:14.330 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:14.339 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 10:39:14.411 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 10:39:14.429 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 10:39:14.434 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 10:39:14.435 +02:00 [INF] User logged in.
2021-09-07 10:39:14.436 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 10:39:14.437 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 10:39:14.438 +02:00 [INF] Executed page /Account/Login in 128.9272ms
2021-09-07 10:39:14.438 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:39:14.441 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 302 0 - 144.8475ms
2021-09-07 10:39:14.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:39:14.444 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:39:14.447 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:39:14.451 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:39:14.455 +02:00 [INF] Executed ViewResult - view Index executed in 6.5362ms.
2021-09-07 10:39:14.455 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 8.1371ms
2021-09-07 10:39:14.456 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:39:14.456 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 13.8003ms
2021-09-07 10:39:19.612 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 10:39:19.619 +02:00 [INF] Authorization was successful.
2021-09-07 10:39:19.619 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 10:39:19.621 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 10:39:19.623 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:39:19.646 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:19.657 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:39:19.659 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:39:19.682 +02:00 [INF] Executed page /Account/Manage/Index in 60.6732ms
2021-09-07 10:39:19.682 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 10:39:19.683 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 70.5099ms
2021-09-07 10:39:33.432 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Manage application/x-www-form-urlencoded 253
2021-09-07 10:39:33.432 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:39:33.432 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:39:33.434 +02:00 [INF] Authorization was successful.
2021-09-07 10:39:33.434 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 10:39:33.434 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 10:39:33.435 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.IndexModel.OnPostAsync - ModelState is "Valid"
2021-09-07 10:39:33.437 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:33.438 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:39:33.442 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 10:39:33.509 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 10:39:33.523 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 10:39:33.525 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 10:39:33.525 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 10:39:33.526 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2021-09-07 10:39:33.526 +02:00 [INF] Executing RedirectToPageResult, redirecting to null.
2021-09-07 10:39:33.532 +02:00 [INF] Executed page /Account/Manage/Index in 97.8093ms
2021-09-07 10:39:33.532 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 10:39:33.532 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Manage application/x-www-form-urlencoded 253 - 302 0 - 100.7409ms
2021-09-07 10:39:33.534 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 10:39:33.535 +02:00 [INF] Authorization was successful.
2021-09-07 10:39:33.535 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 10:39:33.535 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 10:39:33.536 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:39:33.536 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:33.537 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:39:33.537 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:39:33.540 +02:00 [INF] Executed page /Account/Manage/Index in 4.6185ms
2021-09-07 10:39:33.540 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 10:39:33.540 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 5.9668ms
2021-09-07 10:39:36.093 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2021-09-07 10:39:36.094 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:39:36.095 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:39:36.095 +02:00 [INF] Executing endpoint '/Account/Logout'
2021-09-07 10:39:36.098 +02:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2021-09-07 10:39:36.099 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LogoutModel.OnPost - ModelState is "Valid"
2021-09-07 10:39:36.100 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 10:39:36.100 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:39:36.100 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 10:39:36.101 +02:00 [INF] User logged out.
2021-09-07 10:39:36.101 +02:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 10:39:36.101 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 10:39:36.101 +02:00 [INF] Executed page /Account/Logout in 2.5618ms
2021-09-07 10:39:36.101 +02:00 [INF] Executed endpoint '/Account/Logout'
2021-09-07 10:39:36.101 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 7.7436ms
2021-09-07 10:39:36.103 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:39:36.103 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:39:36.103 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:39:36.103 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:39:36.104 +02:00 [INF] Executed ViewResult - view Index executed in 0.5164ms.
2021-09-07 10:39:36.104 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 0.7137ms
2021-09-07 10:39:36.104 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:39:36.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.1934ms
2021-09-07 10:39:37.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:39:37.874 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:39:37.874 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:39:37.874 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:39:37.874 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:39:37.874 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:39:37.874 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:39:37.874 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:39:37.876 +02:00 [INF] Executed page /Account/Login in 2.0809ms
2021-09-07 10:39:37.876 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:39:37.876 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 2.7095ms
2021-09-07 10:39:39.468 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 10:39:39.468 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:39:39.468 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:39:39.468 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:39:39.468 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:39:39.469 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 10:39:39.470 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:39.471 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 10:39:39.479 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 10:39:39.479 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 10:39:39.480 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 10:39:39.480 +02:00 [INF] User logged in.
2021-09-07 10:39:39.480 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 10:39:39.480 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 10:39:39.480 +02:00 [INF] Executed page /Account/Login in 11.6848ms
2021-09-07 10:39:39.480 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:39:39.480 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 302 0 - 12.4196ms
2021-09-07 10:39:39.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:39:39.483 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:39:39.483 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:39:39.483 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:39:39.483 +02:00 [INF] Executed ViewResult - view Index executed in 0.4697ms.
2021-09-07 10:39:39.483 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 0.6807ms
2021-09-07 10:39:39.483 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:39:39.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.3421ms
2021-09-07 10:39:41.776 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 10:39:41.777 +02:00 [INF] Authorization was successful.
2021-09-07 10:39:41.777 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 10:39:41.777 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 10:39:41.777 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:39:41.777 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:41.779 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:39:41.779 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:39:41.780 +02:00 [INF] Executed page /Account/Manage/Index in 3.4528ms
2021-09-07 10:39:41.781 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 10:39:41.781 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 4.4481ms
2021-09-07 10:39:43.785 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - -
2021-09-07 10:39:43.787 +02:00 [INF] Authorization was successful.
2021-09-07 10:39:43.787 +02:00 [INF] Executing endpoint '/Account/Manage/Email'
2021-09-07 10:39:43.791 +02:00 [INF] Route matched with {page = "/Account/Manage/Email", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Email
2021-09-07 10:39:43.791 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EmailModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:39:43.793 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:43.793 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:39:43.795 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:39:43.804 +02:00 [INF] Executed page /Account/Manage/Email in 12.8376ms
2021-09-07 10:39:43.804 +02:00 [INF] Executed endpoint '/Account/Manage/Email'
2021-09-07 10:39:43.804 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - - - 200 - text/html;+charset=utf-8 19.6278ms
2021-09-07 10:39:48.344 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - -
2021-09-07 10:39:48.351 +02:00 [INF] Authorization was successful.
2021-09-07 10:39:48.351 +02:00 [INF] Executing endpoint '/Account/Manage/ChangePassword'
2021-09-07 10:39:48.354 +02:00 [INF] Route matched with {page = "/Account/Manage/ChangePassword", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ChangePassword
2021-09-07 10:39:48.354 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ChangePasswordModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:39:48.355 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:48.356 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:39:48.358 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:39:48.370 +02:00 [INF] Executed page /Account/Manage/ChangePassword in 16.0963ms
2021-09-07 10:39:48.370 +02:00 [INF] Executed endpoint '/Account/Manage/ChangePassword'
2021-09-07 10:39:48.370 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - - - 200 - text/html;+charset=utf-8 25.6946ms
2021-09-07 10:39:51.347 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-07 10:39:51.349 +02:00 [INF] Authorization was successful.
2021-09-07 10:39:51.349 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 10:39:51.351 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-07 10:39:51.352 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:39:51.353 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:51.354 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:39:51.360 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:39:51.362 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:39:51.363 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:39:51.369 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 17.58ms
2021-09-07 10:39:51.369 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 10:39:51.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 22.5479ms
2021-09-07 10:39:54.245 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/EnableAuthenticator - -
2021-09-07 10:39:54.247 +02:00 [INF] Authorization was successful.
2021-09-07 10:39:54.247 +02:00 [INF] Executing endpoint '/Account/Manage/EnableAuthenticator'
2021-09-07 10:39:54.249 +02:00 [INF] Route matched with {page = "/Account/Manage/EnableAuthenticator", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/EnableAuthenticator
2021-09-07 10:39:54.249 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EnableAuthenticatorModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:39:54.250 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:39:54.251 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:39:54.253 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:39:54.256 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:39:54.269 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 10:39:54.282 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserTokens] ([LoginProvider], [Name], [UserId], [Value])
VALUES (@p0, @p1, @p2, @p3);
2021-09-07 10:39:54.283 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 10:39:54.284 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:39:54.294 +02:00 [INF] Executed page /Account/Manage/EnableAuthenticator in 44.7789ms
2021-09-07 10:39:54.294 +02:00 [INF] Executed endpoint '/Account/Manage/EnableAuthenticator'
2021-09-07 10:39:54.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/EnableAuthenticator - - - 200 - text/html;+charset=utf-8 49.3789ms
2021-09-07 10:40:12.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - -
2021-09-07 10:40:12.044 +02:00 [INF] Authorization was successful.
2021-09-07 10:40:12.044 +02:00 [INF] Executing endpoint '/Account/Manage/PersonalData'
2021-09-07 10:40:12.047 +02:00 [INF] Route matched with {page = "/Account/Manage/PersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/PersonalData
2021-09-07 10:40:12.047 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.PersonalDataModel.OnGet - ModelState is "Valid"
2021-09-07 10:40:12.048 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:40:12.049 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:40:12.051 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:40:12.057 +02:00 [INF] Executed page /Account/Manage/PersonalData in 10.3144ms
2021-09-07 10:40:12.057 +02:00 [INF] Executed endpoint '/Account/Manage/PersonalData'
2021-09-07 10:40:12.057 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - - - 200 - text/html;+charset=utf-8 14.4236ms
2021-09-07 10:40:15.000 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Manage/DownloadPersonalData application/x-www-form-urlencoded 225
2021-09-07 10:40:15.001 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:40:15.001 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:40:15.001 +02:00 [INF] Authorization was successful.
2021-09-07 10:40:15.002 +02:00 [INF] Executing endpoint '/Account/Manage/DownloadPersonalData'
2021-09-07 10:40:15.004 +02:00 [INF] Route matched with {page = "/Account/Manage/DownloadPersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/DownloadPersonalData
2021-09-07 10:40:15.004 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.DownloadPersonalDataModel.OnPostAsync - ModelState is "Valid"
2021-09-07 10:40:15.008 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:40:15.009 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:40:15.010 +02:00 [INF] User asked for their personal data.
2021-09-07 10:40:15.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[UserId] = @__userId_0
2021-09-07 10:40:15.019 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:40:15.027 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.FileContentResult.
2021-09-07 10:40:15.031 +02:00 [INF] Executing FileContentResult, sending file with download name '' ...
2021-09-07 10:40:15.031 +02:00 [INF] Executed page /Account/Manage/DownloadPersonalData in 27.3808ms
2021-09-07 10:40:15.032 +02:00 [INF] Executed endpoint '/Account/Manage/DownloadPersonalData'
2021-09-07 10:40:15.032 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Manage/DownloadPersonalData application/x-www-form-urlencoded 225 - 200 282 application/json 31.8329ms
2021-09-07 10:43:02.523 +02:00 [INF] Application is shutting down...
2021-09-07 10:43:02.537 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 10:43:02.538 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 10:43:02.541 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 10:50:19.946 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 10:50:20.038 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 10:50:20.038 +02:00 [INF] Quartz Scheduler created
2021-09-07 10:50:20.039 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 10:50:20.039 +02:00 [INF] RAMJobStore initialized.
2021-09-07 10:50:20.040 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 10:50:20.040 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 10:50:20.040 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 10:50:20.055 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 10:50:20.057 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 10:50:20.065 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 10:50:20.554 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:50:21.602 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 10:50:21.652 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 10:50:21.868 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 10:50:21.929 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 10:50:21.941 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 10:50:22.221 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 10:50:22.221 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 10:50:22.221 +02:00 [INF] Hosting environment: Development
2021-09-07 10:50:22.221 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 10:50:46.384 +02:00 [INF] Application is shutting down...
2021-09-07 10:50:46.402 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 10:50:46.403 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 10:50:46.406 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 10:50:54.771 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 10:50:54.923 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 10:50:54.924 +02:00 [INF] Quartz Scheduler created
2021-09-07 10:50:54.928 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 10:50:54.929 +02:00 [INF] RAMJobStore initialized.
2021-09-07 10:50:54.931 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 10:50:54.931 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 10:50:54.932 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 10:50:54.947 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 10:50:54.949 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 10:50:54.958 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 10:50:55.638 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:50:55.942 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 10:50:55.987 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 10:50:56.234 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 10:50:56.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 10:50:56.329 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 10:50:56.779 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 10:50:56.779 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 10:50:56.780 +02:00 [INF] Hosting environment: Development
2021-09-07 10:50:56.781 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 10:50:57.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:50:58.022 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:50:58.042 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:50:58.070 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:50:58.177 +02:00 [INF] Executed ViewResult - view Index executed in 122.4495ms.
2021-09-07 10:50:58.178 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 130.6909ms
2021-09-07 10:50:58.179 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:50:58.183 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 281.8826ms
2021-09-07 10:50:58.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:50:58.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:50:58.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:50:58.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:50:58.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:50:58.208 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:50:58.208 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:50:58.212 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 14.6258ms
2021-09-07 10:50:58.227 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 29.7534ms
2021-09-07 10:50:58.228 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:50:58.228 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:50:58.228 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:50:58.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 33.5127ms
2021-09-07 10:50:58.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 33.3403ms
2021-09-07 10:50:58.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 34.6527ms
2021-09-07 10:51:01.102 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:51:01.115 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:51:01.131 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:51:01.145 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:51:01.153 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:51:01.154 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:51:01.157 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:51:01.158 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:51:01.210 +02:00 [INF] Executed page /Account/Login in 78.3939ms
2021-09-07 10:51:01.210 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:51:01.212 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 110.1461ms
2021-09-07 10:51:01.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:51:01.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:51:01.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:51:01.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:51:01.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:51:01.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:51:01.224 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:51:01.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:51:01.227 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.4632ms
2021-09-07 10:51:01.224 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:51:01.230 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:51:01.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 6.5725ms
2021-09-07 10:51:01.230 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:51:01.233 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:51:01.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 11.8058ms
2021-09-07 10:51:01.233 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:51:01.233 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:51:01.234 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 11.5586ms
2021-09-07 10:51:01.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 16.5673ms
2021-09-07 10:51:01.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 19.8716ms
2021-09-07 10:51:01.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 21.8738ms
2021-09-07 10:51:17.704 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291
2021-09-07 10:51:17.711 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:51:17.712 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:51:17.716 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:51:17.717 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:51:17.741 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 10:51:17.745 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:51:17.755 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 10:51:17.845 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 10:51:17.868 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 10:51:17.875 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 10:51:17.876 +02:00 [INF] User logged in.
2021-09-07 10:51:17.877 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 10:51:17.879 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 10:51:17.880 +02:00 [INF] Executed page /Account/Login in 162.4893ms
2021-09-07 10:51:17.880 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:51:17.882 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291 - 302 0 - 178.5912ms
2021-09-07 10:51:17.884 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:51:17.888 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:51:17.888 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:51:17.889 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:51:17.893 +02:00 [INF] Executed ViewResult - view Index executed in 3.3702ms.
2021-09-07 10:51:17.893 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 3.7668ms
2021-09-07 10:51:17.894 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:51:17.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 10.3851ms
2021-09-07 10:51:17.904 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:51:17.904 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:51:17.905 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:51:17.909 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:51:17.910 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:51:17.913 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:51:17.914 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:51:17.915 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 10.9190ms
2021-09-07 10:51:17.917 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:51:17.918 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:51:17.918 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:51:17.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 10.9672ms
2021-09-07 10:51:17.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.2851ms
2021-09-07 10:51:17.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 19.0348ms
2021-09-07 10:51:17.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 20.8211ms
2021-09-07 10:52:43.910 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:52:43.912 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:43.914 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:52:43.915 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:52:43.917 +02:00 [INF] Executed ViewResult - view Index executed in 1.7952ms.
2021-09-07 10:52:43.917 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 2.174ms
2021-09-07 10:52:43.918 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:43.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 8.2535ms
2021-09-07 10:52:43.929 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:52:43.929 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:52:43.930 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:52:43.935 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:52:43.935 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:52:43.935 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:52:43.940 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 11.2041ms
2021-09-07 10:52:43.952 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:52:43.954 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 19.5802ms
2021-09-07 10:52:43.957 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:52:43.958 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:52:43.958 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:52:43.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 29.8355ms
2021-09-07 10:52:43.960 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 31.3837ms
2021-09-07 10:52:43.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 27.0546ms
2021-09-07 10:52:45.683 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:52:45.685 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:45.685 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:52:45.687 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:52:45.690 +02:00 [INF] Executed ViewResult - view Index executed in 2.759ms.
2021-09-07 10:52:45.690 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 3.059ms
2021-09-07 10:52:45.691 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:45.691 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 8.3601ms
2021-09-07 10:52:45.701 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:52:45.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:52:45.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:52:45.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:52:45.706 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:52:45.707 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:52:45.702 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:52:45.707 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:52:45.707 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.5084ms
2021-09-07 10:52:45.707 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:52:45.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 6.7641ms
2021-09-07 10:52:45.711 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 8.6269ms
2021-09-07 10:52:45.711 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:52:45.713 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 11.1404ms
2021-09-07 10:52:45.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 15.4823ms
2021-09-07 10:52:46.375 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Home/Privacy - -
2021-09-07 10:52:46.376 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer)'
2021-09-07 10:52:46.378 +02:00 [INF] Route matched with {action = "Privacy", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Privacy() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:52:46.381 +02:00 [INF] Executing ViewResult, running view Privacy.
2021-09-07 10:52:46.383 +02:00 [INF] Executed ViewResult - view Privacy executed in 4.5293ms.
2021-09-07 10:52:46.383 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer) in 4.9273ms
2021-09-07 10:52:46.385 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer)'
2021-09-07 10:52:46.385 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Home/Privacy - - - 200 - text/html;+charset=utf-8 10.8719ms
2021-09-07 10:52:46.396 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:52:46.396 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:52:46.397 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:52:46.396 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:52:46.397 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:52:46.401 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:52:46.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 8.1324ms
2021-09-07 10:52:46.405 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:52:46.405 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:52:46.406 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:52:46.406 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:52:46.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 12.6139ms
2021-09-07 10:52:46.410 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 12.8894ms
2021-09-07 10:52:46.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 14.7367ms
2021-09-07 10:52:46.416 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 18.8283ms
2021-09-07 10:52:49.446 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2021-09-07 10:52:49.448 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:52:49.449 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:52:49.451 +02:00 [INF] Executing endpoint '/Account/Logout'
2021-09-07 10:52:49.453 +02:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2021-09-07 10:52:49.456 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LogoutModel.OnPost - ModelState is "Valid"
2021-09-07 10:52:49.458 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 10:52:49.460 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:52:49.461 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 10:52:49.461 +02:00 [INF] User logged out.
2021-09-07 10:52:49.461 +02:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 10:52:49.462 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 10:52:49.462 +02:00 [INF] Executed page /Account/Logout in 7.3927ms
2021-09-07 10:52:49.463 +02:00 [INF] Executed endpoint '/Account/Logout'
2021-09-07 10:52:49.463 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 17.3920ms
2021-09-07 10:52:49.465 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:52:49.465 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:49.466 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:52:49.466 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:52:49.467 +02:00 [INF] Executed ViewResult - view Index executed in 0.8344ms.
2021-09-07 10:52:49.467 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.0695ms
2021-09-07 10:52:49.468 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:49.469 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 4.0169ms
2021-09-07 10:52:49.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:52:49.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:52:49.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:52:49.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:52:49.481 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:52:49.485 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:52:49.485 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:52:49.488 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:52:49.488 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:52:49.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 5.5326ms
2021-09-07 10:52:49.488 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:52:49.492 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 10.2395ms
2021-09-07 10:52:49.493 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 11.7807ms
2021-09-07 10:52:49.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 12.5880ms
2021-09-07 10:52:49.499 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 17.7452ms
2021-09-07 10:52:57.307 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:52:57.307 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:57.309 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:52:57.310 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:52:57.311 +02:00 [INF] Executed ViewResult - view Index executed in 0.8994ms.
2021-09-07 10:52:57.311 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.1935ms
2021-09-07 10:52:57.312 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:57.312 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 5.5366ms
2021-09-07 10:52:57.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:52:57.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:52:57.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:52:57.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:52:57.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:52:57.323 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:52:57.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 4.3775ms
2021-09-07 10:52:57.327 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:52:57.329 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:52:57.327 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:52:57.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 6.3105ms
2021-09-07 10:52:57.333 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:52:57.335 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 13.4497ms
2021-09-07 10:52:57.337 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 14.1877ms
2021-09-07 10:52:57.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 18.3154ms
2021-09-07 10:52:58.374 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:52:58.375 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:58.376 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:52:58.377 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:52:58.378 +02:00 [INF] Executed ViewResult - view Index executed in 0.9305ms.
2021-09-07 10:52:58.378 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.2253ms
2021-09-07 10:52:58.379 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:52:58.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 5.5198ms
2021-09-07 10:52:58.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:52:58.390 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:52:58.390 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:52:58.390 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:52:58.390 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:52:58.392 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:52:58.393 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:52:58.393 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:52:58.396 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 6.3822ms
2021-09-07 10:52:58.397 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:52:58.396 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:52:58.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 15.6239ms
2021-09-07 10:52:58.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 19.9675ms
2021-09-07 10:52:58.401 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 11.3241ms
2021-09-07 10:52:58.396 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.5196ms
2021-09-07 10:52:58.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Home/Privacy - -
2021-09-07 10:52:58.967 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer)'
2021-09-07 10:52:58.968 +02:00 [INF] Route matched with {action = "Privacy", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Privacy() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:52:58.969 +02:00 [INF] Executing ViewResult, running view Privacy.
2021-09-07 10:52:58.970 +02:00 [INF] Executed ViewResult - view Privacy executed in 0.8409ms.
2021-09-07 10:52:58.970 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer) in 1.3341ms
2021-09-07 10:52:58.971 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Privacy (OpenIdServer)'
2021-09-07 10:52:58.971 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Home/Privacy - - - 200 - text/html;+charset=utf-8 5.3953ms
2021-09-07 10:52:58.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:52:58.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:52:58.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:52:58.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:52:58.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:52:58.984 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:52:58.991 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:52:58.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 9.5320ms
2021-09-07 10:52:58.990 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:52:58.991 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:52:58.991 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:52:58.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.3286ms
2021-09-07 10:52:58.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 15.0368ms
2021-09-07 10:52:59.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 18.4819ms
2021-09-07 10:52:59.002 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 19.7593ms
2021-09-07 10:53:00.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:53:00.378 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:53:00.380 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:53:00.381 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:53:00.382 +02:00 [INF] Executed ViewResult - view Index executed in 1.7313ms.
2021-09-07 10:53:00.383 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 2.0709ms
2021-09-07 10:53:00.383 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:53:00.384 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 6.6413ms
2021-09-07 10:53:00.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:00.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:00.394 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:00.394 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:00.394 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:00.396 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:00.396 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:00.400 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:00.400 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:00.400 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:00.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 8.7378ms
2021-09-07 10:53:00.403 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 9.4240ms
2021-09-07 10:53:00.404 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 10.9651ms
2021-09-07 10:53:00.405 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 11.6616ms
2021-09-07 10:53:00.406 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 12.7146ms
2021-09-07 10:53:12.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 10:53:12.359 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:53:12.360 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:53:12.361 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:53:12.362 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 10:53:12.362 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 10:53:12.363 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 10:53:12.363 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:53:12.366 +02:00 [INF] Executed page /Account/Login in 4.6539ms
2021-09-07 10:53:12.366 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:53:12.367 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 8.7235ms
2021-09-07 10:53:12.380 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:12.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:12.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:12.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:12.383 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:53:12.384 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:12.383 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:53:12.387 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 4.6462ms
2021-09-07 10:53:12.388 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:12.391 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:53:12.387 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:53:12.382 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:12.388 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:12.391 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 8.8682ms
2021-09-07 10:53:12.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 11.1692ms
2021-09-07 10:53:12.393 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 9.9494ms
2021-09-07 10:53:12.384 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:12.396 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:12.400 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 21.2964ms
2021-09-07 10:53:12.404 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 21.7135ms
2021-09-07 10:53:12.406 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 23.5745ms
2021-09-07 10:53:13.635 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 10:53:13.636 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:53:13.637 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:53:13.638 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 10:53:13.638 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 10:53:13.640 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 10:53:13.662 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:53:13.665 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 10:53:13.674 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 10:53:13.677 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 10:53:13.679 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 10:53:13.679 +02:00 [INF] User logged in.
2021-09-07 10:53:13.679 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 10:53:13.680 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 10:53:13.680 +02:00 [INF] Executed page /Account/Login in 41.2561ms
2021-09-07 10:53:13.681 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 10:53:13.681 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 302 0 - 46.1461ms
2021-09-07 10:53:13.683 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 10:53:13.684 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:53:13.684 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 10:53:13.685 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 10:53:13.686 +02:00 [INF] Executed ViewResult - view Index executed in 0.7571ms.
2021-09-07 10:53:13.686 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.0404ms
2021-09-07 10:53:13.687 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 10:53:13.688 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 4.2025ms
2021-09-07 10:53:13.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:13.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:13.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:13.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:13.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:13.702 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:13.702 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:13.704 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:13.704 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:13.704 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 4.7579ms
2021-09-07 10:53:13.705 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.7720ms
2021-09-07 10:53:13.705 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:13.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 10.6193ms
2021-09-07 10:53:13.711 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 12.4299ms
2021-09-07 10:53:13.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 17.7195ms
2021-09-07 10:53:17.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 10:53:17.159 +02:00 [INF] Authorization was successful.
2021-09-07 10:53:17.159 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 10:53:17.163 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 10:53:17.165 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:53:17.168 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:53:17.179 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:53:17.183 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:53:17.206 +02:00 [INF] Executed page /Account/Manage/Index in 42.1529ms
2021-09-07 10:53:17.207 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 10:53:17.208 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 56.6329ms
2021-09-07 10:53:17.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:17.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:17.220 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:17.220 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:17.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:17.222 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 3.1253ms
2021-09-07 10:53:17.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:17.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:53:17.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:53:17.226 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:17.227 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:17.228 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:17.228 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:17.228 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 8.8369ms
2021-09-07 10:53:17.228 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:53:17.229 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:53:17.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 12.6383ms
2021-09-07 10:53:17.234 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.6409ms
2021-09-07 10:53:17.235 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 14.5541ms
2021-09-07 10:53:17.239 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 17.9415ms
2021-09-07 10:53:17.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 19.9141ms
2021-09-07 10:53:30.018 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - -
2021-09-07 10:53:30.021 +02:00 [INF] Authorization was successful.
2021-09-07 10:53:30.022 +02:00 [INF] Executing endpoint '/Account/Manage/Email'
2021-09-07 10:53:30.026 +02:00 [INF] Route matched with {page = "/Account/Manage/Email", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Email
2021-09-07 10:53:30.027 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EmailModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:53:30.029 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:53:30.031 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:53:30.035 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:53:30.047 +02:00 [INF] Executed page /Account/Manage/Email in 19.9456ms
2021-09-07 10:53:30.047 +02:00 [INF] Executed endpoint '/Account/Manage/Email'
2021-09-07 10:53:30.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - - - 200 - text/html;+charset=utf-8 30.1252ms
2021-09-07 10:53:30.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:30.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:30.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:30.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:53:30.060 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:30.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:53:30.063 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:53:30.064 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:30.063 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.2379ms
2021-09-07 10:53:30.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:30.058 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:30.067 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 8.7926ms
2021-09-07 10:53:30.066 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:53:30.066 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 6.8268ms
2021-09-07 10:53:30.069 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:30.067 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:30.070 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:30.071 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 12.1214ms
2021-09-07 10:53:30.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 19.7337ms
2021-09-07 10:53:30.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 21.9563ms
2021-09-07 10:53:30.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 22.9649ms
2021-09-07 10:53:31.922 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - -
2021-09-07 10:53:31.929 +02:00 [INF] Authorization was successful.
2021-09-07 10:53:31.929 +02:00 [INF] Executing endpoint '/Account/Manage/ChangePassword'
2021-09-07 10:53:31.934 +02:00 [INF] Route matched with {page = "/Account/Manage/ChangePassword", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ChangePassword
2021-09-07 10:53:31.935 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ChangePasswordModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:53:31.936 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:53:31.938 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:53:31.942 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:53:31.954 +02:00 [INF] Executed page /Account/Manage/ChangePassword in 19.3187ms
2021-09-07 10:53:31.954 +02:00 [INF] Executed endpoint '/Account/Manage/ChangePassword'
2021-09-07 10:53:31.955 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - - - 200 - text/html;+charset=utf-8 32.7365ms
2021-09-07 10:53:31.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:31.966 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:31.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:31.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:53:31.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:31.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:53:31.967 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:31.968 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:31.974 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:31.974 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:31.974 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 7.5604ms
2021-09-07 10:53:31.974 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:53:31.974 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:31.974 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:53:31.975 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:31.975 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 8.2602ms
2021-09-07 10:53:31.980 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 12.9793ms
2021-09-07 10:53:31.981 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 14.5327ms
2021-09-07 10:53:31.983 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 16.6580ms
2021-09-07 10:53:31.985 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 18.3864ms
2021-09-07 10:53:31.987 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 19.9271ms
2021-09-07 10:53:35.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - -
2021-09-07 10:53:35.304 +02:00 [INF] Authorization was successful.
2021-09-07 10:53:35.304 +02:00 [INF] Executing endpoint '/Account/Manage/PersonalData'
2021-09-07 10:53:35.308 +02:00 [INF] Route matched with {page = "/Account/Manage/PersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/PersonalData
2021-09-07 10:53:35.309 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.PersonalDataModel.OnGet - ModelState is "Valid"
2021-09-07 10:53:35.311 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:53:35.312 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:53:35.316 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:53:35.320 +02:00 [INF] Executed page /Account/Manage/PersonalData in 11.2442ms
2021-09-07 10:53:35.320 +02:00 [INF] Executed endpoint '/Account/Manage/PersonalData'
2021-09-07 10:53:35.323 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - - - 200 - text/html;+charset=utf-8 21.1317ms
2021-09-07 10:53:35.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:35.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:35.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:35.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:35.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:53:35.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:35.336 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:35.336 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:35.341 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 7.2166ms
2021-09-07 10:53:35.339 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:53:35.339 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:35.339 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:35.334 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:53:35.342 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:35.343 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 8.7959ms
2021-09-07 10:53:35.345 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 10.9340ms
2021-09-07 10:53:35.346 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 12.9586ms
2021-09-07 10:53:35.347 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.2996ms
2021-09-07 10:53:35.349 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 15.2263ms
2021-09-07 10:53:35.350 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:53:35.358 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 23.9998ms
2021-09-07 10:53:45.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/DeletePersonalData - -
2021-09-07 10:53:45.239 +02:00 [INF] Authorization was successful.
2021-09-07 10:53:45.239 +02:00 [INF] Executing endpoint '/Account/Manage/DeletePersonalData'
2021-09-07 10:53:45.243 +02:00 [INF] Route matched with {page = "/Account/Manage/DeletePersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/DeletePersonalData
2021-09-07 10:53:45.244 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.DeletePersonalDataModel.OnGet - ModelState is "Valid"
2021-09-07 10:53:45.246 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:53:45.247 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:53:45.250 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:53:45.256 +02:00 [INF] Executed page /Account/Manage/DeletePersonalData in 12.5092ms
2021-09-07 10:53:45.257 +02:00 [INF] Executed endpoint '/Account/Manage/DeletePersonalData'
2021-09-07 10:53:45.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/DeletePersonalData - - - 200 - text/html;+charset=utf-8 21.7799ms
2021-09-07 10:53:45.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:45.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:45.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:45.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:45.270 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:53:45.270 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:45.272 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:45.279 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:45.279 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 10.7268ms
2021-09-07 10:53:45.279 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:53:45.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:45.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:53:45.281 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 11.7160ms
2021-09-07 10:53:45.279 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:45.280 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 10.0251ms
2021-09-07 10:53:45.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 12.8383ms
2021-09-07 10:53:45.285 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:53:45.285 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:45.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 17.8618ms
2021-09-07 10:53:45.294 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 24.2157ms
2021-09-07 10:53:45.295 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 26.2591ms
2021-09-07 10:53:54.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-07 10:53:54.674 +02:00 [INF] Authorization was successful.
2021-09-07 10:53:54.675 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 10:53:54.678 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-07 10:53:54.679 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:53:54.682 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:53:54.686 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:53:54.699 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:53:54.733 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:53:54.736 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:53:54.745 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 66.0126ms
2021-09-07 10:53:54.746 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 10:53:54.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 80.1206ms
2021-09-07 10:53:54.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:54.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:54.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:54.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:53:54.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:53:54.764 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:54.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:54.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:54.770 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 7.0997ms
2021-09-07 10:53:54.771 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:54.772 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:54.772 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:53:54.771 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:53:54.772 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 9.4409ms
2021-09-07 10:53:54.772 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:54.772 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:54.774 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 10.8265ms
2021-09-07 10:53:54.775 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 12.1115ms
2021-09-07 10:53:54.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 13.1926ms
2021-09-07 10:53:54.784 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 21.9557ms
2021-09-07 10:53:54.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 22.5918ms
2021-09-07 10:53:58.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/EnableAuthenticator - -
2021-09-07 10:53:58.723 +02:00 [INF] Authorization was successful.
2021-09-07 10:53:58.724 +02:00 [INF] Executing endpoint '/Account/Manage/EnableAuthenticator'
2021-09-07 10:53:58.727 +02:00 [INF] Route matched with {page = "/Account/Manage/EnableAuthenticator", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/EnableAuthenticator
2021-09-07 10:53:58.728 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EnableAuthenticatorModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:53:58.730 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:53:58.731 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:53:58.737 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:53:58.740 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:53:58.750 +02:00 [INF] Executed page /Account/Manage/EnableAuthenticator in 22.6498ms
2021-09-07 10:53:58.751 +02:00 [INF] Executed endpoint '/Account/Manage/EnableAuthenticator'
2021-09-07 10:53:58.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/EnableAuthenticator - - - 200 - text/html;+charset=utf-8 32.9358ms
2021-09-07 10:53:58.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:53:58.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:53:58.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:53:58.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:53:58.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:53:58.763 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:53:58.764 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:53:58.771 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:53:58.773 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:53:58.794 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:53:58.795 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:53:58.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 31.3880ms
2021-09-07 10:53:58.795 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:53:58.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 30.8955ms
2021-09-07 10:53:58.799 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 35.3975ms
2021-09-07 10:53:58.799 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:53:58.799 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:53:58.799 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 35.8552ms
2021-09-07 10:53:58.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 37.9058ms
2021-09-07 10:53:58.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 43.6123ms
2021-09-07 10:53:58.807 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 43.9550ms
2021-09-07 10:54:00.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-07 10:54:00.722 +02:00 [INF] Authorization was successful.
2021-09-07 10:54:00.723 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 10:54:00.724 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-07 10:54:00.725 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:54:00.726 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:54:00.730 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:54:00.734 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:54:00.737 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:54:00.738 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:54:00.739 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 14.7224ms
2021-09-07 10:54:00.739 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 10:54:00.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 20.0136ms
2021-09-07 10:54:00.754 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:54:00.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:54:00.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:54:00.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:54:00.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:54:00.759 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:54:00.759 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:54:00.764 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:54:00.763 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:54:00.767 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:54:00.768 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 11.4723ms
2021-09-07 10:54:00.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 12.4455ms
2021-09-07 10:54:00.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 13.2717ms
2021-09-07 10:54:00.780 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:54:00.775 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 16.3215ms
2021-09-07 10:54:00.767 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:54:00.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:54:00.784 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 29.4467ms
2021-09-07 10:54:00.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 29.5339ms
2021-09-07 10:54:00.788 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:54:00.789 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 32.8983ms
2021-09-07 10:54:01.580 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ResetAuthenticator - -
2021-09-07 10:54:01.583 +02:00 [INF] Authorization was successful.
2021-09-07 10:54:01.583 +02:00 [INF] Executing endpoint '/Account/Manage/ResetAuthenticator'
2021-09-07 10:54:01.586 +02:00 [INF] Route matched with {page = "/Account/Manage/ResetAuthenticator", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ResetAuthenticator
2021-09-07 10:54:01.586 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ResetAuthenticatorModel.OnGet - ModelState is "Valid"
2021-09-07 10:54:01.588 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:54:01.590 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:54:01.597 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:54:01.602 +02:00 [INF] Executed page /Account/Manage/ResetAuthenticator in 15.5776ms
2021-09-07 10:54:01.602 +02:00 [INF] Executed endpoint '/Account/Manage/ResetAuthenticator'
2021-09-07 10:54:01.603 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ResetAuthenticator - - - 200 - text/html;+charset=utf-8 23.0518ms
2021-09-07 10:54:01.614 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:54:01.614 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:54:01.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:54:01.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:54:01.615 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:54:01.617 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:54:01.619 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:54:01.621 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.1076ms
2021-09-07 10:54:01.623 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:54:01.623 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:54:01.623 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 8.2953ms
2021-09-07 10:54:01.622 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:54:01.625 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 10.4387ms
2021-09-07 10:54:01.627 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 12.9230ms
2021-09-07 10:54:01.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 14.6732ms
2021-09-07 10:54:04.801 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Manage/ResetAuthenticator application/x-www-form-urlencoded 225
2021-09-07 10:54:04.802 +02:00 [INF] CORS policy execution failed.
2021-09-07 10:54:04.803 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 10:54:04.804 +02:00 [INF] Authorization was successful.
2021-09-07 10:54:04.804 +02:00 [INF] Executing endpoint '/Account/Manage/ResetAuthenticator'
2021-09-07 10:54:04.805 +02:00 [INF] Route matched with {page = "/Account/Manage/ResetAuthenticator", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ResetAuthenticator
2021-09-07 10:54:04.806 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ResetAuthenticatorModel.OnPostAsync - ModelState is "Valid"
2021-09-07 10:54:04.808 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:54:04.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:54:04.818 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 10:54:04.900 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 10:54:04.924 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:54:04.928 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 10:54:04.937 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 450), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2021-09-07 10:54:04.938 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 10:54:04.943 +02:00 [INF] User has reset their authentication app key.
2021-09-07 10:54:04.945 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 10:54:04.947 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 10:54:04.948 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 10:54:04.949 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2021-09-07 10:54:04.950 +02:00 [INF] Executing RedirectToPageResult, redirecting to ./EnableAuthenticator.
2021-09-07 10:54:04.957 +02:00 [INF] Executed page /Account/Manage/ResetAuthenticator in 151.6076ms
2021-09-07 10:54:04.958 +02:00 [INF] Executed endpoint '/Account/Manage/ResetAuthenticator'
2021-09-07 10:54:04.958 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Manage/ResetAuthenticator application/x-www-form-urlencoded 225 - 302 0 - 157.2950ms
2021-09-07 10:54:04.961 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/EnableAuthenticator - -
2021-09-07 10:54:04.962 +02:00 [INF] Authorization was successful.
2021-09-07 10:54:04.962 +02:00 [INF] Executing endpoint '/Account/Manage/EnableAuthenticator'
2021-09-07 10:54:04.962 +02:00 [INF] Route matched with {page = "/Account/Manage/EnableAuthenticator", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/EnableAuthenticator
2021-09-07 10:54:04.964 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EnableAuthenticatorModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:54:04.964 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:54:04.966 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:54:04.970 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 10:54:04.974 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:54:04.975 +02:00 [INF] Executed page /Account/Manage/EnableAuthenticator in 12.425ms
2021-09-07 10:54:04.976 +02:00 [INF] Executed endpoint '/Account/Manage/EnableAuthenticator'
2021-09-07 10:54:04.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/EnableAuthenticator - - - 200 - text/html;+charset=utf-8 15.6774ms
2021-09-07 10:54:04.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:54:04.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:54:04.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:54:04.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:54:04.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:54:04.990 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:54:04.992 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:54:04.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.5778ms
2021-09-07 10:54:04.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 5.5651ms
2021-09-07 10:54:04.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:54:04.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:54:04.995 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:54:04.994 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:54:05.000 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:54:04.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 11.5702ms
2021-09-07 10:54:04.993 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:54:05.001 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:54:05.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 12.5282ms
2021-09-07 10:54:05.007 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 18.4276ms
2021-09-07 10:54:05.009 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 19.6834ms
2021-09-07 10:54:05.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 21.5011ms
2021-09-07 10:54:08.821 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - -
2021-09-07 10:54:08.822 +02:00 [INF] Authorization was successful.
2021-09-07 10:54:08.823 +02:00 [INF] Executing endpoint '/Account/Manage/ChangePassword'
2021-09-07 10:54:08.824 +02:00 [INF] Route matched with {page = "/Account/Manage/ChangePassword", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ChangePassword
2021-09-07 10:54:08.826 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ChangePasswordModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:54:08.827 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:54:08.830 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:54:08.832 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:54:08.833 +02:00 [INF] Executed page /Account/Manage/ChangePassword in 7.08ms
2021-09-07 10:54:08.833 +02:00 [INF] Executed endpoint '/Account/Manage/ChangePassword'
2021-09-07 10:54:08.834 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - - - 200 - text/html;+charset=utf-8 13.7146ms
2021-09-07 10:54:08.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:54:08.846 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:54:08.847 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:54:08.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:54:08.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 2.8663ms
2021-09-07 10:54:08.849 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:54:08.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:54:08.849 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:54:08.852 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:54:08.853 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:54:08.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 6.5238ms
2021-09-07 10:54:08.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:54:08.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:54:08.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 10.7818ms
2021-09-07 10:54:08.854 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 5.8720ms
2021-09-07 10:54:08.853 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:54:08.864 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:54:08.864 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:54:08.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 18.2688ms
2021-09-07 10:54:08.868 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 19.9123ms
2021-09-07 10:54:08.869 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 21.8795ms
2021-09-07 10:54:10.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 10:54:10.269 +02:00 [INF] Authorization was successful.
2021-09-07 10:54:10.271 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 10:54:10.272 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 10:54:10.274 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 10:54:10.275 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 10:54:10.277 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 10:54:10.280 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 10:54:10.282 +02:00 [INF] Executed page /Account/Manage/Index in 8.1997ms
2021-09-07 10:54:10.282 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 10:54:10.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 15.0173ms
2021-09-07 10:54:10.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 10:54:10.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 10:54:10.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 10:54:10.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 10:54:10.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 10:54:10.302 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 10:54:10.306 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 10:54:10.306 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 10:54:10.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 10:54:10.307 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 10:54:10.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 7.7404ms
2021-09-07 10:54:10.307 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 10:54:10.309 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 9.1667ms
2021-09-07 10:54:10.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 10.3006ms
2021-09-07 10:54:10.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 10:54:10.313 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 12.6507ms
2021-09-07 10:54:10.314 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 14.6713ms
2021-09-07 10:54:10.313 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 10:54:10.320 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 10:54:10.325 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 24.3555ms
2021-09-07 10:54:10.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 25.4598ms
2021-09-07 11:28:28.545 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 11:28:28.702 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 11:28:28.703 +02:00 [INF] Quartz Scheduler created
2021-09-07 11:28:28.708 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 11:28:28.708 +02:00 [INF] RAMJobStore initialized.
2021-09-07 11:28:28.710 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 11:28:28.710 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 11:28:28.710 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 11:28:28.728 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 11:28:28.730 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 11:28:28.740 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 11:28:29.345 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:28:30.399 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 11:28:30.453 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 11:28:30.692 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 11:28:30.763 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 11:28:30.782 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 11:28:31.257 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 11:28:31.257 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 11:28:31.259 +02:00 [INF] Hosting environment: Development
2021-09-07 11:28:31.259 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 11:28:32.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 11:28:32.460 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 11:28:32.474 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 11:28:32.491 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 11:28:32.597 +02:00 [INF] Executed ViewResult - view Index executed in 115.1466ms.
2021-09-07 11:28:32.598 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 122.4507ms
2021-09-07 11:28:32.599 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 11:28:32.603 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 265.4144ms
2021-09-07 11:28:32.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:28:32.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:28:32.616 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:28:32.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:28:32.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:28:32.629 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:28:32.629 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:28:32.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 16.4607ms
2021-09-07 11:28:32.635 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 17.9658ms
2021-09-07 11:28:32.646 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:28:32.646 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:28:32.646 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:28:32.648 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 30.4557ms
2021-09-07 11:28:32.648 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 31.4558ms
2021-09-07 11:28:32.649 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 32.6117ms
2021-09-07 11:28:40.671 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 11:28:40.683 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 11:28:40.699 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 11:28:40.716 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:28:40.725 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 11:28:40.726 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:28:40.729 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:28:40.729 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:28:40.780 +02:00 [INF] Executed page /Account/Login in 80.2865ms
2021-09-07 11:28:40.780 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 11:28:40.782 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 111.0485ms
2021-09-07 11:28:40.791 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:28:40.791 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:28:40.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:28:40.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:28:40.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:28:40.793 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:28:40.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:28:40.792 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:28:40.796 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 4.5553ms
2021-09-07 11:28:40.802 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:28:40.803 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:28:40.803 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:28:40.802 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:28:40.804 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:28:40.805 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:28:40.805 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 13.2052ms
2021-09-07 11:28:40.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 14.4446ms
2021-09-07 11:28:40.808 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 16.1248ms
2021-09-07 11:28:40.809 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 16.5950ms
2021-09-07 11:28:40.810 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 18.4845ms
2021-09-07 11:28:40.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 20.8297ms
2021-09-07 11:28:43.123 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 11:28:43.131 +02:00 [INF] CORS policy execution failed.
2021-09-07 11:28:43.132 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 11:28:43.135 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 11:28:43.136 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 11:28:43.157 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 11:28:43.161 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:28:43.169 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 11:28:43.259 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 11:28:43.281 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 11:28:43.288 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 11:28:43.290 +02:00 [INF] User logged in.
2021-09-07 11:28:43.292 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 11:28:43.294 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 11:28:43.294 +02:00 [INF] Executed page /Account/Login in 157.9449ms
2021-09-07 11:28:43.295 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 11:28:43.298 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 302 0 - 175.3327ms
2021-09-07 11:28:43.300 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 11:28:43.303 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 11:28:43.303 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 11:28:43.304 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 11:28:43.308 +02:00 [INF] Executed ViewResult - view Index executed in 3.9102ms.
2021-09-07 11:28:43.309 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 4.4457ms
2021-09-07 11:28:43.309 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 11:28:43.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 10.5317ms
2021-09-07 11:28:43.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:28:43.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:28:43.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:28:43.321 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:28:43.325 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:28:43.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:28:43.326 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:28:43.328 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.0788ms
2021-09-07 11:28:43.328 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:28:43.328 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:28:43.329 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:28:43.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 8.6581ms
2021-09-07 11:28:43.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 10.2888ms
2021-09-07 11:28:43.333 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 11.4286ms
2021-09-07 11:28:43.336 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 14.5585ms
2021-09-07 11:28:45.888 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 11:28:45.901 +02:00 [INF] Authorization was successful.
2021-09-07 11:28:45.903 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 11:28:45.906 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 11:28:45.908 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.Manage.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:28:45.932 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:28:45.941 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:28:45.945 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:28:45.974 +02:00 [INF] Executed page /Account/Manage/Index in 67.226ms
2021-09-07 11:28:45.974 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 11:28:45.976 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 88.5815ms
2021-09-07 11:28:45.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:28:45.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:28:45.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:28:45.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:28:45.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:28:45.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:28:45.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:28:45.990 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:28:45.998 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:28:45.998 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:28:45.998 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:28:45.998 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:28:45.999 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:28:45.998 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:28:46.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 11.1974ms
2021-09-07 11:28:46.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 13.2112ms
2021-09-07 11:28:46.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 13.3673ms
2021-09-07 11:28:46.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 14.1590ms
2021-09-07 11:28:46.004 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 16.0388ms
2021-09-07 11:28:46.006 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 18.4383ms
2021-09-07 11:28:46.008 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 19.1909ms
2021-09-07 11:28:50.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-07 11:28:50.305 +02:00 [INF] Authorization was successful.
2021-09-07 11:28:50.305 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 11:28:50.309 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-07 11:28:50.310 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:28:50.312 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:28:50.314 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:28:50.324 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:28:50.340 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:28:50.343 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:28:50.351 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 41.4909ms
2021-09-07 11:28:50.351 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 11:28:50.352 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 50.7841ms
2021-09-07 11:28:50.363 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:28:50.363 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:28:50.364 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:28:50.364 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:28:50.363 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:28:50.364 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:28:50.366 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:28:50.363 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:28:50.370 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:28:50.370 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:28:50.370 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:28:50.371 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:28:50.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 7.7196ms
2021-09-07 11:28:50.372 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:28:50.372 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:28:50.373 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 9.4250ms
2021-09-07 11:28:50.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 12.9379ms
2021-09-07 11:28:50.378 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 13.9503ms
2021-09-07 11:28:50.380 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 15.9430ms
2021-09-07 11:28:50.383 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 20.6341ms
2021-09-07 11:28:50.385 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 21.0185ms
2021-09-07 11:28:54.816 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - -
2021-09-07 11:28:54.821 +02:00 [INF] Authorization was successful.
2021-09-07 11:28:54.822 +02:00 [INF] Executing endpoint '/Account/Manage/PersonalData'
2021-09-07 11:28:54.824 +02:00 [INF] Route matched with {page = "/Account/Manage/PersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/PersonalData
2021-09-07 11:28:54.825 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.PersonalDataModel.OnGet - ModelState is "Valid"
2021-09-07 11:28:54.827 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:28:54.829 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:28:54.832 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:28:54.837 +02:00 [INF] Executed page /Account/Manage/PersonalData in 12.9482ms
2021-09-07 11:28:54.838 +02:00 [INF] Executed endpoint '/Account/Manage/PersonalData'
2021-09-07 11:28:54.838 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - - - 200 - text/html;+charset=utf-8 22.1973ms
2021-09-07 11:28:54.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:28:54.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:28:54.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:28:54.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:28:54.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:28:54.851 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:28:54.850 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:28:54.853 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:28:54.850 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:28:54.856 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:28:54.855 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:28:54.856 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:28:54.855 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 7.1851ms
2021-09-07 11:28:54.856 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:28:54.856 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:28:54.860 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 11.0700ms
2021-09-07 11:28:54.861 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 10.3610ms
2021-09-07 11:28:54.862 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 11.5854ms
2021-09-07 11:28:54.863 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 13.1126ms
2021-09-07 11:28:54.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 14.4648ms
2021-09-07 11:28:54.866 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 15.7108ms
2021-09-07 11:30:09.685 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-07 11:30:09.687 +02:00 [INF] Authorization was successful.
2021-09-07 11:30:09.687 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 11:30:09.688 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-07 11:30:09.689 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:30:09.690 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:30:09.692 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:30:09.695 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:30:09.698 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:30:09.698 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:30:09.700 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 11.1117ms
2021-09-07 11:30:09.700 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 11:30:09.701 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 15.3677ms
2021-09-07 11:30:09.710 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:30:09.715 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:30:09.715 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:30:09.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:30:09.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:30:09.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:30:09.718 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:30:09.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:30:09.722 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.2848ms
2021-09-07 11:30:09.729 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:30:09.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 16.7084ms
2021-09-07 11:30:09.751 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:30:09.752 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:30:09.754 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:30:09.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 42.5070ms
2021-09-07 11:30:09.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 43.5389ms
2021-09-07 11:30:09.763 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 46.0322ms
2021-09-07 11:30:09.763 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:30:09.764 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:30:09.766 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 50.3041ms
2021-09-07 11:30:09.767 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 56.9468ms
2021-09-07 11:30:37.462 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-07 11:30:37.464 +02:00 [INF] Authorization was successful.
2021-09-07 11:30:37.464 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 11:30:37.467 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-07 11:30:37.467 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:30:37.468 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:30:37.470 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:30:37.476 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:30:37.479 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:30:37.480 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:30:40.123 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 2656.3472ms
2021-09-07 11:30:40.124 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 11:30:40.126 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 2663.6630ms
2021-09-07 11:30:40.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:30:40.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:30:40.138 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:30:40.138 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:30:40.138 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:30:40.140 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:30:40.138 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:30:40.144 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:30:40.143 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.2789ms
2021-09-07 11:30:40.146 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 7.3123ms
2021-09-07 11:30:40.144 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:30:40.145 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:30:40.139 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:30:40.144 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:30:40.146 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:30:40.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 12.7172ms
2021-09-07 11:30:40.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.7883ms
2021-09-07 11:30:40.155 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:30:40.159 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 21.4300ms
2021-09-07 11:30:40.160 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 21.6714ms
2021-09-07 11:30:40.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 23.9339ms
2021-09-07 11:30:40.203 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 11:30:40.203 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 11:30:40.205 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 2.5216ms
2021-09-07 11:31:05.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - -
2021-09-07 11:31:05.243 +02:00 [INF] Authorization was successful.
2021-09-07 11:31:05.244 +02:00 [INF] Executing endpoint '/Account/Manage/ChangePassword'
2021-09-07 11:31:05.248 +02:00 [INF] Route matched with {page = "/Account/Manage/ChangePassword", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ChangePassword
2021-09-07 11:31:05.249 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ChangePasswordModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:31:05.251 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:31:05.253 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:31:05.256 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:31:05.269 +02:00 [INF] Executed page /Account/Manage/ChangePassword in 19.9887ms
2021-09-07 11:31:05.269 +02:00 [INF] Executed endpoint '/Account/Manage/ChangePassword'
2021-09-07 11:31:05.270 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - - - 200 - text/html;+charset=utf-8 36.4985ms
2021-09-07 11:31:05.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:31:05.280 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:31:05.283 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:31:05.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:31:05.286 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:31:05.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:31:05.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:31:05.286 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:31:05.291 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:31:05.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 10.9500ms
2021-09-07 11:31:05.297 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 8.6649ms
2021-09-07 11:31:05.306 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:31:05.306 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:31:05.307 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:31:05.307 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:31:05.307 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:31:05.308 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 22.0296ms
2021-09-07 11:31:05.310 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 24.1069ms
2021-09-07 11:31:05.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 28.4632ms
2021-09-07 11:31:05.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 30.1902ms
2021-09-07 11:31:05.317 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 37.4473ms
2021-09-07 11:31:07.281 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - -
2021-09-07 11:31:07.282 +02:00 [INF] Authorization was successful.
2021-09-07 11:31:07.283 +02:00 [INF] Executing endpoint '/Account/Manage/PersonalData'
2021-09-07 11:31:07.285 +02:00 [INF] Route matched with {page = "/Account/Manage/PersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/PersonalData
2021-09-07 11:31:07.286 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.PersonalDataModel.OnGet - ModelState is "Valid"
2021-09-07 11:31:07.287 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:31:07.289 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:31:07.290 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:31:07.291 +02:00 [INF] Executed page /Account/Manage/PersonalData in 5.6332ms
2021-09-07 11:31:07.292 +02:00 [INF] Executed endpoint '/Account/Manage/PersonalData'
2021-09-07 11:31:07.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - - - 200 - text/html;+charset=utf-8 11.5347ms
2021-09-07 11:31:07.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:31:07.303 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:31:07.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:31:07.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:31:07.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:31:07.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:31:07.309 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:31:07.313 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:31:07.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:31:07.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 15.2832ms
2021-09-07 11:31:07.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 13.8906ms
2021-09-07 11:31:07.330 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:31:07.330 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:31:07.338 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:31:07.357 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 49.1029ms
2021-09-07 11:31:07.357 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:31:07.357 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 52.2104ms
2021-09-07 11:31:07.357 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 53.0242ms
2021-09-07 11:31:07.357 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:31:07.359 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 56.1758ms
2021-09-07 11:31:07.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 61.6111ms
2021-09-07 11:31:09.168 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - -
2021-09-07 11:31:09.169 +02:00 [INF] Authorization was successful.
2021-09-07 11:31:09.171 +02:00 [INF] Executing endpoint '/Account/Manage/ChangePassword'
2021-09-07 11:31:09.171 +02:00 [INF] Route matched with {page = "/Account/Manage/ChangePassword", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ChangePassword
2021-09-07 11:31:09.172 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ChangePasswordModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:31:09.173 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:31:09.175 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:31:09.178 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:31:09.179 +02:00 [INF] Executed page /Account/Manage/ChangePassword in 6.9149ms
2021-09-07 11:31:09.179 +02:00 [INF] Executed endpoint '/Account/Manage/ChangePassword'
2021-09-07 11:31:09.180 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ChangePassword - - - 200 - text/html;+charset=utf-8 11.7282ms
2021-09-07 11:31:09.190 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:31:09.193 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:31:09.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:31:09.193 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:31:09.194 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:31:09.193 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:31:09.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:31:09.200 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:31:09.202 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:31:09.202 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:31:09.207 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 15.7873ms
2021-09-07 11:31:09.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 13.2659ms
2021-09-07 11:31:09.206 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:31:09.206 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:31:09.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 13.1852ms
2021-09-07 11:31:09.203 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:31:09.211 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:31:09.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 24.2121ms
2021-09-07 11:31:09.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 29.8648ms
2021-09-07 11:31:09.223 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 30.4462ms
2021-09-07 11:31:09.224 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 30.2318ms
2021-09-07 11:31:10.974 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - -
2021-09-07 11:31:10.975 +02:00 [INF] Authorization was successful.
2021-09-07 11:31:10.976 +02:00 [INF] Executing endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 11:31:10.977 +02:00 [INF] Route matched with {page = "/Account/Manage/TwoFactorAuthentication", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/TwoFactorAuthentication
2021-09-07 11:31:10.977 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.TwoFactorAuthenticationModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:31:10.978 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:31:10.984 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:31:10.987 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:31:10.992 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:31:10.993 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:31:10.994 +02:00 [INF] Executed page /Account/Manage/TwoFactorAuthentication in 16.9563ms
2021-09-07 11:31:10.995 +02:00 [INF] Executed endpoint '/Account/Manage/TwoFactorAuthentication'
2021-09-07 11:31:10.995 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/TwoFactorAuthentication - - - 200 - text/html;+charset=utf-8 21.0398ms
2021-09-07 11:31:11.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:31:11.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:31:11.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:31:11.008 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:31:11.008 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:31:11.008 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:31:11.009 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:31:11.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.1953ms
2021-09-07 11:31:11.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:31:11.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:31:11.014 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:31:11.013 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:31:11.014 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 6.0953ms
2021-09-07 11:31:11.019 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:31:11.022 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:31:11.019 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 11.2620ms
2021-09-07 11:31:11.023 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:31:11.024 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 16.6500ms
2021-09-07 11:31:11.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 19.8998ms
2021-09-07 11:31:11.029 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 21.2255ms
2021-09-07 11:31:11.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 24.8246ms
2021-09-07 11:33:28.685 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:33:28.736 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 11:33:28.796 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 11:38:58.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ResetAuthenticator - -
2021-09-07 11:38:58.118 +02:00 [INF] Authorization was successful.
2021-09-07 11:38:58.118 +02:00 [INF] Executing endpoint '/Account/Manage/ResetAuthenticator'
2021-09-07 11:38:58.121 +02:00 [INF] Route matched with {page = "/Account/Manage/ResetAuthenticator", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ResetAuthenticator
2021-09-07 11:38:58.122 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ResetAuthenticatorModel.OnGet - ModelState is "Valid"
2021-09-07 11:38:58.123 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:38:58.181 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:38:58.183 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:38:58.188 +02:00 [INF] Executed page /Account/Manage/ResetAuthenticator in 66.7252ms
2021-09-07 11:38:58.188 +02:00 [INF] Executed endpoint '/Account/Manage/ResetAuthenticator'
2021-09-07 11:38:58.189 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/ResetAuthenticator - - - 200 - text/html;+charset=utf-8 78.5609ms
2021-09-07 11:38:58.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:38:58.201 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:38:58.201 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:38:58.202 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:38:58.205 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:38:58.215 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:38:58.220 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 19.0703ms
2021-09-07 11:38:58.226 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:38:58.230 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 25.9022ms
2021-09-07 11:38:58.230 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:38:58.236 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 34.4768ms
2021-09-07 11:38:58.237 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:38:58.237 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:38:58.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 37.0248ms
2021-09-07 11:38:58.239 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 39.3269ms
2021-09-07 11:39:00.262 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Manage/ResetAuthenticator application/x-www-form-urlencoded 225
2021-09-07 11:39:00.263 +02:00 [INF] CORS policy execution failed.
2021-09-07 11:39:00.264 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 11:39:00.266 +02:00 [INF] Authorization was successful.
2021-09-07 11:39:00.266 +02:00 [INF] Executing endpoint '/Account/Manage/ResetAuthenticator'
2021-09-07 11:39:00.267 +02:00 [INF] Route matched with {page = "/Account/Manage/ResetAuthenticator", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/ResetAuthenticator
2021-09-07 11:39:00.268 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.ResetAuthenticatorModel.OnPostAsync - ModelState is "Valid"
2021-09-07 11:39:00.270 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:39:00.271 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:39:00.279 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 11:39:00.356 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 11:39:00.377 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:39:00.381 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 11:39:00.390 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 450), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUserTokens] SET [Value] = @p0
WHERE [LoginProvider] = @p1 AND [Name] = @p2 AND [UserId] = @p3;
SELECT @@ROWCOUNT;
2021-09-07 11:39:00.392 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 11:39:00.395 +02:00 [INF] User has reset their authentication app key.
2021-09-07 11:39:00.398 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 11:39:00.401 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 11:39:00.402 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 11:39:00.403 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2021-09-07 11:39:00.404 +02:00 [INF] Executing RedirectToPageResult, redirecting to ./EnableAuthenticator.
2021-09-07 11:39:00.416 +02:00 [INF] Executed page /Account/Manage/ResetAuthenticator in 148.1643ms
2021-09-07 11:39:00.416 +02:00 [INF] Executed endpoint '/Account/Manage/ResetAuthenticator'
2021-09-07 11:39:00.417 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Manage/ResetAuthenticator application/x-www-form-urlencoded 225 - 302 0 - 154.9308ms
2021-09-07 11:39:00.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/EnableAuthenticator - -
2021-09-07 11:39:00.421 +02:00 [INF] Authorization was successful.
2021-09-07 11:39:00.421 +02:00 [INF] Executing endpoint '/Account/Manage/EnableAuthenticator'
2021-09-07 11:39:00.426 +02:00 [INF] Route matched with {page = "/Account/Manage/EnableAuthenticator", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/EnableAuthenticator
2021-09-07 11:39:00.427 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EnableAuthenticatorModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:39:00.429 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:39:00.431 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:39:00.437 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450), @__p_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[LoginProvider], [a].[Name], [a].[Value]
FROM [AspNetUserTokens] AS [a]
WHERE (([a].[UserId] = @__p_0) AND ([a].[LoginProvider] = @__p_1)) AND ([a].[Name] = @__p_2)
2021-09-07 11:39:00.440 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:39:00.450 +02:00 [INF] Executed page /Account/Manage/EnableAuthenticator in 23.6375ms
2021-09-07 11:39:00.451 +02:00 [INF] Executed endpoint '/Account/Manage/EnableAuthenticator'
2021-09-07 11:39:00.452 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/EnableAuthenticator - - - 200 - text/html;+charset=utf-8 33.3573ms
2021-09-07 11:39:00.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:39:00.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:39:00.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:39:00.469 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:39:00.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:39:00.468 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:39:00.469 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:39:00.470 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:39:00.476 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:39:00.475 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:39:00.476 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:39:00.476 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:39:00.475 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.5467ms
2021-09-07 11:39:00.479 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 16.2568ms
2021-09-07 11:39:00.469 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:39:00.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 14.7563ms
2021-09-07 11:39:00.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 16.6596ms
2021-09-07 11:39:00.486 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 17.8976ms
2021-09-07 11:39:00.487 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 19.0889ms
2021-09-07 11:39:00.490 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:39:00.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 25.5493ms
2021-09-07 11:39:17.237 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - -
2021-09-07 11:39:17.238 +02:00 [INF] Authorization was successful.
2021-09-07 11:39:17.239 +02:00 [INF] Executing endpoint '/Account/Manage/PersonalData'
2021-09-07 11:39:17.240 +02:00 [INF] Route matched with {page = "/Account/Manage/PersonalData", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/PersonalData
2021-09-07 11:39:17.241 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.PersonalDataModel.OnGet - ModelState is "Valid"
2021-09-07 11:39:17.241 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:39:17.244 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:39:17.245 +02:00 [INF] Executed handler method OnGet, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:39:17.246 +02:00 [INF] Executed page /Account/Manage/PersonalData in 5.8839ms
2021-09-07 11:39:17.247 +02:00 [INF] Executed endpoint '/Account/Manage/PersonalData'
2021-09-07 11:39:17.251 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/PersonalData - - - 200 - text/html;+charset=utf-8 13.5970ms
2021-09-07 11:39:17.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:39:17.259 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:39:17.263 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:39:17.264 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:39:17.265 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:39:17.265 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.0153ms
2021-09-07 11:39:17.265 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:39:17.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:39:17.269 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:39:17.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:39:17.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 8.4681ms
2021-09-07 11:39:17.275 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:39:17.275 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:39:17.274 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:39:17.276 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:39:17.280 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:39:17.281 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 13.3693ms
2021-09-07 11:39:17.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 23.9757ms
2021-09-07 11:39:17.284 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 20.4000ms
2021-09-07 11:39:17.285 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 17.1810ms
2021-09-07 11:39:17.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 22.4592ms
2021-09-07 11:39:29.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 11:39:29.044 +02:00 [INF] Authorization was successful.
2021-09-07 11:39:29.045 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 11:39:29.047 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 11:39:29.048 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.Manage.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:39:29.052 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:39:29.055 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:39:29.057 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:39:29.058 +02:00 [INF] Executed page /Account/Manage/Index in 9.9061ms
2021-09-07 11:39:29.058 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 11:39:29.059 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 15.9396ms
2021-09-07 11:39:29.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:39:29.070 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:39:29.073 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:39:29.073 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:39:29.076 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:39:29.076 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:39:29.076 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:39:29.076 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:39:29.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 7.9872ms
2021-09-07 11:39:29.080 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:39:29.084 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:39:29.085 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:39:29.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 9.3575ms
2021-09-07 11:39:29.086 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:39:29.086 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:39:29.086 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:39:29.087 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 10.6771ms
2021-09-07 11:39:29.088 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 16.5350ms
2021-09-07 11:39:29.091 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 21.3480ms
2021-09-07 11:39:29.092 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 19.4074ms
2021-09-07 11:39:29.093 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 17.5045ms
2021-09-07 11:39:31.169 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 11:39:31.169 +02:00 [INF] Authorization was successful.
2021-09-07 11:39:31.170 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 11:39:31.171 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 11:39:31.172 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.Manage.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:39:31.173 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:39:31.174 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:39:31.176 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:39:31.178 +02:00 [INF] Executed page /Account/Manage/Index in 5.8338ms
2021-09-07 11:39:31.178 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 11:39:31.179 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 10.8494ms
2021-09-07 11:39:31.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:39:31.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:39:31.192 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:39:31.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:39:31.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:39:31.193 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 2.3983ms
2021-09-07 11:39:31.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:39:31.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:39:31.200 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:39:31.197 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:39:31.197 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:39:31.194 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:39:31.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:39:31.201 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 10.1771ms
2021-09-07 11:39:31.203 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 12.0685ms
2021-09-07 11:39:31.207 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:39:31.202 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:39:31.205 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 14.8234ms
2021-09-07 11:39:31.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.1126ms
2021-09-07 11:39:31.209 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 17.8544ms
2021-09-07 11:39:31.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 23.8413ms
2021-09-07 11:39:33.325 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - -
2021-09-07 11:39:33.328 +02:00 [INF] Authorization was successful.
2021-09-07 11:39:33.328 +02:00 [INF] Executing endpoint '/Account/Manage/Email'
2021-09-07 11:39:33.331 +02:00 [INF] Route matched with {page = "/Account/Manage/Email", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Email
2021-09-07 11:39:33.332 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Manage.Internal.EmailModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:39:33.334 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:39:33.335 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:39:33.340 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:39:33.354 +02:00 [INF] Executed page /Account/Manage/Email in 22.1624ms
2021-09-07 11:39:33.354 +02:00 [INF] Executed endpoint '/Account/Manage/Email'
2021-09-07 11:39:33.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage/Email - - - 200 - text/html;+charset=utf-8 30.4986ms
2021-09-07 11:39:33.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:39:33.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:39:33.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:39:33.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:39:33.367 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:39:33.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:39:33.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:39:33.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 4.4450ms
2021-09-07 11:39:33.371 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:39:33.370 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:39:33.370 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:39:33.373 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:39:33.376 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 7.9295ms
2021-09-07 11:39:33.377 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 12.4731ms
2021-09-07 11:39:33.369 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:39:33.365 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:39:33.378 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 13.1552ms
2021-09-07 11:39:33.381 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 15.9413ms
2021-09-07 11:39:33.384 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 18.9191ms
2021-09-07 11:39:33.387 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:39:33.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 28.9854ms
2021-09-07 11:40:11.868 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 11:40:11.869 +02:00 [INF] Authorization was successful.
2021-09-07 11:40:11.870 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 11:40:11.870 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 11:40:11.871 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.Manage.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:40:11.872 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 11:40:11.873 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 11:40:11.875 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:40:11.876 +02:00 [INF] Executed page /Account/Manage/Index in 5.2146ms
2021-09-07 11:40:11.876 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 11:40:11.877 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 200 - text/html;+charset=utf-8 9.4399ms
2021-09-07 11:40:11.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:40:11.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:40:11.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:40:11.896 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:40:11.896 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:40:11.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:40:11.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:40:11.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 39.5196ms
2021-09-07 11:40:11.933 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:40:11.934 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:40:11.936 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 45.1063ms
2021-09-07 11:40:11.940 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:40:11.940 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:40:11.944 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:40:11.944 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:40:11.945 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 47.3699ms
2021-09-07 11:40:11.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 48.2331ms
2021-09-07 11:40:11.945 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:40:11.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 13.1272ms
2021-09-07 11:40:11.947 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 49.4188ms
2021-09-07 11:40:11.950 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 60.2914ms
2021-09-07 11:42:14.327 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2021-09-07 11:42:14.329 +02:00 [INF] CORS policy execution failed.
2021-09-07 11:42:14.330 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 11:42:14.331 +02:00 [INF] Executing endpoint '/Account/Logout'
2021-09-07 11:42:14.334 +02:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2021-09-07 11:42:14.335 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LogoutModel.OnPost - ModelState is "Valid"
2021-09-07 11:42:14.338 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 11:42:14.339 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 11:42:14.339 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 11:42:14.339 +02:00 [INF] User logged out.
2021-09-07 11:42:14.340 +02:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 11:42:14.340 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 11:42:14.341 +02:00 [INF] Executed page /Account/Logout in 6.7696ms
2021-09-07 11:42:14.341 +02:00 [INF] Executed endpoint '/Account/Logout'
2021-09-07 11:42:14.344 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 17.7267ms
2021-09-07 11:42:14.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 11:42:14.351 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 11:42:14.352 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 11:42:14.353 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 11:42:14.354 +02:00 [INF] Executed ViewResult - view Index executed in 0.734ms.
2021-09-07 11:42:14.354 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.0322ms
2021-09-07 11:42:14.354 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 11:42:14.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 4.1670ms
2021-09-07 11:42:14.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:42:14.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:42:14.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:42:14.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:42:14.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:42:14.372 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:42:14.373 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:42:14.374 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 6.6225ms
2021-09-07 11:42:14.380 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 12.3309ms
2021-09-07 11:42:14.399 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:42:14.399 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:42:14.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 35.1260ms
2021-09-07 11:42:14.402 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 35.2195ms
2021-09-07 11:42:14.405 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:42:14.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 40.7598ms
2021-09-07 11:43:06.409 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 11:43:06.410 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 11:43:06.411 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 11:43:06.569 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 11:43:06.571 +02:00 [INF] Executed ViewResult - view Index executed in 158.5234ms.
2021-09-07 11:43:06.571 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 158.824ms
2021-09-07 11:43:06.572 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 11:43:06.573 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 163.7830ms
2021-09-07 11:43:06.581 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:43:06.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:43:06.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:43:06.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:43:06.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:43:06.584 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:43:06.586 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:43:06.586 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 4.4477ms
2021-09-07 11:43:06.588 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 5.8907ms
2021-09-07 11:43:06.587 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:43:06.596 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.9283ms
2021-09-07 11:43:06.596 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:43:06.596 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:43:06.601 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 18.9888ms
2021-09-07 11:43:06.602 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 20.6857ms
2021-09-07 11:43:06.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 11:43:06.638 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 11:43:06.640 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 2.0377ms
2021-09-07 11:43:16.122 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 11:43:16.127 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 11:43:16.129 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 11:43:16.131 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:43:16.133 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 11:43:16.133 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:43:16.133 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:43:16.134 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:43:16.136 +02:00 [INF] Executed page /Account/Login in 5.6014ms
2021-09-07 11:43:16.136 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 11:43:16.137 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 14.9574ms
2021-09-07 11:43:16.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:43:16.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:43:16.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:43:16.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:43:16.151 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:43:16.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:43:16.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 5.8493ms
2021-09-07 11:43:16.154 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:43:16.148 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:43:16.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:43:16.156 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:43:16.159 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:43:16.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 8.8824ms
2021-09-07 11:43:16.153 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:43:16.153 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:43:16.159 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:43:16.159 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 12.1162ms
2021-09-07 11:43:16.165 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 17.1891ms
2021-09-07 11:43:16.168 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 20.7911ms
2021-09-07 11:43:16.169 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 20.5478ms
2021-09-07 11:43:16.170 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 22.6302ms
2021-09-07 11:43:25.851 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-07 11:43:25.861 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-07 11:43:25.863 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-07 11:43:25.864 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:43:25.866 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:43:25.866 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:43:25.866 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:43:25.878 +02:00 [INF] Executed page /Account/Register in 13.897ms
2021-09-07 11:43:25.878 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-07 11:43:25.879 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 27.6401ms
2021-09-07 11:43:25.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:43:25.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:43:25.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:43:25.892 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:43:25.892 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:43:25.892 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:43:25.892 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:43:25.894 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:43:25.896 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:43:25.898 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.9117ms
2021-09-07 11:43:25.894 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:43:25.898 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:43:25.897 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:43:25.898 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 6.4551ms
2021-09-07 11:43:25.899 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:43:25.899 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:43:25.900 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 8.4576ms
2021-09-07 11:43:25.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 14.0950ms
2021-09-07 11:43:25.905 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 14.0701ms
2021-09-07 11:43:25.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 15.7782ms
2021-09-07 11:43:25.909 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 17.2963ms
2021-09-07 11:43:27.698 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 11:43:27.698 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 11:43:27.699 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 11:43:27.701 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:43:27.702 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 11:43:27.703 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:43:27.703 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:43:27.703 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:43:27.705 +02:00 [INF] Executed page /Account/Login in 4.5224ms
2021-09-07 11:43:27.705 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 11:43:27.706 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 8.4461ms
2021-09-07 11:43:27.715 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:43:27.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:43:27.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:43:27.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:43:27.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:43:27.718 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:43:27.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:43:27.716 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:43:27.725 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:43:27.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 10.6603ms
2021-09-07 11:43:27.720 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:43:27.718 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:43:27.730 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 13.7416ms
2021-09-07 11:43:27.730 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:43:27.732 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 16.7524ms
2021-09-07 11:43:27.733 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 17.6129ms
2021-09-07 11:43:27.730 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:43:27.720 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:43:27.738 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 21.8907ms
2021-09-07 11:43:27.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 24.3809ms
2021-09-07 11:43:27.742 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 25.7631ms
2021-09-07 11:44:44.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/ResendEmailConfirmation - -
2021-09-07 11:44:44.445 +02:00 [INF] Executing endpoint '/Account/ResendEmailConfirmation'
2021-09-07 11:44:44.447 +02:00 [INF] Route matched with {page = "/Account/ResendEmailConfirmation", area = "Identity", action = "", controller = ""}. Executing page /Account/ResendEmailConfirmation
2021-09-07 11:44:44.448 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.ResendEmailConfirmationModel.OnGet - ModelState is "Valid"
2021-09-07 11:44:44.450 +02:00 [INF] Executed handler method OnGet, returned result .
2021-09-07 11:44:44.450 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:44:44.450 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:44:44.458 +02:00 [INF] Executed page /Account/ResendEmailConfirmation in 9.9097ms
2021-09-07 11:44:44.458 +02:00 [INF] Executed endpoint '/Account/ResendEmailConfirmation'
2021-09-07 11:44:44.459 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/ResendEmailConfirmation - - - 200 - text/html;+charset=utf-8 15.6911ms
2021-09-07 11:44:44.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:44:44.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:44:44.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:44:44.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:44:44.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:44:44.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:44:44.477 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:44:44.480 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 5.2607ms
2021-09-07 11:44:44.475 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:44:44.491 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:44:44.491 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:44:44.494 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 18.6407ms
2021-09-07 11:44:44.498 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:44:44.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 22.4376ms
2021-09-07 11:44:44.491 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:44:44.501 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 25.6223ms
2021-09-07 11:44:44.501 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:44:44.501 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:44:44.503 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 28.1493ms
2021-09-07 11:44:44.506 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 30.4994ms
2021-09-07 11:44:44.507 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 32.1196ms
2021-09-07 11:44:46.755 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 11:44:46.756 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 11:44:46.758 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 11:44:46.759 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:44:46.760 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 11:44:46.760 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:44:46.760 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:44:46.761 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:44:46.762 +02:00 [INF] Executed page /Account/Login in 3.1494ms
2021-09-07 11:44:46.762 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 11:44:46.763 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 7.6386ms
2021-09-07 11:44:46.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:44:46.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:44:46.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:44:46.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:44:46.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:44:46.778 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:44:46.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:44:46.787 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:44:46.788 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:44:46.788 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:44:46.787 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:44:46.788 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:44:46.788 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:44:46.788 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:44:46.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 13.5389ms
2021-09-07 11:44:46.794 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 16.7256ms
2021-09-07 11:44:46.797 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 19.0926ms
2021-09-07 11:44:46.798 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 20.1419ms
2021-09-07 11:44:46.799 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 21.3220ms
2021-09-07 11:44:46.800 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 22.7250ms
2021-09-07 11:44:46.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 24.0278ms
2021-09-07 11:44:49.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/ForgotPassword - -
2021-09-07 11:44:49.199 +02:00 [INF] Executing endpoint '/Account/ForgotPassword'
2021-09-07 11:44:49.201 +02:00 [INF] Route matched with {page = "/Account/ForgotPassword", area = "Identity", action = "", controller = ""}. Executing page /Account/ForgotPassword
2021-09-07 11:44:49.202 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:44:49.202 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:44:49.209 +02:00 [INF] Executed page /Account/ForgotPassword in 7.9519ms
2021-09-07 11:44:49.210 +02:00 [INF] Executed endpoint '/Account/ForgotPassword'
2021-09-07 11:44:49.210 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/ForgotPassword - - - 200 - text/html;+charset=utf-8 13.4622ms
2021-09-07 11:44:49.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:44:49.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:44:49.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:44:49.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:44:49.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:44:49.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:44:49.221 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:44:49.228 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:44:49.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 9.0452ms
2021-09-07 11:44:49.231 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:44:49.231 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:44:49.231 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:44:49.231 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:44:49.236 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:44:49.236 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:44:49.236 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 15.4022ms
2021-09-07 11:44:49.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 16.9594ms
2021-09-07 11:44:49.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 19.6095ms
2021-09-07 11:44:49.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 21.6689ms
2021-09-07 11:44:49.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 23.7752ms
2021-09-07 11:44:49.245 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 23.9130ms
2021-09-07 11:44:52.318 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 11:44:52.318 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 11:44:52.319 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 11:44:52.320 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:44:52.321 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 11:44:52.321 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:44:52.322 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:44:52.322 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:44:52.323 +02:00 [INF] Executed page /Account/Login in 3.0769ms
2021-09-07 11:44:52.323 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 11:44:52.324 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 6.3653ms
2021-09-07 11:44:52.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:44:52.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:44:52.338 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:44:52.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:44:52.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:44:52.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:44:52.340 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:44:52.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:44:52.354 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:44:52.354 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:44:52.354 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:44:52.354 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:44:52.354 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 16.4921ms
2021-09-07 11:44:52.354 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:44:52.354 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:44:52.359 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 19.9030ms
2021-09-07 11:44:52.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 21.3565ms
2021-09-07 11:44:52.362 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 23.5366ms
2021-09-07 11:44:52.366 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 28.6120ms
2021-09-07 11:44:52.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 28.9407ms
2021-09-07 11:44:52.369 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 30.7018ms
2021-09-07 11:46:43.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 11:46:43.869 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 11:46:43.871 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 11:46:43.872 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:46:43.873 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 11:46:43.873 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:46:43.873 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:46:43.874 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:46:43.885 +02:00 [INF] Executed page /Account/Login in 13.2179ms
2021-09-07 11:46:43.885 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 11:46:43.886 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 254.7961ms
2021-09-07 11:46:43.896 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:46:43.896 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:46:43.897 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:46:43.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:46:43.898 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:46:43.899 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:46:43.899 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:46:43.900 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 4.0796ms
2021-09-07 11:46:43.901 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:46:43.904 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:46:43.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 9.4477ms
2021-09-07 11:46:43.919 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:46:43.920 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:46:43.920 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:46:43.920 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:46:43.920 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:46:43.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 20.6639ms
2021-09-07 11:46:43.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 27.0853ms
2021-09-07 11:46:43.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 26.4842ms
2021-09-07 11:46:43.925 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 25.8762ms
2021-09-07 11:46:43.926 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 29.1643ms
2021-09-07 11:46:43.976 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 11:46:43.977 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 11:46:43.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 2.1578ms
2021-09-07 11:46:51.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-07 11:46:51.196 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-07 11:46:51.198 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-07 11:46:51.199 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:46:51.199 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:46:51.200 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:46:51.201 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:46:51.202 +02:00 [INF] Executed page /Account/Register in 4.0537ms
2021-09-07 11:46:51.203 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-07 11:46:51.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 11.7773ms
2021-09-07 11:46:51.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:46:51.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:46:51.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:46:51.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:46:51.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:46:51.221 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:46:51.226 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:46:51.222 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:46:51.218 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:46:51.217 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:46:51.227 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 10.1593ms
2021-09-07 11:46:51.226 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 8.5285ms
2021-09-07 11:46:51.223 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:46:51.228 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 11.8088ms
2021-09-07 11:46:51.234 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 16.0731ms
2021-09-07 11:46:51.232 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:46:51.230 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:46:51.219 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:46:51.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 23.9215ms
2021-09-07 11:46:51.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 24.7891ms
2021-09-07 11:46:51.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 26.5582ms
2021-09-07 11:46:57.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 11:46:57.359 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 11:46:57.360 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 11:46:57.361 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 11:46:57.362 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 11:46:57.362 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 11:46:57.362 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 11:46:57.363 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 11:46:57.365 +02:00 [INF] Executed page /Account/Login in 3.5917ms
2021-09-07 11:46:57.365 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 11:46:57.365 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 6.5802ms
2021-09-07 11:46:57.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 11:46:57.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 11:46:57.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 11:46:57.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 11:46:57.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 11:46:57.380 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 11:46:57.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 11:46:57.382 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 11:46:57.384 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 11:46:57.386 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 8.6603ms
2021-09-07 11:46:57.384 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 11:46:57.389 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 10.1141ms
2021-09-07 11:46:57.383 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 11:46:57.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 11:46:57.392 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 15.5385ms
2021-09-07 11:46:57.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 16.3307ms
2021-09-07 11:46:57.392 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 11:46:57.399 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 21.7151ms
2021-09-07 11:46:57.406 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 27.1471ms
2021-09-07 11:46:57.407 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 11:46:57.411 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 31.4905ms
2021-09-07 15:03:44.636 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 15:03:44.724 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 15:03:44.724 +02:00 [INF] Quartz Scheduler created
2021-09-07 15:03:44.724 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 15:03:44.724 +02:00 [INF] RAMJobStore initialized.
2021-09-07 15:03:44.726 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 15:03:44.726 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 15:03:44.726 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 15:03:44.741 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 15:03:44.742 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 15:03:44.751 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 15:03:45.245 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:03:46.212 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 15:03:46.266 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 15:03:46.480 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:03:46.549 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:03:46.562 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 15:03:46.856 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 15:03:46.856 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 15:03:46.856 +02:00 [INF] Hosting environment: Development
2021-09-07 15:03:46.856 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 15:05:13.502 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:05:13.528 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:05:13.556 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 15:05:13.566 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 15:05:13.567 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 15:05:13.587 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 15:05:13.592 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 91.5674ms
2021-09-07 15:05:13.597 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 15:05:13.598 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:05:13.598 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 15:05:13.599 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 15:05:13.600 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 15:05:13.623 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 15:05:13.624 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 26.5971ms
2021-09-07 15:05:13.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=ZGguYjB4UzRvMnBvUm45ejBrMk8zbmxJNmlFSVBXd0pjTkVLX3djQlFiWlpm&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=VZk-Pq33gAcUdlw4bA3eIYcb4RzVSmqHFh13svmCgRo&code_challenge_method=S256&nonce=ZGguYjB4UzRvMnBvUm45ejBrMk8zbmxJNmlFSVBXd0pjTkVLX3djQlFiWlpm&prompt=none - -
2021-09-07 15:05:13.639 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:05:13.642 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "ZGguYjB4UzRvMnBvUm45ejBrMk8zbmxJNmlFSVBXd0pjTkVLX3djQlFiWlpm",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "VZk-Pq33gAcUdlw4bA3eIYcb4RzVSmqHFh13svmCgRo",
  "code_challenge_method": "S256",
  "nonce": "ZGguYjB4UzRvMnBvUm45ejBrMk8zbmxJNmlFSVBXd0pjTkVLX3djQlFiWlpm",
  "prompt": "none"
}.
2021-09-07 15:05:13.654 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:05:13.656 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:05:13.675 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:05:13.695 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:05:13.708 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:05:13.716 +02:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-07 15:05:13.729 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "error": "login_required",
  "error_description": "The user is not logged in.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2015",
  "state": "ZGguYjB4UzRvMnBvUm45ejBrMk8zbmxJNmlFSVBXd0pjTkVLX3djQlFiWlpm"
}.
2021-09-07 15:05:13.736 +02:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2021-09-07 15:05:13.739 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 28.399ms
2021-09-07 15:05:13.740 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:05:13.744 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=ZGguYjB4UzRvMnBvUm45ejBrMk8zbmxJNmlFSVBXd0pjTkVLX3djQlFiWlpm&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=VZk-Pq33gAcUdlw4bA3eIYcb4RzVSmqHFh13svmCgRo&code_challenge_method=S256&nonce=ZGguYjB4UzRvMnBvUm45ejBrMk8zbmxJNmlFSVBXd0pjTkVLX3djQlFiWlpm&prompt=none - - - 302 0 - 107.9698ms
2021-09-07 15:05:25.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=vW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8&code_challenge_method=S256&nonce=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M - -
2021-09-07 15:05:25.055 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:05:25.056 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "vW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8",
  "code_challenge_method": "S256",
  "nonce": "RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M"
}.
2021-09-07 15:05:25.081 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:05:25.082 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:05:25.084 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:05:25.085 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:05:25.085 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:05:25.090 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2021-09-07 15:05:25.090 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-09-07 15:05:25.091 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 5.6726ms
2021-09-07 15:05:25.091 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:05:25.091 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=vW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8&code_challenge_method=S256&nonce=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M - - - 302 0 - 36.8323ms
2021-09-07 15:05:25.093 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DRVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DvW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8%26code_challenge_method%3DS256%26nonce%3DRVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M - -
2021-09-07 15:05:25.113 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 15:05:25.132 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 15:05:25.148 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 15:05:25.154 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 15:05:25.155 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 15:05:25.157 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 15:05:25.157 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 15:05:25.256 +02:00 [INF] Executed page /Account/Login in 123.6429ms
2021-09-07 15:05:25.256 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 15:05:25.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DRVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DvW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8%26code_challenge_method%3DS256%26nonce%3DRVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M - - - 200 - text/html;+charset=utf-8 163.5986ms
2021-09-07 15:05:25.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 15:05:25.347 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 15:05:25.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 8.7121ms
2021-09-07 15:05:25.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 15:05:25.364 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 15:05:25.364 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 9.1985ms
2021-09-07 15:05:41.934 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DRVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DvW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8%26code_challenge_method%3DS256%26nonce%3DRVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M application/x-www-form-urlencoded 269
2021-09-07 15:05:41.939 +02:00 [INF] CORS policy execution failed.
2021-09-07 15:05:41.939 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 15:05:41.940 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 15:05:41.940 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 15:05:41.950 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 15:05:41.953 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:05:41.959 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 15:05:42.031 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:05:42.051 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:05:42.056 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 15:05:42.057 +02:00 [INF] User logged in.
2021-09-07 15:05:42.058 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 15:05:42.060 +02:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?response_type=code&client_id=angularClient&state=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=vW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8&code_challenge_method=S256&nonce=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M.
2021-09-07 15:05:42.060 +02:00 [INF] Executed page /Account/Login in 120.2565ms
2021-09-07 15:05:42.060 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 15:05:42.061 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DRVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DvW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8%26code_challenge_method%3DS256%26nonce%3DRVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M application/x-www-form-urlencoded 269 - 302 0 - 126.4363ms
2021-09-07 15:05:42.063 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=vW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8&code_challenge_method=S256&nonce=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M - -
2021-09-07 15:05:42.063 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:05:42.064 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "vW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8",
  "code_challenge_method": "S256",
  "nonce": "RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M"
}.
2021-09-07 15:05:42.065 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:05:42.065 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:05:42.068 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:05:42.071 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:05:42.071 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:05:42.080 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:05:42.124 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:05:42.158 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:05:42.159 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:05:42.199 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:05:42.204 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:05:42.224 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:42.231 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:42.354 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:05:42.479 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:42.480 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:42.500 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:05:42.513 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:05:42.518 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%2Fhome"
}.
2021-09-07 15:05:42.519 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 448.1317ms
2021-09-07 15:05:42.519 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:05:42.519 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=vW1NXlDg34ic2-2Z679HZMURwQyojgK88-Gy6aCj_y8&code_challenge_method=S256&nonce=RVVaRmQ5X0lxWEJBcnRKMmtGTG9hWC5ZM2VJaGFxaX41UkhMSHYwOWtTU35M - - - 302 0 - 456.0615ms
2021-09-07 15:05:42.908 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:05:42.909 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:05:42.909 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 15:05:42.909 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 15:05:42.909 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 15:05:42.910 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 15:05:42.911 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 2.6499ms
2021-09-07 15:05:42.946 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 15:05:42.946 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:05:42.946 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 15:05:42.947 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 15:05:42.947 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 15:05:42.950 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 15:05:42.951 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 4.4827ms
2021-09-07 15:05:42.968 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221
2021-09-07 15:05:42.968 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:05:42.968 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:05:42.971 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200",
  "code_verifier": "a2FIeE5aOUdrMXYzM3cuNHBjdG9UVzRkUzR2NUl5ZlpWbXZKYjlBVHVsQXhi",
  "client_id": "angularClient"
}.
2021-09-07 15:05:42.977 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:05:42.979 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:05:42.997 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:05:43.080 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.085 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:05:43.087 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:05:43.089 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:05:43.092 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:05:43.092 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:05:43.099 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:05:43.101 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:05:43.103 +02:00 [INF] The token 'c17885bd-b9eb-476f-9ab6-c839f79b4ffa' was successfully marked as redeemed.
2021-09-07 15:05:43.105 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.105 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.107 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:05:43.112 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.113 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.114 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:05:43.123 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.124 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.125 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:05:43.129 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:05:43.129 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 40.1626ms
2021-09-07 15:05:43.129 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:05:43.129 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221 - 200 6604 application/json;charset=UTF-8 161.4323ms
2021-09-07 15:05:43.135 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:05:43.135 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:05:43.136 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.7224ms
2021-09-07 15:05:43.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:05:43.137 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:05:43.137 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:05:43.140 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:05:43.147 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:05:43.160 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.163 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:05:43.164 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:05:43.170 +02:00 [INF] Authorization was successful.
2021-09-07 15:05:43.170 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:05:43.172 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:05:43.175 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:05:43.176 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:05:43.178 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:05:43.190 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 17.7777ms
2021-09-07 15:05:43.191 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:05:43.191 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 54.0970ms
2021-09-07 15:10:45.347 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=blMwb1p3eDYxdXdReF9PRlZqcVRFUlQ4WjRIbUhRYW8zOEJrNnlHTGtkTG5a&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=TFUmaIgR3S5G7qj5eOCvn-L3zrG2dyNvr22e15IL0CQ&code_challenge_method=S256&nonce=blMwb1p3eDYxdXdReF9PRlZqcVRFUlQ4WjRIbUhRYW8zOEJrNnlHTGtkTG5a&prompt=none - -
2021-09-07 15:10:45.348 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:10:45.349 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "blMwb1p3eDYxdXdReF9PRlZqcVRFUlQ4WjRIbUhRYW8zOEJrNnlHTGtkTG5a",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "TFUmaIgR3S5G7qj5eOCvn-L3zrG2dyNvr22e15IL0CQ",
  "code_challenge_method": "S256",
  "nonce": "blMwb1p3eDYxdXdReF9PRlZqcVRFUlQ4WjRIbUhRYW8zOEJrNnlHTGtkTG5a",
  "prompt": "none"
}.
2021-09-07 15:10:45.350 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:10:45.402 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:10:45.402 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:10:45.403 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:10:45.403 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:10:45.406 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:10:45.409 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:10:45.411 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:10:45.413 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:10:45.415 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:10:45.416 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:10:45.418 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.420 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.424 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:10:45.427 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.428 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.431 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:10:45.434 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:10:45.435 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "blMwb1p3eDYxdXdReF9PRlZqcVRFUlQ4WjRIbUhRYW8zOEJrNnlHTGtkTG5a"
}.
2021-09-07 15:10:45.435 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 31.9648ms
2021-09-07 15:10:45.435 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:10:45.436 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=blMwb1p3eDYxdXdReF9PRlZqcVRFUlQ4WjRIbUhRYW8zOEJrNnlHTGtkTG5a&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=TFUmaIgR3S5G7qj5eOCvn-L3zrG2dyNvr22e15IL0CQ&code_challenge_method=S256&nonce=blMwb1p3eDYxdXdReF9PRlZqcVRFUlQ4WjRIbUhRYW8zOEJrNnlHTGtkTG5a&prompt=none - - - 302 0 - 88.2703ms
2021-09-07 15:10:45.819 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:10:45.819 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:10:45.820 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.3307ms
2021-09-07 15:10:45.820 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:10:45.821 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:10:45.821 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:10:45.821 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "dU95cDd2dXNILU5jWnZpSXFwUnptMWFHaXQ0MnpkRXMyT2h1MFpXeS51X1pK",
  "client_id": "angularClient"
}.
2021-09-07 15:10:45.822 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:10:45.822 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:10:45.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:10:45.830 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.831 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:10:45.831 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:10:45.831 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:10:45.832 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:10:45.833 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:10:45.834 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:10:45.835 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:10:45.839 +02:00 [INF] The token '0e811b28-2678-4d05-a947-3ca117976f5c' was successfully marked as redeemed.
2021-09-07 15:10:45.840 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.840 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.841 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:10:45.844 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.844 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.845 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:10:45.847 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.848 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.849 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:10:45.850 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:10:45.850 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 19.1552ms
2021-09-07 15:10:45.850 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:10:45.850 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 30.0325ms
2021-09-07 15:10:45.855 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:10:45.855 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:10:45.855 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2411ms
2021-09-07 15:10:45.856 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:10:45.856 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:10:45.856 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:10:45.856 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:10:45.858 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:10:45.860 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.861 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:10:45.861 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:10:45.862 +02:00 [INF] Authorization was successful.
2021-09-07 15:10:45.862 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:10:45.862 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:10:45.863 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:10:45.864 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:10:45.865 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:10:45.865 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 2.8072ms
2021-09-07 15:10:45.865 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:10:45.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 9.0618ms
2021-09-07 15:11:57.463 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:11:57.463 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:11:57.463 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - - - 204 - - 0.3394ms
2021-09-07 15:11:57.464 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:11:57.465 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:11:57.465 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 15:11:57.465 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 15:11:57.466 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 15:11:57.467 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 15:11:57.467 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 2.6184ms
2021-09-07 15:11:57.514 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - -
2021-09-07 15:11:57.514 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:11:57.514 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - - - 204 - - 0.3407ms
2021-09-07 15:11:57.515 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 15:11:57.515 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:11:57.516 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 15:11:57.516 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 15:11:57.517 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 15:11:57.519 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 15:11:57.519 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 3.8255ms
2021-09-07 15:11:57.823 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:11:57.823 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 15:11:57.823 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 15:11:57.823 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 15:11:57.824 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 15:11:57.824 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 1.0142ms
2021-09-07 15:11:57.855 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 15:11:57.855 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 15:11:57.855 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 15:11:57.855 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 15:11:57.855 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 15:11:57.855 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 0.7321ms
2021-09-07 15:11:57.883 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/connect/introspect application/x-www-form-urlencoded 2175
2021-09-07 15:11:57.884 +02:00 [INF] The request address matched a server endpoint: "Introspection".
2021-09-07 15:11:57.886 +02:00 [INF] The introspection request was successfully extracted: {
  "client_id": "forecastApi",
  "client_secret": "[redacted]",
  "token": "[redacted]",
  "token_type_hint": "access_token"
}.
2021-09-07 15:11:57.889 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:11:57.889 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:11:57.903 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:11:57.905 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:11:57.907 +02:00 [INF] The introspection request was successfully validated.
2021-09-07 15:11:57.915 +02:00 [INF] The response was successfully returned as a JSON document: {
  "active": true,
  "iss": "https://localhost:5001/",
  "username": "littlepeterr@hotmail.com",
  "sub": "53a48ec8-57f7-49d7-9b7c-fd454ddd4d84",
  "scope": "openid profile email offline_access roles forecast",
  "token_type": "Bearer",
  "token_usage": "access_token",
  "client_id": "angularClient",
  "iat": 1631020245,
  "nbf": 1631020245,
  "exp": 1631023845,
  "aud": "forecastApi",
  "name": "littlepeterr@hotmail.com",
  "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress": "littlepeterr@hotmail.com"
}.
2021-09-07 15:11:57.915 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/connect/introspect application/x-www-form-urlencoded 2175 - 200 543 application/json;charset=UTF-8 31.5994ms
2021-09-07 15:12:17.628 +02:00 [INF] Application is shutting down...
2021-09-07 15:12:17.648 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 15:12:17.649 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 15:12:17.652 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 15:12:47.489 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 15:12:47.576 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 15:12:47.576 +02:00 [INF] Quartz Scheduler created
2021-09-07 15:12:47.576 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 15:12:47.577 +02:00 [INF] RAMJobStore initialized.
2021-09-07 15:12:47.578 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 15:12:47.578 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 15:12:47.578 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 15:12:47.594 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 15:12:47.595 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 15:12:47.603 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 15:12:48.095 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:12:48.309 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 15:12:48.350 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 15:12:48.557 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:12:48.618 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:12:48.631 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 15:12:48.914 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 15:12:48.914 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 15:12:48.914 +02:00 [INF] Hosting environment: Development
2021-09-07 15:12:48.914 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 15:12:54.820 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/connect/introspect application/x-www-form-urlencoded 2175
2021-09-07 15:12:54.870 +02:00 [INF] The request address matched a server endpoint: "Introspection".
2021-09-07 15:12:54.892 +02:00 [INF] The introspection request was successfully extracted: {
  "client_id": "forecastApi",
  "client_secret": "[redacted]",
  "token": "[redacted]",
  "token_type_hint": "access_token"
}.
2021-09-07 15:12:54.897 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:12:54.898 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:12:55.063 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:12:55.132 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:12:55.141 +02:00 [INF] The introspection request was successfully validated.
2021-09-07 15:12:55.154 +02:00 [INF] The response was successfully returned as a JSON document: {
  "active": true,
  "iss": "https://localhost:5001/",
  "username": "littlepeterr@hotmail.com",
  "sub": "53a48ec8-57f7-49d7-9b7c-fd454ddd4d84",
  "scope": "openid profile email offline_access roles forecast",
  "token_type": "Bearer",
  "token_usage": "access_token",
  "client_id": "angularClient",
  "iat": 1631020245,
  "nbf": 1631020245,
  "exp": 1631023845,
  "aud": "forecastApi",
  "name": "littlepeterr@hotmail.com",
  "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress": "littlepeterr@hotmail.com"
}.
2021-09-07 15:12:55.162 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/connect/introspect application/x-www-form-urlencoded 2175 - 200 543 application/json;charset=UTF-8 342.5237ms
2021-09-07 15:15:48.530 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:15:48.533 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:15:48.535 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - - - 204 - - 5.3312ms
2021-09-07 15:15:48.539 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:15:48.539 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:15:48.540 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 15:15:48.542 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 15:15:48.542 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 15:15:48.550 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 15:15:48.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 12.5764ms
2021-09-07 15:15:48.577 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - -
2021-09-07 15:15:48.577 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:15:48.577 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - - - 204 - - 0.3261ms
2021-09-07 15:15:48.578 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 15:15:48.578 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:15:48.580 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 15:15:48.581 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 15:15:48.582 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 15:15:48.600 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 15:15:48.601 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 22.5076ms
2021-09-07 15:15:49.812 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=aXJCbTM1M3BQZHBBUlpzMUIyNTZFbDI3cENZMW9IMHNDc3E2TVRDNVppRHll&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=K68LBnhLAJ7cVbGGS9PXvmMxh2av3cRLWs8oTduqeWg&code_challenge_method=S256&nonce=aXJCbTM1M3BQZHBBUlpzMUIyNTZFbDI3cENZMW9IMHNDc3E2TVRDNVppRHll&prompt=none - -
2021-09-07 15:15:49.813 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:15:49.815 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "aXJCbTM1M3BQZHBBUlpzMUIyNTZFbDI3cENZMW9IMHNDc3E2TVRDNVppRHll",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "K68LBnhLAJ7cVbGGS9PXvmMxh2av3cRLWs8oTduqeWg",
  "code_challenge_method": "S256",
  "nonce": "aXJCbTM1M3BQZHBBUlpzMUIyNTZFbDI3cENZMW9IMHNDc3E2TVRDNVppRHll",
  "prompt": "none"
}.
2021-09-07 15:15:49.846 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:15:49.848 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:15:49.863 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:15:49.886 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:15:49.898 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:15:49.917 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:15:49.973 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:15:49.990 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:15:50.002 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:15:50.043 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:15:50.051 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:15:50.073 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.079 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.182 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:15:50.270 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.271 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.292 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:15:50.306 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:15:50.318 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "aXJCbTM1M3BQZHBBUlpzMUIyNTZFbDI3cENZMW9IMHNDc3E2TVRDNVppRHll"
}.
2021-09-07 15:15:50.329 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 427.3971ms
2021-09-07 15:15:50.330 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:15:50.331 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=aXJCbTM1M3BQZHBBUlpzMUIyNTZFbDI3cENZMW9IMHNDc3E2TVRDNVppRHll&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=K68LBnhLAJ7cVbGGS9PXvmMxh2av3cRLWs8oTduqeWg&code_challenge_method=S256&nonce=aXJCbTM1M3BQZHBBUlpzMUIyNTZFbDI3cENZMW9IMHNDc3E2TVRDNVppRHll&prompt=none - - - 302 0 - 518.9342ms
2021-09-07 15:15:50.392 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:15:50.392 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:15:50.392 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.3865ms
2021-09-07 15:15:50.393 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:15:50.393 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:15:50.393 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:15:50.402 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "Uk1kQmJnZ0NlY1VQVWhQRWdvMXhVeHZEWnpHbEdkdXUwM3Y1ZnB4UDI1V1Jl",
  "client_id": "angularClient"
}.
2021-09-07 15:15:50.410 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:15:50.411 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:15:50.425 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:15:50.443 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.446 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:15:50.447 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:15:50.449 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:15:50.453 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:15:50.454 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:15:50.462 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:15:50.465 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:15:50.466 +02:00 [INF] The token 'e3279b1e-1cca-450d-8a7f-49ff5f1c9e45' was successfully marked as redeemed.
2021-09-07 15:15:50.468 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.468 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.469 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:15:50.476 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.477 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.478 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:15:50.486 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.487 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.488 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:15:50.495 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:15:50.496 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 46.1195ms
2021-09-07 15:15:50.496 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:15:50.496 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 102.7706ms
2021-09-07 15:15:50.502 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:15:50.502 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:15:50.502 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.4945ms
2021-09-07 15:15:50.504 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:15:50.505 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:15:50.505 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:15:50.507 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:15:50.513 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:15:50.514 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.516 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:15:50.517 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:15:50.526 +02:00 [INF] Authorization was successful.
2021-09-07 15:15:50.526 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:15:50.528 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:15:50.533 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:15:50.535 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:15:50.537 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:15:50.550 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 22.2595ms
2021-09-07 15:15:50.550 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:15:50.551 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 46.3173ms
2021-09-07 15:16:47.581 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:16:47.599 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 15:16:47.642 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 15:20:52.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Q3VGcmoxQ3U4eWtqNHZsZ2docG9EQjJ-SkNQNTZ1VFh6MTV4SEh5OFhRTzRo&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=7v-R9IGWxdYj0rh3789qhBjjyoxJHIyh21hfurbQhIk&code_challenge_method=S256&nonce=Q3VGcmoxQ3U4eWtqNHZsZ2docG9EQjJ-SkNQNTZ1VFh6MTV4SEh5OFhRTzRo&prompt=none - -
2021-09-07 15:20:52.808 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:20:52.808 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "Q3VGcmoxQ3U4eWtqNHZsZ2docG9EQjJ-SkNQNTZ1VFh6MTV4SEh5OFhRTzRo",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "7v-R9IGWxdYj0rh3789qhBjjyoxJHIyh21hfurbQhIk",
  "code_challenge_method": "S256",
  "nonce": "Q3VGcmoxQ3U4eWtqNHZsZ2docG9EQjJ-SkNQNTZ1VFh6MTV4SEh5OFhRTzRo",
  "prompt": "none"
}.
2021-09-07 15:20:52.809 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:20:52.810 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:20:52.812 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:20:52.813 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:20:52.813 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:20:52.816 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:20:52.817 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:20:52.818 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:20:52.818 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:20:52.819 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:20:52.819 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:20:52.821 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:52.821 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:52.824 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:20:52.826 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:52.827 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:52.827 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:20:52.828 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:20:52.829 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "Q3VGcmoxQ3U4eWtqNHZsZ2docG9EQjJ-SkNQNTZ1VFh6MTV4SEh5OFhRTzRo"
}.
2021-09-07 15:20:52.830 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 16.1992ms
2021-09-07 15:20:52.830 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:20:52.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Q3VGcmoxQ3U4eWtqNHZsZ2docG9EQjJ-SkNQNTZ1VFh6MTV4SEh5OFhRTzRo&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=7v-R9IGWxdYj0rh3789qhBjjyoxJHIyh21hfurbQhIk&code_challenge_method=S256&nonce=Q3VGcmoxQ3U4eWtqNHZsZ2docG9EQjJ-SkNQNTZ1VFh6MTV4SEh5OFhRTzRo&prompt=none - - - 302 0 - 23.0060ms
2021-09-07 15:20:53.186 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:20:53.186 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:20:53.186 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.3711ms
2021-09-07 15:20:53.188 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:20:53.188 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:20:53.188 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:20:53.188 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "MkwzT0hCbU9RNFhjNng4VEs2amlSVE02SVdnc35iWHhxWVJNank4RjUzajJK",
  "client_id": "angularClient"
}.
2021-09-07 15:20:53.189 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:20:53.190 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:20:53.191 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:20:53.194 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.194 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:20:53.195 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:20:53.195 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:20:53.198 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:20:53.198 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:20:53.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:20:53.200 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:20:53.201 +02:00 [INF] The token '23841cd1-261a-44d8-a0d5-55aebb39a80b' was successfully marked as redeemed.
2021-09-07 15:20:53.201 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.202 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.202 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:20:53.205 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.205 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.206 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:20:53.208 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.209 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.210 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:20:53.212 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:20:53.212 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 17.4908ms
2021-09-07 15:20:53.212 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:20:53.213 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 24.9516ms
2021-09-07 15:20:53.223 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:20:53.223 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:20:53.223 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.3684ms
2021-09-07 15:20:53.225 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:20:53.225 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:20:53.225 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:20:53.225 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:20:53.227 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:20:53.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.229 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:20:53.229 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:20:53.230 +02:00 [INF] Authorization was successful.
2021-09-07 15:20:53.230 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:20:53.230 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:20:53.231 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:20:53.231 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:20:53.231 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:20:53.232 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.8247ms
2021-09-07 15:20:53.232 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:20:53.232 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 7.0361ms
2021-09-07 15:25:48.432 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:25:48.432 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:25:48.433 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - - - 204 - - 0.4293ms
2021-09-07 15:25:48.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 15:25:48.434 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:25:48.434 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 15:25:48.434 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 15:25:48.434 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 15:25:48.435 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 15:25:48.435 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 1.2425ms
2021-09-07 15:25:48.485 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - -
2021-09-07 15:25:48.486 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:25:48.486 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - - - 204 - - 0.3210ms
2021-09-07 15:25:48.487 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 15:25:48.487 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:25:48.487 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 15:25:48.487 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 15:25:48.487 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 15:25:48.488 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 15:25:48.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 1.6082ms
2021-09-07 15:25:55.807 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=QTFKUFZBcktTYS41SDlMaXVsTl8zTW1mNUN0R01MSlhzSzJXNzl5djdrSTZ2&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=NOMAv_RPfwy0zBZ5PZPg0HQz52SXLHpqClqyN1EOAos&code_challenge_method=S256&nonce=QTFKUFZBcktTYS41SDlMaXVsTl8zTW1mNUN0R01MSlhzSzJXNzl5djdrSTZ2&prompt=none - -
2021-09-07 15:25:55.808 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:25:55.808 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "QTFKUFZBcktTYS41SDlMaXVsTl8zTW1mNUN0R01MSlhzSzJXNzl5djdrSTZ2",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "NOMAv_RPfwy0zBZ5PZPg0HQz52SXLHpqClqyN1EOAos",
  "code_challenge_method": "S256",
  "nonce": "QTFKUFZBcktTYS41SDlMaXVsTl8zTW1mNUN0R01MSlhzSzJXNzl5djdrSTZ2",
  "prompt": "none"
}.
2021-09-07 15:25:55.809 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:25:55.861 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:25:55.865 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:25:55.866 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:25:55.866 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:25:55.868 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:25:55.871 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:25:55.873 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:25:55.875 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:25:55.877 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:25:55.877 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:25:55.879 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.880 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.884 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:25:55.886 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.887 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.890 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:25:55.893 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:25:55.894 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "QTFKUFZBcktTYS41SDlMaXVsTl8zTW1mNUN0R01MSlhzSzJXNzl5djdrSTZ2"
}.
2021-09-07 15:25:55.894 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 28.1978ms
2021-09-07 15:25:55.894 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:25:55.894 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=QTFKUFZBcktTYS41SDlMaXVsTl8zTW1mNUN0R01MSlhzSzJXNzl5djdrSTZ2&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=NOMAv_RPfwy0zBZ5PZPg0HQz52SXLHpqClqyN1EOAos&code_challenge_method=S256&nonce=QTFKUFZBcktTYS41SDlMaXVsTl8zTW1mNUN0R01MSlhzSzJXNzl5djdrSTZ2&prompt=none - - - 302 0 - 86.9685ms
2021-09-07 15:25:55.947 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:25:55.947 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:25:55.947 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.4370ms
2021-09-07 15:25:55.948 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:25:55.948 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:25:55.948 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:25:55.949 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "SFNQemNfMDlRa2JsUmFJTnpyanptY0VSY1psRGNGamd4ZlBwXzlyQzB6VTNS",
  "client_id": "angularClient"
}.
2021-09-07 15:25:55.951 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:25:55.951 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:25:55.955 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:25:55.959 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.959 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:25:55.960 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:25:55.960 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:25:55.961 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:25:55.961 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:25:55.962 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:25:55.963 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:25:55.964 +02:00 [INF] The token '239c0e84-8d48-4e86-bd8e-318ec9b3c594' was successfully marked as redeemed.
2021-09-07 15:25:55.965 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.965 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.966 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:25:55.968 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.970 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:25:55.974 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.974 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.975 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:25:55.977 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:25:55.977 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 17.3054ms
2021-09-07 15:25:55.978 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:25:55.978 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 29.6682ms
2021-09-07 15:25:55.984 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:25:55.984 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:25:55.984 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2468ms
2021-09-07 15:25:55.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:25:55.985 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:25:55.985 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:25:55.986 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:25:55.989 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:25:55.991 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.992 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:25:55.993 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:25:55.994 +02:00 [INF] Authorization was successful.
2021-09-07 15:25:55.994 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:25:55.994 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:25:55.995 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:25:55.995 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:25:55.995 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:25:55.995 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.5648ms
2021-09-07 15:25:55.995 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:25:55.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 10.3283ms
2021-09-07 15:30:42.201 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 15:30:42.286 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 15:30:42.286 +02:00 [INF] Quartz Scheduler created
2021-09-07 15:30:42.287 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 15:30:42.287 +02:00 [INF] RAMJobStore initialized.
2021-09-07 15:30:42.288 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 15:30:42.288 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 15:30:42.288 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 15:30:42.303 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 15:30:42.304 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 15:30:42.312 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 15:30:42.807 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:30:43.016 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 15:30:43.056 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 15:30:43.259 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:30:43.324 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:30:43.337 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 15:30:43.662 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 15:30:43.662 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 15:30:43.662 +02:00 [INF] Hosting environment: Development
2021-09-07 15:30:43.662 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 15:30:57.864 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=bWNsbHl5S1lqay0uV0F0UG15blJabnYzWWxYV0V6WmhZd0R6ejdZSGlOTDhD&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=AuSemD1vSF3Bgalnv8D1fv_3-Cy2dLm72hld4L2_vBM&code_challenge_method=S256&nonce=bWNsbHl5S1lqay0uV0F0UG15blJabnYzWWxYV0V6WmhZd0R6ejdZSGlOTDhD&prompt=none - -
2021-09-07 15:30:57.910 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:30:57.927 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "bWNsbHl5S1lqay0uV0F0UG15blJabnYzWWxYV0V6WmhZd0R6ejdZSGlOTDhD",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "AuSemD1vSF3Bgalnv8D1fv_3-Cy2dLm72hld4L2_vBM",
  "code_challenge_method": "S256",
  "nonce": "bWNsbHl5S1lqay0uV0F0UG15blJabnYzWWxYV0V6WmhZd0R6ejdZSGlOTDhD",
  "prompt": "none"
}.
2021-09-07 15:30:57.938 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:30:57.939 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:30:57.956 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:30:57.980 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:30:57.992 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:30:58.019 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:30:58.117 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:30:58.162 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:30:58.172 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:30:58.214 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:30:58.222 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:30:58.243 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:58.249 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:58.363 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:30:58.488 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:58.489 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:58.508 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:30:58.520 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:30:58.531 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "bWNsbHl5S1lqay0uV0F0UG15blJabnYzWWxYV0V6WmhZd0R6ejdZSGlOTDhD"
}.
2021-09-07 15:30:58.541 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 546.0684ms
2021-09-07 15:30:58.542 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:30:58.548 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=bWNsbHl5S1lqay0uV0F0UG15blJabnYzWWxYV0V6WmhZd0R6ejdZSGlOTDhD&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=AuSemD1vSF3Bgalnv8D1fv_3-Cy2dLm72hld4L2_vBM&code_challenge_method=S256&nonce=bWNsbHl5S1lqay0uV0F0UG15blJabnYzWWxYV0V6WmhZd0R6ejdZSGlOTDhD&prompt=none - - - 302 0 - 685.6725ms
2021-09-07 15:30:58.904 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:30:58.907 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:30:58.907 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 3.9377ms
2021-09-07 15:30:58.911 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:30:58.911 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:30:58.912 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:30:58.915 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "MkVjV1g0SmJfaUEzOEcyWm1qcnE1bEJKbEJqYTNfNDAzTGU3LW9zYlhQQ01i",
  "client_id": "angularClient"
}.
2021-09-07 15:30:58.945 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:30:58.946 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:30:58.960 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:30:59.034 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.039 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:30:59.041 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:30:59.043 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:30:59.047 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:30:59.048 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:30:59.055 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:30:59.062 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:30:59.063 +02:00 [INF] The token '0e8a0b0a-3336-4b1b-8e7f-efeebfd8bb76' was successfully marked as redeemed.
2021-09-07 15:30:59.065 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.065 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.067 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:30:59.072 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.072 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.073 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:30:59.082 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.082 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.083 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:30:59.090 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:30:59.091 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 47.7981ms
2021-09-07 15:30:59.091 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:30:59.092 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 180.8457ms
2021-09-07 15:30:59.098 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:30:59.098 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:30:59.098 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2798ms
2021-09-07 15:30:59.099 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:30:59.099 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:30:59.101 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:30:59.102 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:30:59.109 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:30:59.118 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.122 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:30:59.123 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:30:59.130 +02:00 [INF] Authorization was successful.
2021-09-07 15:30:59.130 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:30:59.132 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:30:59.137 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:30:59.138 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:30:59.140 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:30:59.152 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 19.4765ms
2021-09-07 15:30:59.152 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:30:59.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 52.8123ms
2021-09-07 15:35:55.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=dGdjSVdxZGhwU2VWZXY2ZGI0fmFHZFRXWTJpUkp-VUxkVXFQbmJjdExiNndB&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=2O7FYkqUpZ2M103m_wjU75wSEoZbXxZ9y4po1TeTrzE&code_challenge_method=S256&nonce=dGdjSVdxZGhwU2VWZXY2ZGI0fmFHZFRXWTJpUkp-VUxkVXFQbmJjdExiNndB&prompt=none - -
2021-09-07 15:35:55.801 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:35:55.802 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "dGdjSVdxZGhwU2VWZXY2ZGI0fmFHZFRXWTJpUkp-VUxkVXFQbmJjdExiNndB",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "2O7FYkqUpZ2M103m_wjU75wSEoZbXxZ9y4po1TeTrzE",
  "code_challenge_method": "S256",
  "nonce": "dGdjSVdxZGhwU2VWZXY2ZGI0fmFHZFRXWTJpUkp-VUxkVXFQbmJjdExiNndB",
  "prompt": "none"
}.
2021-09-07 15:35:55.803 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:35:55.804 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:35:55.805 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:35:55.807 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:35:55.809 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:35:55.810 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:35:55.811 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:35:55.811 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:35:55.813 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:35:55.814 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:35:55.815 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:35:55.816 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:35:55.816 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:35:55.818 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:55.818 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:55.820 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:35:55.823 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:55.823 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:55.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:35:55.825 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:35:55.826 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "dGdjSVdxZGhwU2VWZXY2ZGI0fmFHZFRXWTJpUkp-VUxkVXFQbmJjdExiNndB"
}.
2021-09-07 15:35:55.826 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 14.3365ms
2021-09-07 15:35:55.826 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:35:55.831 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=dGdjSVdxZGhwU2VWZXY2ZGI0fmFHZFRXWTJpUkp-VUxkVXFQbmJjdExiNndB&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=2O7FYkqUpZ2M103m_wjU75wSEoZbXxZ9y4po1TeTrzE&code_challenge_method=S256&nonce=dGdjSVdxZGhwU2VWZXY2ZGI0fmFHZFRXWTJpUkp-VUxkVXFQbmJjdExiNndB&prompt=none - - - 302 0 - 30.1000ms
2021-09-07 15:35:56.191 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:35:56.191 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:35:56.191 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.3995ms
2021-09-07 15:35:56.193 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:35:56.193 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:35:56.193 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:35:56.193 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "TkJsMGJZOXVteFh6MzJpX1FtWTF2MW9xamdkWEtCT3FlYXJsbnNkWDBWTVpo",
  "client_id": "angularClient"
}.
2021-09-07 15:35:56.194 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:35:56.194 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:35:56.196 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:35:56.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.200 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:35:56.200 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:35:56.200 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:35:56.204 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:35:56.204 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:35:56.205 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:35:56.206 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:35:56.207 +02:00 [INF] The token 'a74a5634-c5ef-41db-b7ce-9965b851c466' was successfully marked as redeemed.
2021-09-07 15:35:56.207 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.208 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.209 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:35:56.211 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.211 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.212 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:35:56.214 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.214 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.215 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:35:56.217 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:35:56.217 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 16.8213ms
2021-09-07 15:35:56.217 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:35:56.217 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 24.5116ms
2021-09-07 15:35:56.229 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:35:56.229 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:35:56.229 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2385ms
2021-09-07 15:35:56.230 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:35:56.230 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:35:56.230 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:35:56.230 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:35:56.232 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:35:56.232 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.233 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:35:56.233 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:35:56.233 +02:00 [INF] Authorization was successful.
2021-09-07 15:35:56.234 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:35:56.234 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:35:56.234 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:35:56.235 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:35:56.235 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:35:56.235 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.8384ms
2021-09-07 15:35:56.236 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:35:56.236 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 5.7921ms
2021-09-07 15:36:42.283 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:36:42.301 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 15:36:42.341 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 15:40:58.809 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Ym9qSDdyd1JTZ2ljblhDaUJiRm1xRTJYMmFKcGsyU096RGlyY3lSSlV0NkJZ&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QoNQK5mVu2bce33hNkerxMssVFjif2hLSt89DDOqb_w&code_challenge_method=S256&nonce=Ym9qSDdyd1JTZ2ljblhDaUJiRm1xRTJYMmFKcGsyU096RGlyY3lSSlV0NkJZ&prompt=none - -
2021-09-07 15:40:58.810 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:40:58.811 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "Ym9qSDdyd1JTZ2ljblhDaUJiRm1xRTJYMmFKcGsyU096RGlyY3lSSlV0NkJZ",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "QoNQK5mVu2bce33hNkerxMssVFjif2hLSt89DDOqb_w",
  "code_challenge_method": "S256",
  "nonce": "Ym9qSDdyd1JTZ2ljblhDaUJiRm1xRTJYMmFKcGsyU096RGlyY3lSSlV0NkJZ",
  "prompt": "none"
}.
2021-09-07 15:40:58.812 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:40:58.863 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:40:58.866 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:40:58.868 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:40:58.868 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:40:58.870 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:40:58.873 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:40:58.875 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:40:58.877 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:40:58.879 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:40:58.880 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:40:58.882 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:58.882 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:58.887 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:40:58.889 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:58.890 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:58.893 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:40:58.896 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:40:58.897 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "Ym9qSDdyd1JTZ2ljblhDaUJiRm1xRTJYMmFKcGsyU096RGlyY3lSSlV0NkJZ"
}.
2021-09-07 15:40:58.897 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 29.2938ms
2021-09-07 15:40:58.897 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:40:58.897 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Ym9qSDdyd1JTZ2ljblhDaUJiRm1xRTJYMmFKcGsyU096RGlyY3lSSlV0NkJZ&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QoNQK5mVu2bce33hNkerxMssVFjif2hLSt89DDOqb_w&code_challenge_method=S256&nonce=Ym9qSDdyd1JTZ2ljblhDaUJiRm1xRTJYMmFKcGsyU096RGlyY3lSSlV0NkJZ&prompt=none - - - 302 0 - 87.9733ms
2021-09-07 15:40:59.259 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:40:59.259 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:40:59.259 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2605ms
2021-09-07 15:40:59.260 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:40:59.260 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:40:59.260 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:40:59.261 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "UFE4TUtCeWRoUXF4VXQ0RXJNX09mfjlibDV3T1JyTElIS0xsLlBvWk54Z0hX",
  "client_id": "angularClient"
}.
2021-09-07 15:40:59.263 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:40:59.263 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:40:59.266 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:40:59.270 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.270 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:40:59.270 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:40:59.271 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:40:59.271 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:40:59.272 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:40:59.272 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:40:59.274 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:40:59.274 +02:00 [INF] The token 'b1dd8eac-05f2-41b1-9bf3-918170981cf1' was successfully marked as redeemed.
2021-09-07 15:40:59.275 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.275 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.276 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:40:59.279 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.279 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.280 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:40:59.283 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.284 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.284 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:40:59.286 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:40:59.286 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 15.7967ms
2021-09-07 15:40:59.286 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:40:59.287 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 26.2222ms
2021-09-07 15:40:59.291 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:40:59.291 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:40:59.291 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2386ms
2021-09-07 15:40:59.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:40:59.292 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:40:59.293 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:40:59.293 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:40:59.295 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:40:59.297 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.298 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:40:59.298 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:40:59.299 +02:00 [INF] Authorization was successful.
2021-09-07 15:40:59.299 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:40:59.299 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:40:59.300 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:40:59.301 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:40:59.301 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:40:59.301 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.5713ms
2021-09-07 15:40:59.301 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:40:59.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 8.7773ms
2021-09-07 15:46:01.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=dTdlQnN2Qkd5eUVnUnVlUjRaY25oSWFURTBMc20wZHhqT1pNeTM3VFhJWkxY&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=nUJ8rYmtl7KoEbRm_gcq2_ZvBnGvM3LJaqbHkPHAYfI&code_challenge_method=S256&nonce=dTdlQnN2Qkd5eUVnUnVlUjRaY25oSWFURTBMc20wZHhqT1pNeTM3VFhJWkxY&prompt=none - -
2021-09-07 15:46:01.810 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:46:01.811 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "dTdlQnN2Qkd5eUVnUnVlUjRaY25oSWFURTBMc20wZHhqT1pNeTM3VFhJWkxY",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "nUJ8rYmtl7KoEbRm_gcq2_ZvBnGvM3LJaqbHkPHAYfI",
  "code_challenge_method": "S256",
  "nonce": "dTdlQnN2Qkd5eUVnUnVlUjRaY25oSWFURTBMc20wZHhqT1pNeTM3VFhJWkxY",
  "prompt": "none"
}.
2021-09-07 15:46:01.811 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:46:01.814 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:46:01.814 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:46:01.815 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:46:01.815 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:46:01.817 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:46:01.822 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:46:01.823 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:46:01.825 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:46:01.826 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:46:01.827 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:46:01.828 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:01.828 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:01.832 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:46:01.837 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:01.838 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:01.840 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:46:01.843 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:46:01.844 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "dTdlQnN2Qkd5eUVnUnVlUjRaY25oSWFURTBMc20wZHhqT1pNeTM3VFhJWkxY"
}.
2021-09-07 15:46:01.844 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 28.8814ms
2021-09-07 15:46:01.844 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:46:01.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=dTdlQnN2Qkd5eUVnUnVlUjRaY25oSWFURTBMc20wZHhqT1pNeTM3VFhJWkxY&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=nUJ8rYmtl7KoEbRm_gcq2_ZvBnGvM3LJaqbHkPHAYfI&code_challenge_method=S256&nonce=dTdlQnN2Qkd5eUVnUnVlUjRaY25oSWFURTBMc20wZHhqT1pNeTM3VFhJWkxY&prompt=none - - - 302 0 - 33.9351ms
2021-09-07 15:46:02.217 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:46:02.217 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:46:02.217 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2718ms
2021-09-07 15:46:02.218 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:46:02.218 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:46:02.218 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:46:02.218 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "clhzZmtESkVCZjQ5MlpiR0tHMmUxcDhtU1hRMC12NmlPRFhZZHFycURxc2xw",
  "client_id": "angularClient"
}.
2021-09-07 15:46:02.219 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:46:02.219 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:46:02.220 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:46:02.223 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.223 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:46:02.223 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:46:02.223 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:46:02.224 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:46:02.224 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:46:02.225 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:46:02.226 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:46:02.227 +02:00 [INF] The token '16f207c5-0195-40a9-9b32-c6af9601409e' was successfully marked as redeemed.
2021-09-07 15:46:02.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.229 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:46:02.232 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.232 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.233 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:46:02.236 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.236 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.237 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:46:02.238 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:46:02.238 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 15.0228ms
2021-09-07 15:46:02.239 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:46:02.239 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 20.8302ms
2021-09-07 15:46:02.251 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:46:02.252 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:46:02.252 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.3223ms
2021-09-07 15:46:02.253 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:46:02.253 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:46:02.253 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:46:02.253 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:46:02.254 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:46:02.257 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.258 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:46:02.258 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:46:02.258 +02:00 [INF] Authorization was successful.
2021-09-07 15:46:02.258 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:46:02.258 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:46:02.259 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:46:02.259 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:46:02.259 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:46:02.260 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.5723ms
2021-09-07 15:46:02.260 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:46:02.260 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 6.7799ms
2021-09-07 15:51:04.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=NE5zRkdvMmxzdXNxNUotTEs0cjI1Lmw1NTg4V2xwY216VEg1dkFxMWFab1B2&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=2na7jzlRhK7mzHtn_yS774dabHK79rkUIJhbig5-DSY&code_challenge_method=S256&nonce=NE5zRkdvMmxzdXNxNUotTEs0cjI1Lmw1NTg4V2xwY216VEg1dkFxMWFab1B2&prompt=none - -
2021-09-07 15:51:04.811 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:51:04.811 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "NE5zRkdvMmxzdXNxNUotTEs0cjI1Lmw1NTg4V2xwY216VEg1dkFxMWFab1B2",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "2na7jzlRhK7mzHtn_yS774dabHK79rkUIJhbig5-DSY",
  "code_challenge_method": "S256",
  "nonce": "NE5zRkdvMmxzdXNxNUotTEs0cjI1Lmw1NTg4V2xwY216VEg1dkFxMWFab1B2",
  "prompt": "none"
}.
2021-09-07 15:51:04.812 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:51:04.815 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:51:04.815 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:51:04.815 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:51:04.815 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:51:04.817 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:51:04.821 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:51:04.822 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:51:04.824 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:51:04.827 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:51:04.827 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:51:04.829 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:04.829 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:04.832 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:51:04.844 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:04.844 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:04.847 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:51:04.849 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:51:04.850 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "NE5zRkdvMmxzdXNxNUotTEs0cjI1Lmw1NTg4V2xwY216VEg1dkFxMWFab1B2"
}.
2021-09-07 15:51:04.850 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 34.5727ms
2021-09-07 15:51:04.850 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:51:04.850 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=NE5zRkdvMmxzdXNxNUotTEs0cjI1Lmw1NTg4V2xwY216VEg1dkFxMWFab1B2&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=2na7jzlRhK7mzHtn_yS774dabHK79rkUIJhbig5-DSY&code_challenge_method=S256&nonce=NE5zRkdvMmxzdXNxNUotTEs0cjI1Lmw1NTg4V2xwY216VEg1dkFxMWFab1B2&prompt=none - - - 302 0 - 39.4963ms
2021-09-07 15:51:05.237 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:51:05.237 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:51:05.237 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.3062ms
2021-09-07 15:51:05.238 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:51:05.238 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:51:05.238 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:51:05.238 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "all5ZGExdzEwLmVfWDFvRnJ-dmp3TklPUUd3dnh5eWswVVNmSTFiWmNRWnd2",
  "client_id": "angularClient"
}.
2021-09-07 15:51:05.239 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:51:05.239 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:51:05.240 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:51:05.244 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.244 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:51:05.244 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:51:05.244 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:51:05.245 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:51:05.246 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:51:05.246 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:51:05.247 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:51:05.248 +02:00 [INF] The token 'c32798fc-ccbc-41c4-89ed-a7859611ec0c' was successfully marked as redeemed.
2021-09-07 15:51:05.248 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.249 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.249 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:51:05.252 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.252 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.253 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:51:05.255 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.255 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.256 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:51:05.257 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:51:05.257 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 12.9896ms
2021-09-07 15:51:05.258 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:51:05.258 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 19.9960ms
2021-09-07 15:51:05.265 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:51:05.265 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:51:05.265 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.3036ms
2021-09-07 15:51:05.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:51:05.267 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:51:05.267 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:51:05.267 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:51:05.268 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:51:05.270 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.271 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:51:05.271 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:51:05.271 +02:00 [INF] Authorization was successful.
2021-09-07 15:51:05.271 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:51:05.271 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:51:05.272 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:51:05.273 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:51:05.273 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:51:05.273 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.4074ms
2021-09-07 15:51:05.273 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:51:05.273 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 6.4017ms
2021-09-07 15:56:07.813 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=WFM5QlA1anFnaHFYQnFZSkx6VUltZ21XcHJxOEFJbmpERDZrMmdkVlpwZH5Y&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Li3RM8YSLFXyyOIL6jADFjKLqza1e-xqvnvkPKsabg4&code_challenge_method=S256&nonce=WFM5QlA1anFnaHFYQnFZSkx6VUltZ21XcHJxOEFJbmpERDZrMmdkVlpwZH5Y&prompt=none - -
2021-09-07 15:56:07.813 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 15:56:07.813 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "WFM5QlA1anFnaHFYQnFZSkx6VUltZ21XcHJxOEFJbmpERDZrMmdkVlpwZH5Y",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "Li3RM8YSLFXyyOIL6jADFjKLqza1e-xqvnvkPKsabg4",
  "code_challenge_method": "S256",
  "nonce": "WFM5QlA1anFnaHFYQnFZSkx6VUltZ21XcHJxOEFJbmpERDZrMmdkVlpwZH5Y",
  "prompt": "none"
}.
2021-09-07 15:56:07.814 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:56:07.890 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:56:07.890 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 15:56:07.890 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:56:07.891 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:56:07.893 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:56:07.896 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 15:56:07.897 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 15:56:07.899 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:56:07.901 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 15:56:07.901 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:56:07.903 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:07.905 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:07.909 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:56:07.911 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:07.912 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:07.915 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:56:07.919 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:56:07.920 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "WFM5QlA1anFnaHFYQnFZSkx6VUltZ21XcHJxOEFJbmpERDZrMmdkVlpwZH5Y"
}.
2021-09-07 15:56:07.920 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 29.4868ms
2021-09-07 15:56:07.920 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 15:56:07.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=WFM5QlA1anFnaHFYQnFZSkx6VUltZ21XcHJxOEFJbmpERDZrMmdkVlpwZH5Y&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Li3RM8YSLFXyyOIL6jADFjKLqza1e-xqvnvkPKsabg4&code_challenge_method=S256&nonce=WFM5QlA1anFnaHFYQnFZSkx6VUltZ21XcHJxOEFJbmpERDZrMmdkVlpwZH5Y&prompt=none - - - 302 0 - 107.6462ms
2021-09-07 15:56:08.269 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 15:56:08.270 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:56:08.270 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2767ms
2021-09-07 15:56:08.271 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 15:56:08.271 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:56:08.271 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 15:56:08.271 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "bHp1RE1HVGhHdTROVlRnTW13bm14QnJzVUpuZUZKNWpDdkhwU0xwSEJyZy55",
  "client_id": "angularClient"
}.
2021-09-07 15:56:08.271 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:56:08.272 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 15:56:08.273 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:56:08.277 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.277 +02:00 [INF] The token request was successfully validated.
2021-09-07 15:56:08.277 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:56:08.277 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 15:56:08.278 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:56:08.278 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 15:56:08.279 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 15:56:08.280 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 15:56:08.281 +02:00 [INF] The token '27b9c1bf-37d0-4772-a21d-c25c56779acc' was successfully marked as redeemed.
2021-09-07 15:56:08.281 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.282 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.283 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:56:08.286 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.286 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.287 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:56:08.290 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.290 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.291 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 15:56:08.292 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 15:56:08.292 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 14.897ms
2021-09-07 15:56:08.292 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 15:56:08.292 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 21.7268ms
2021-09-07 15:56:08.304 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 15:56:08.304 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:56:08.304 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2229ms
2021-09-07 15:56:08.306 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 15:56:08.306 +02:00 [INF] CORS policy execution successful.
2021-09-07 15:56:08.306 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 15:56:08.306 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 15:56:08.307 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 15:56:08.310 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.310 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 15:56:08.311 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 15:56:08.311 +02:00 [INF] Authorization was successful.
2021-09-07 15:56:08.311 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:56:08.311 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 15:56:08.312 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 15:56:08.312 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 15:56:08.312 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 15:56:08.312 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.4726ms
2021-09-07 15:56:08.312 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 15:56:08.312 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 6.8495ms
2021-09-07 16:01:10.801 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=WFowZzc4RkxzMVpIazh0MjQuMTRNanB1eURwYjg5ejAwZGh3YzFRYUFpTGMx&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=p1GjSERyo1RM9kCUKOqJKpIquYWhz5bldp7mxqHKT9s&code_challenge_method=S256&nonce=WFowZzc4RkxzMVpIazh0MjQuMTRNanB1eURwYjg5ejAwZGh3YzFRYUFpTGMx&prompt=none - -
2021-09-07 16:01:10.801 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:01:10.801 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "WFowZzc4RkxzMVpIazh0MjQuMTRNanB1eURwYjg5ejAwZGh3YzFRYUFpTGMx",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "p1GjSERyo1RM9kCUKOqJKpIquYWhz5bldp7mxqHKT9s",
  "code_challenge_method": "S256",
  "nonce": "WFowZzc4RkxzMVpIazh0MjQuMTRNanB1eURwYjg5ejAwZGh3YzFRYUFpTGMx",
  "prompt": "none"
}.
2021-09-07 16:01:10.802 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:01:10.803 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:01:10.804 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:01:10.804 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:01:10.804 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:01:10.806 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:01:10.808 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:01:10.810 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:01:10.811 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:01:10.813 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 16:01:10.813 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:01:10.814 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:10.815 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:10.817 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:01:10.823 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:10.823 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:10.825 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:01:10.828 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:01:10.829 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "WFowZzc4RkxzMVpIazh0MjQuMTRNanB1eURwYjg5ejAwZGh3YzFRYUFpTGMx"
}.
2021-09-07 16:01:10.829 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 24.7905ms
2021-09-07 16:01:10.829 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:01:10.829 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=WFowZzc4RkxzMVpIazh0MjQuMTRNanB1eURwYjg5ejAwZGh3YzFRYUFpTGMx&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=p1GjSERyo1RM9kCUKOqJKpIquYWhz5bldp7mxqHKT9s&code_challenge_method=S256&nonce=WFowZzc4RkxzMVpIazh0MjQuMTRNanB1eURwYjg5ejAwZGh3YzFRYUFpTGMx&prompt=none - - - 302 0 - 28.0390ms
2021-09-07 16:01:11.204 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 16:01:11.204 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:01:11.204 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2525ms
2021-09-07 16:01:11.205 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 16:01:11.205 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:01:11.205 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 16:01:11.205 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "a35tUXFMSEd3QXZUbUpnejNZNHA3Qklzbnd0Yy56dHJWTF8xaTNSRVV4ckFn",
  "client_id": "angularClient"
}.
2021-09-07 16:01:11.205 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:01:11.206 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:01:11.206 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:01:11.209 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.209 +02:00 [INF] The token request was successfully validated.
2021-09-07 16:01:11.210 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:01:11.210 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:01:11.211 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:01:11.211 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:01:11.212 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:01:11.213 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:01:11.216 +02:00 [INF] The token '2dfda73e-2eeb-49ba-a5ab-fdf7b4fe0041' was successfully marked as redeemed.
2021-09-07 16:01:11.217 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.217 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.218 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:01:11.220 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.220 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.221 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:01:11.223 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.223 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.224 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:01:11.225 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 16:01:11.225 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 15.1162ms
2021-09-07 16:01:11.225 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:01:11.225 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 20.4647ms
2021-09-07 16:01:11.230 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 16:01:11.231 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:01:11.231 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2278ms
2021-09-07 16:01:11.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 16:01:11.232 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:01:11.232 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 16:01:11.232 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 16:01:11.233 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:01:11.235 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.236 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:01:11.236 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 16:01:11.236 +02:00 [INF] Authorization was successful.
2021-09-07 16:01:11.236 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:01:11.236 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 16:01:11.237 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:01:11.238 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:01:11.238 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 16:01:11.238 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.3538ms
2021-09-07 16:01:11.238 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:01:11.238 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 6.0976ms
2021-09-07 16:06:13.799 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=OG5WX3BWckxnX01Kdm9NY1VxT2x-b1RETjJVZk9sNkw2WEpLVUJDbmdhQkds&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=J4eRhQe5Lxig15pSz5Yt2vrgVYut3DSw9qoQgTk28E0&code_challenge_method=S256&nonce=OG5WX3BWckxnX01Kdm9NY1VxT2x-b1RETjJVZk9sNkw2WEpLVUJDbmdhQkds&prompt=none - -
2021-09-07 16:06:13.799 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:06:13.799 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "OG5WX3BWckxnX01Kdm9NY1VxT2x-b1RETjJVZk9sNkw2WEpLVUJDbmdhQkds",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "J4eRhQe5Lxig15pSz5Yt2vrgVYut3DSw9qoQgTk28E0",
  "code_challenge_method": "S256",
  "nonce": "OG5WX3BWckxnX01Kdm9NY1VxT2x-b1RETjJVZk9sNkw2WEpLVUJDbmdhQkds",
  "prompt": "none"
}.
2021-09-07 16:06:13.799 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:06:13.860 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:06:13.861 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:06:13.863 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:06:13.864 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:06:13.866 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:06:13.866 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:06:13.866 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:06:13.869 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:06:13.870 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:06:13.870 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:06:13.872 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 16:06:13.873 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:06:13.873 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:13.874 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:13.878 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:06:13.880 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:13.880 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:13.883 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:06:13.886 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:06:13.887 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "OG5WX3BWckxnX01Kdm9NY1VxT2x-b1RETjJVZk9sNkw2WEpLVUJDbmdhQkds"
}.
2021-09-07 16:06:13.887 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 20.562ms
2021-09-07 16:06:13.887 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:06:13.887 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=OG5WX3BWckxnX01Kdm9NY1VxT2x-b1RETjJVZk9sNkw2WEpLVUJDbmdhQkds&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=J4eRhQe5Lxig15pSz5Yt2vrgVYut3DSw9qoQgTk28E0&code_challenge_method=S256&nonce=OG5WX3BWckxnX01Kdm9NY1VxT2x-b1RETjJVZk9sNkw2WEpLVUJDbmdhQkds&prompt=none - - - 302 0 - 88.6279ms
2021-09-07 16:06:14.245 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 16:06:14.245 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:06:14.245 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2615ms
2021-09-07 16:06:14.246 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 16:06:14.246 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:06:14.246 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 16:06:14.246 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "djNrY1N3dkNWbVY4bTFpZWlORDRLQmV4RGRpa0tmb2l4dng0czI4VGp3bFR1",
  "client_id": "angularClient"
}.
2021-09-07 16:06:14.247 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:06:14.248 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:06:14.252 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:06:14.255 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.255 +02:00 [INF] The token request was successfully validated.
2021-09-07 16:06:14.255 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:06:14.256 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:06:14.257 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:06:14.258 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:06:14.262 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:06:14.266 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:06:14.267 +02:00 [INF] The token '6e6566cc-fb03-4188-a694-46c0752add7e' was successfully marked as redeemed.
2021-09-07 16:06:14.268 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.269 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.272 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:06:14.275 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.276 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.279 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:06:14.281 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.282 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.285 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:06:14.286 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 16:06:14.286 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 30.5254ms
2021-09-07 16:06:14.286 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:06:14.286 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6647 application/json;charset=UTF-8 40.1274ms
2021-09-07 16:06:14.290 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 16:06:14.290 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:06:14.290 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.1950ms
2021-09-07 16:06:14.292 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 16:06:14.292 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:06:14.292 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 16:06:14.292 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 16:06:14.293 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:06:14.296 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.297 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:06:14.297 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 16:06:14.298 +02:00 [INF] Authorization was successful.
2021-09-07 16:06:14.298 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:06:14.298 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 16:06:14.299 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:06:14.301 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:06:14.301 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 16:06:14.301 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 3.3012ms
2021-09-07 16:06:14.301 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:06:14.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 9.7579ms
2021-09-07 16:10:36.978 +02:00 [INF] Application is shutting down...
2021-09-07 16:10:36.993 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 16:10:36.994 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 16:10:36.998 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 16:11:25.793 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:11:26.227 +02:00 [INF] Executed DbCommand (226ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [OpenIdDictServer];
2021-09-07 16:11:26.284 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [OpenIdDictServer] SET READ_COMMITTED_SNAPSHOT ON;
END;
2021-09-07 16:11:26.298 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 16:11:26.360 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2021-09-07 16:11:26.361 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 16:11:26.374 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-09-07 16:11:26.378 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-09-07 16:11:26.389 +02:00 [INF] Applying migration '20210906155746_Initial'.
2021-09-07 16:11:26.430 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2021-09-07 16:11:26.432 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2021-09-07 16:11:26.433 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictApplications] (
    [Id] nvarchar(450) NOT NULL,
    [ClientId] nvarchar(100) NULL,
    [ClientSecret] nvarchar(max) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [ConsentType] nvarchar(50) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Permissions] nvarchar(max) NULL,
    [PostLogoutRedirectUris] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedirectUris] nvarchar(max) NULL,
    [Requirements] nvarchar(max) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictApplications] PRIMARY KEY ([Id])
);
2021-09-07 16:11:26.434 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictScopes] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [Description] nvarchar(max) NULL,
    [Descriptions] nvarchar(max) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Name] nvarchar(200) NULL,
    [Properties] nvarchar(max) NULL,
    [Resources] nvarchar(max) NULL,
    CONSTRAINT [PK_OpenIddictScopes] PRIMARY KEY ([Id])
);
2021-09-07 16:11:26.436 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2021-09-07 16:11:26.437 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-07 16:11:26.438 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-07 16:11:26.440 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-07 16:11:26.452 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2021-09-07 16:11:26.453 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictAuthorizations] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [Properties] nvarchar(max) NULL,
    [Scopes] nvarchar(max) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictAuthorizations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictAuthorizations_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]) ON DELETE NO ACTION
);
2021-09-07 16:11:26.455 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictTokens] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [AuthorizationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [ExpirationDate] datetime2 NULL,
    [Payload] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedemptionDate] datetime2 NULL,
    [ReferenceId] nvarchar(100) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictAuthorizations_AuthorizationId] FOREIGN KEY ([AuthorizationId]) REFERENCES [OpenIddictAuthorizations] ([Id]) ON DELETE NO ACTION
);
2021-09-07 16:11:26.455 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2021-09-07 16:11:26.456 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2021-09-07 16:11:26.457 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2021-09-07 16:11:26.457 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2021-09-07 16:11:26.458 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2021-09-07 16:11:26.458 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2021-09-07 16:11:26.459 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2021-09-07 16:11:26.460 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictApplications_ClientId] ON [OpenIddictApplications] ([ClientId]) WHERE [ClientId] IS NOT NULL;
2021-09-07 16:11:26.460 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictAuthorizations_ApplicationId_Status_Subject_Type] ON [OpenIddictAuthorizations] ([ApplicationId], [Status], [Subject], [Type]);
2021-09-07 16:11:26.461 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictScopes_Name] ON [OpenIddictScopes] ([Name]) WHERE [Name] IS NOT NULL;
2021-09-07 16:11:26.779 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_ApplicationId_Status_Subject_Type] ON [OpenIddictTokens] ([ApplicationId], [Status], [Subject], [Type]);
2021-09-07 16:11:26.779 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_AuthorizationId] ON [OpenIddictTokens] ([AuthorizationId]);
2021-09-07 16:11:26.780 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictTokens_ReferenceId] ON [OpenIddictTokens] ([ReferenceId]) WHERE [ReferenceId] IS NOT NULL;
2021-09-07 16:11:26.781 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20210906155746_Initial', N'5.0.9');
2021-09-07 16:12:29.135 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 16:12:29.573 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:12:30.053 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:12:30.162 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2021-09-07 16:12:30.179 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:12:30.182 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2021-09-07 16:12:30.196 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__adminUser_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN NOT EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Id] = @__adminUser_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-09-07 16:12:30.206 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:12:30.224 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:12:30.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:12:30.265 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-09-07 16:12:30.272 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:12:30.293 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-09-07 16:12:30.296 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:12:30.306 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:12:30.309 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:12:30.317 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-09-07 16:12:30.321 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 16:12:30.324 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:12:30.326 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-09-07 16:12:30.327 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:12:30.327 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:12:30.328 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:12:30.329 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-09-07 16:12:30.330 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 16:12:30.393 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 16:12:30.393 +02:00 [INF] Quartz Scheduler created
2021-09-07 16:12:30.393 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 16:12:30.393 +02:00 [INF] RAMJobStore initialized.
2021-09-07 16:12:30.395 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 16:12:30.396 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 16:12:30.396 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 16:12:30.415 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 16:12:30.417 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 16:12:30.425 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 16:12:30.444 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:12:30.456 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 16:12:30.468 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 16:12:30.489 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:12:30.531 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:12:30.559 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:12:30.572 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:12:30.581 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:12:30.582 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:12:30.594 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 16:12:30.612 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 16:12:30.627 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictScopes] ([Id], [ConcurrencyToken], [Description], [Descriptions], [DisplayName], [DisplayNames], [Name], [Properties], [Resources])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2021-09-07 16:12:31.236 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 16:12:31.236 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 16:12:31.236 +02:00 [INF] Hosting environment: Development
2021-09-07 16:12:31.236 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 16:12:44.198 +02:00 [INF] Application is shutting down...
2021-09-07 16:12:44.275 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 16:12:44.276 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 16:12:44.279 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 16:12:57.242 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 16:12:57.679 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:12:58.042 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:12:58.092 +02:00 [WRN] Role 14613807-5979-4557-ae5f-e242dfd6b54f validation failed: DuplicateRoleName.
2021-09-07 16:12:58.096 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:12:58.097 +02:00 [WRN] Role 669c62de-29de-4032-a94f-9d61ebdb49ef validation failed: DuplicateRoleName.
2021-09-07 16:12:58.110 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__adminUser_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN NOT EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Id] = @__adminUser_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-09-07 16:12:58.117 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:12:58.208 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 16:12:58.208 +02:00 [INF] Quartz Scheduler created
2021-09-07 16:12:58.208 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 16:12:58.209 +02:00 [INF] RAMJobStore initialized.
2021-09-07 16:12:58.210 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 16:12:58.210 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 16:12:58.210 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 16:12:58.227 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 16:12:58.229 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 16:12:58.239 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 16:12:58.258 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:12:58.271 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 16:12:58.284 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 16:12:58.304 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:12:58.336 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:12:58.351 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 16:12:58.634 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 16:12:58.635 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 16:12:58.635 +02:00 [INF] Hosting environment: Development
2021-09-07 16:12:58.635 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 16:13:48.934 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:13:49.197 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:13:49.212 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:13:49.230 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:13:49.307 +02:00 [INF] Executed ViewResult - view Index executed in 88.8738ms.
2021-09-07 16:13:49.307 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 94.3075ms
2021-09-07 16:13:49.308 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:13:49.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 378.2737ms
2021-09-07 16:13:55.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Manage - -
2021-09-07 16:13:55.823 +02:00 [INF] Authorization was successful.
2021-09-07 16:13:55.824 +02:00 [INF] Executing endpoint '/Account/Manage/Index'
2021-09-07 16:13:55.837 +02:00 [INF] Route matched with {page = "/Account/Manage/Index", area = "Identity", action = "", controller = ""}. Executing page /Account/Manage/Index
2021-09-07 16:13:55.847 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.Manage.IndexModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:13:55.853 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:13:55.867 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:13:55.869 +02:00 [INF] Executed handler method OnGetAsync, returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult.
2021-09-07 16:13:55.872 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2021-09-07 16:13:55.877 +02:00 [INF] Executed page /Account/Manage/Index in 40.0018ms
2021-09-07 16:13:55.877 +02:00 [INF] Executed endpoint '/Account/Manage/Index'
2021-09-07 16:13:55.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Manage - - - 404 - text/plain;+charset=utf-8 70.0185ms
2021-09-07 16:13:58.224 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:13:58.283 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 16:13:58.338 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 16:13:59.419 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:13:59.430 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:13:59.430 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:13:59.430 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:13:59.433 +02:00 [INF] Executed ViewResult - view Index executed in 2.5305ms.
2021-09-07 16:13:59.433 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 2.9731ms
2021-09-07 16:13:59.433 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:13:59.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 14.1102ms
2021-09-07 16:14:01.014 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2021-09-07 16:14:01.020 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:14:01.020 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:14:01.021 +02:00 [INF] Executing endpoint '/Account/Logout'
2021-09-07 16:14:01.024 +02:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2021-09-07 16:14:01.031 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LogoutModel.OnPost - ModelState is "Valid"
2021-09-07 16:14:01.033 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 16:14:01.034 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:14:01.034 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 16:14:01.034 +02:00 [INF] User logged out.
2021-09-07 16:14:01.034 +02:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:14:01.035 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 16:14:01.035 +02:00 [INF] Executed page /Account/Logout in 10.2414ms
2021-09-07 16:14:01.035 +02:00 [INF] Executed endpoint '/Account/Logout'
2021-09-07 16:14:01.035 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 20.8906ms
2021-09-07 16:14:01.039 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:14:01.039 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:14:01.039 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:14:01.039 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:14:01.041 +02:00 [INF] Executed ViewResult - view Index executed in 1.7353ms.
2021-09-07 16:14:01.041 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.9256ms
2021-09-07 16:14:01.041 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:14:01.041 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 2.8139ms
2021-09-07 16:14:03.670 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 16:14:03.674 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:14:03.677 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:14:03.678 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:14:03.679 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:14:03.680 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:14:03.682 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:14:03.682 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:14:03.716 +02:00 [INF] Executed page /Account/Login in 38.7118ms
2021-09-07 16:14:03.716 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:14:03.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 45.3534ms
2021-09-07 16:14:06.128 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 16:14:06.128 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:14:06.129 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:14:06.129 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:14:06.130 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:14:06.137 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:14:06.141 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:14:06.146 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:14:06.147 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:14:06.150 +02:00 [INF] Executed page /Account/Login in 20.8488ms
2021-09-07 16:14:06.151 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:14:06.151 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 22.4194ms
2021-09-07 16:14:21.910 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291
2021-09-07 16:14:21.910 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:14:21.910 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:14:21.910 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:14:21.911 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:14:21.912 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:14:21.912 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:14:21.913 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:14:21.914 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:14:21.915 +02:00 [INF] Executed page /Account/Login in 4.6032ms
2021-09-07 16:14:21.915 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:14:21.916 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291 - 200 - text/html;+charset=utf-8 5.7989ms
2021-09-07 16:14:51.382 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 287
2021-09-07 16:14:51.382 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:14:51.382 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:14:51.382 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:14:51.383 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:14:51.383 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:14:51.384 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:14:51.386 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:14:51.386 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:14:51.387 +02:00 [INF] Executed page /Account/Login in 4.535ms
2021-09-07 16:14:51.387 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:14:51.388 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 287 - 200 - text/html;+charset=utf-8 5.6107ms
2021-09-07 16:14:58.369 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 287
2021-09-07 16:14:58.369 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:14:58.369 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:14:58.369 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:14:58.369 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:14:58.370 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:14:58.370 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:14:58.371 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:14:58.372 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:14:58.373 +02:00 [INF] Executed page /Account/Login in 3.6949ms
2021-09-07 16:14:58.373 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:14:58.373 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 287 - 200 - text/html;+charset=utf-8 4.6840ms
2021-09-07 16:15:28.888 +02:00 [INF] Application is shutting down...
2021-09-07 16:15:28.909 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 16:15:28.910 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 16:15:28.914 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 16:15:47.903 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 16:15:48.340 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:15:48.709 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:15:48.759 +02:00 [WRN] Role 850bb486-be1d-4123-811e-c55deb1526b4 validation failed: DuplicateRoleName.
2021-09-07 16:15:48.764 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:15:48.765 +02:00 [WRN] Role 8f044aef-977f-4b53-8474-8a6364ed6695 validation failed: DuplicateRoleName.
2021-09-07 16:15:48.780 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__adminUser_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN NOT EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Id] = @__adminUser_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-09-07 16:15:48.787 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:15:48.804 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:15:48.807 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:15:48.904 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-09-07 16:15:48.926 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:15:48.942 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-09-07 16:15:48.944 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:15:48.954 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:15:48.955 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:15:48.964 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-09-07 16:15:48.968 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 16:15:48.971 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:15:48.973 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-09-07 16:15:48.973 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:15:48.974 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:15:48.975 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:15:48.976 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-09-07 16:15:48.977 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 16:15:49.040 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 16:15:49.040 +02:00 [INF] Quartz Scheduler created
2021-09-07 16:15:49.041 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 16:15:49.041 +02:00 [INF] RAMJobStore initialized.
2021-09-07 16:15:49.043 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 16:15:49.043 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 16:15:49.043 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 16:15:49.058 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 16:15:49.060 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 16:15:49.068 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 16:15:49.088 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:15:49.101 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 16:15:49.113 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 16:15:49.132 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:15:49.163 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:15:49.175 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 16:15:49.454 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 16:15:49.454 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 16:15:49.454 +02:00 [INF] Hosting environment: Development
2021-09-07 16:15:49.455 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 16:16:00.772 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 287
2021-09-07 16:16:00.811 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:16:00.812 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:16:00.859 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:16:00.884 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:16:00.908 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:16:00.916 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:16:00.917 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:16:00.919 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:16:01.028 +02:00 [INF] Executed page /Account/Login in 140.7775ms
2021-09-07 16:16:01.029 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:16:01.034 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 287 - 200 - text/html;+charset=utf-8 263.4376ms
2021-09-07 16:16:01.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 16:16:01.111 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 16:16:01.111 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 4.0389ms
2021-09-07 16:16:12.217 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291
2021-09-07 16:16:12.221 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:16:12.222 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:16:12.223 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:16:12.223 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:16:12.230 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:16:12.230 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:16:12.231 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:16:12.232 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:16:12.237 +02:00 [INF] Executed page /Account/Login in 13.9569ms
2021-09-07 16:16:12.237 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:16:12.237 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291 - 200 - text/html;+charset=utf-8 20.7877ms
2021-09-07 16:17:49.042 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:17:49.089 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 16:17:49.139 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 16:22:29.754 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291
2021-09-07 16:22:29.755 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:22:29.755 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:22:29.759 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:22:29.759 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:22:29.760 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:22:29.760 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:22:29.765 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:22:29.765 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:22:29.768 +02:00 [INF] Executed page /Account/Login in 8.9657ms
2021-09-07 16:22:29.768 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:22:29.768 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291 - 200 - text/html;+charset=utf-8 14.2202ms
2021-09-07 16:22:43.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291
2021-09-07 16:22:43.345 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:22:43.345 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:22:43.346 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:22:43.346 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:22:43.346 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:22:43.347 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:22:43.347 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:22:43.347 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:22:43.349 +02:00 [INF] Executed page /Account/Login in 2.9617ms
2021-09-07 16:22:43.349 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:22:43.349 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291 - 200 - text/html;+charset=utf-8 4.0036ms
2021-09-07 16:22:44.424 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291
2021-09-07 16:22:44.424 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:22:44.424 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:22:44.425 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:22:44.425 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:22:44.425 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:22:44.426 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:22:44.426 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:22:44.427 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:22:44.428 +02:00 [INF] Executed page /Account/Login in 3.6313ms
2021-09-07 16:22:44.428 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:22:44.429 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291 - 200 - text/html;+charset=utf-8 4.5327ms
2021-09-07 16:23:08.193 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291
2021-09-07 16:23:08.193 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:23:08.193 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:23:08.194 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:23:08.194 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:23:08.194 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:23:08.195 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:23:08.196 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:23:08.196 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:23:08.198 +02:00 [INF] Executed page /Account/Login in 3.6177ms
2021-09-07 16:23:08.198 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:23:08.198 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 291 - 200 - text/html;+charset=utf-8 5.1122ms
2021-09-07 16:23:33.780 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:23:33.781 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:23:33.784 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:23:33.788 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:23:33.792 +02:00 [INF] Executed ViewResult - view Index executed in 6.3006ms.
2021-09-07 16:23:33.792 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 7.5451ms
2021-09-07 16:23:33.792 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:23:33.792 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 11.8728ms
2021-09-07 16:23:36.267 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 16:23:36.267 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:23:36.268 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:23:36.268 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:23:36.270 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:23:36.270 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:23:36.273 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:23:36.273 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:23:36.276 +02:00 [INF] Executed page /Account/Login in 8.762ms
2021-09-07 16:23:36.277 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:23:36.277 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 9.6050ms
2021-09-07 16:23:38.645 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 16:23:38.645 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:23:38.645 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:23:38.645 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:23:38.645 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:23:38.646 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:23:38.646 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:23:38.649 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:23:38.649 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:23:38.650 +02:00 [INF] Executed page /Account/Login in 5.0138ms
2021-09-07 16:23:38.650 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:23:38.650 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 5.9967ms
2021-09-07 16:25:39.675 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 16:25:39.676 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:25:39.676 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:25:39.676 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:25:39.676 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:25:39.677 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:25:39.677 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:25:39.679 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:25:39.680 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:25:39.681 +02:00 [INF] Executed page /Account/Login in 4.6259ms
2021-09-07 16:25:39.681 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:25:39.681 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 5.6840ms
2021-09-07 16:26:16.617 +02:00 [INF] Application is shutting down...
2021-09-07 16:26:16.635 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2021-09-07 16:26:16.636 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2021-09-07 16:26:16.640 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2021-09-07 16:26:51.395 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 16:26:51.830 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:26:52.191 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:26:52.239 +02:00 [WRN] Role 624e18be-bd90-4984-aef2-10920f401429 validation failed: DuplicateRoleName.
2021-09-07 16:26:52.243 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:26:52.244 +02:00 [WRN] Role 627edf3c-ad9c-447e-818d-f8c084b5002f validation failed: DuplicateRoleName.
2021-09-07 16:26:52.257 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__adminUser_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN NOT EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Id] = @__adminUser_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-09-07 16:26:52.264 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:26:52.355 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 16:26:52.355 +02:00 [INF] Quartz Scheduler created
2021-09-07 16:26:52.355 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 16:26:52.355 +02:00 [INF] RAMJobStore initialized.
2021-09-07 16:26:52.357 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 16:26:52.357 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 16:26:52.357 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 16:26:52.371 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 16:26:52.373 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 16:26:52.381 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 16:26:52.400 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:26:52.413 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 16:26:52.427 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 16:26:52.447 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:26:52.477 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:26:52.489 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 16:26:52.773 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 16:26:52.773 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 16:26:52.773 +02:00 [INF] Hosting environment: Development
2021-09-07 16:26:52.773 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 16:26:55.985 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 16:26:56.022 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:26:56.022 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:26:56.068 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:26:56.096 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:26:56.119 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:26:56.126 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:26:56.131 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:26:56.133 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:26:56.237 +02:00 [INF] Executed page /Account/Login in 138.5198ms
2021-09-07 16:26:56.238 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:26:56.242 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 259.0535ms
2021-09-07 16:26:56.317 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 16:26:56.321 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 16:26:56.321 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 4.1229ms
2021-09-07 16:27:00.448 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/I - -
2021-09-07 16:27:00.449 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/I - - - 404 0 - 1.9592ms
2021-09-07 16:27:07.519 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:27:07.523 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:27:07.526 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:27:07.531 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:27:07.542 +02:00 [INF] Executed ViewResult - view Index executed in 14.3887ms.
2021-09-07 16:27:07.543 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 16.0485ms
2021-09-07 16:27:07.543 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:27:07.543 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 24.5706ms
2021-09-07 16:27:10.668 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 16:27:10.672 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:27:10.672 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:27:10.673 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:27:10.675 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:27:10.675 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:27:10.677 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:27:10.677 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:27:10.681 +02:00 [INF] Executed page /Account/Login in 9.0374ms
2021-09-07 16:27:10.681 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:27:10.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 13.2953ms
2021-09-07 16:27:12.659 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 16:27:12.660 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:27:12.660 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:27:12.660 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:27:12.661 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:27:12.662 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:27:12.662 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:27:12.663 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:27:12.663 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:27:12.665 +02:00 [INF] Executed page /Account/Login in 4.3006ms
2021-09-07 16:27:12.665 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:27:12.665 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 6.0797ms
2021-09-07 16:29:12.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Register - -
2021-09-07 16:29:12.828 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-07 16:29:12.832 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-07 16:29:12.833 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:29:12.833 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:29:12.833 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:29:12.833 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:29:12.843 +02:00 [INF] Executed page /Account/Register in 11.0223ms
2021-09-07 16:29:12.843 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-07 16:29:12.844 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 18.8118ms
2021-09-07 16:29:46.059 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Register application/x-www-form-urlencoded 275
2021-09-07 16:29:46.060 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:29:46.060 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:29:46.060 +02:00 [INF] Executing endpoint '/Account/Register'
2021-09-07 16:29:46.060 +02:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2021-09-07 16:29:46.062 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:29:46.075 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:29:46.076 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:29:46.079 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:29:46.148 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-09-07 16:29:46.160 +02:00 [INF] User created a new account with password.
2021-09-07 16:29:46.194 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:29:46.213 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:29:46.217 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 16:29:46.217 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:29:46.217 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 16:29:46.217 +02:00 [INF] Executed page /Account/Register in 157.1596ms
2021-09-07 16:29:46.217 +02:00 [INF] Executed endpoint '/Account/Register'
2021-09-07 16:29:46.217 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Register application/x-www-form-urlencoded 275 - 302 0 - 158.2031ms
2021-09-07 16:29:46.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:29:46.222 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:29:46.222 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:29:46.222 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:29:46.224 +02:00 [INF] Executed ViewResult - view Index executed in 1.7438ms.
2021-09-07 16:29:46.224 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 2.0259ms
2021-09-07 16:29:46.224 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:29:46.224 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 4.8363ms
2021-09-07 16:29:52.383 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:29:52.415 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 16:29:52.466 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 16:29:57.583 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2021-09-07 16:29:57.585 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:29:57.585 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:29:57.586 +02:00 [INF] Executing endpoint '/Account/Logout'
2021-09-07 16:29:57.590 +02:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2021-09-07 16:29:57.591 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LogoutModel.OnPost - ModelState is "Valid"
2021-09-07 16:29:57.592 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 16:29:57.592 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:29:57.592 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 16:29:57.592 +02:00 [INF] User logged out.
2021-09-07 16:29:57.592 +02:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:29:57.592 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 16:29:57.592 +02:00 [INF] Executed page /Account/Logout in 2.5415ms
2021-09-07 16:29:57.592 +02:00 [INF] Executed endpoint '/Account/Logout'
2021-09-07 16:29:57.593 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 9.3407ms
2021-09-07 16:29:57.594 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:29:57.595 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:29:57.595 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:29:57.595 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:29:57.595 +02:00 [INF] Executed ViewResult - view Index executed in 0.5103ms.
2021-09-07 16:29:57.595 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 0.6071ms
2021-09-07 16:29:57.595 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:29:57.596 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.0926ms
2021-09-07 16:29:59.585 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 16:29:59.585 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:29:59.586 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:29:59.586 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:29:59.586 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:29:59.586 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:29:59.586 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:29:59.586 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:29:59.588 +02:00 [INF] Executed page /Account/Login in 2.0269ms
2021-09-07 16:29:59.588 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:29:59.588 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 2.9008ms
2021-09-07 16:30:02.028 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 266
2021-09-07 16:30:02.028 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:30:02.028 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:30:02.028 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:30:02.028 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:30:02.029 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:30:02.029 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:30:02.030 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:30:02.042 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:30:02.043 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:30:02.043 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 16:30:02.044 +02:00 [INF] User logged in.
2021-09-07 16:30:02.044 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:30:02.044 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 16:30:02.044 +02:00 [INF] Executed page /Account/Login in 15.8328ms
2021-09-07 16:30:02.044 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:30:02.045 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 266 - 302 0 - 16.6451ms
2021-09-07 16:30:02.047 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:30:02.048 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:30:02.048 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:30:02.048 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:30:02.048 +02:00 [INF] Executed ViewResult - view Index executed in 0.5824ms.
2021-09-07 16:30:02.048 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 0.6743ms
2021-09-07 16:30:02.048 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:30:02.048 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.8322ms
2021-09-07 16:30:03.955 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2021-09-07 16:30:03.955 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:30:03.955 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:30:03.956 +02:00 [INF] Executing endpoint '/Account/Logout'
2021-09-07 16:30:03.956 +02:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2021-09-07 16:30:03.956 +02:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V4.Pages.Account.Internal.LogoutModel.OnPost - ModelState is "Valid"
2021-09-07 16:30:03.956 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 16:30:03.957 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:30:03.957 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 16:30:03.957 +02:00 [INF] User logged out.
2021-09-07 16:30:03.957 +02:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:30:03.957 +02:00 [INF] Executing LocalRedirectResult, redirecting to /.
2021-09-07 16:30:03.957 +02:00 [INF] Executed page /Account/Logout in 1.0608ms
2021-09-07 16:30:03.957 +02:00 [INF] Executed endpoint '/Account/Logout'
2021-09-07 16:30:03.957 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 2.3417ms
2021-09-07 16:30:03.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:30:03.960 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:30:03.960 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:30:03.960 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:30:03.960 +02:00 [INF] Executed ViewResult - view Index executed in 0.4866ms.
2021-09-07 16:30:03.960 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 0.5883ms
2021-09-07 16:30:03.960 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:30:03.960 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 1.1157ms
2021-09-07 16:30:05.697 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login - -
2021-09-07 16:30:05.697 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:30:05.697 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:30:05.698 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:30:05.698 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:30:05.698 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:30:05.698 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:30:05.698 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:30:05.699 +02:00 [INF] Executed page /Account/Login in 1.5462ms
2021-09-07 16:30:05.699 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:30:05.699 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 2.2171ms
2021-09-07 16:30:21.509 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 16:30:21.510 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:30:21.510 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:30:21.510 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:30:21.510 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:30:21.512 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:30:21.512 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:30:21.513 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:30:21.514 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:30:21.516 +02:00 [INF] Executed page /Account/Login in 5.1372ms
2021-09-07 16:30:21.516 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:30:21.516 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 6.4576ms
2021-09-07 16:32:17.656 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:32:17.656 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:17.657 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:32:17.663 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:32:17.664 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:32:17.684 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:32:17.685 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 28.8804ms
2021-09-07 16:32:17.693 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:32:17.693 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:17.693 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:32:17.694 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:32:17.695 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:32:17.716 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:32:17.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 24.0790ms
2021-09-07 16:32:17.724 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=UUtrclpGNmR3Y2FNNn5BREpNRUxTcFJiLU1SVHdlYzdqMW5QdDdDZ0R6cU1i&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Dk-Z403HDLZko_SM7MT1CUbVworT8S0-W76pET8--FY&code_challenge_method=S256&nonce=UUtrclpGNmR3Y2FNNn5BREpNRUxTcFJiLU1SVHdlYzdqMW5QdDdDZ0R6cU1i&prompt=none - -
2021-09-07 16:32:17.725 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:32:17.727 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "UUtrclpGNmR3Y2FNNn5BREpNRUxTcFJiLU1SVHdlYzdqMW5QdDdDZ0R6cU1i",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "Dk-Z403HDLZko_SM7MT1CUbVworT8S0-W76pET8--FY",
  "code_challenge_method": "S256",
  "nonce": "UUtrclpGNmR3Y2FNNn5BREpNRUxTcFJiLU1SVHdlYzdqMW5QdDdDZ0R6cU1i",
  "prompt": "none"
}.
2021-09-07 16:32:17.739 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:17.742 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:32:17.760 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:32:17.761 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:17.764 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:17.770 +02:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-07 16:32:17.781 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "error": "login_required",
  "error_description": "The user is not logged in.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2015",
  "state": "UUtrclpGNmR3Y2FNNn5BREpNRUxTcFJiLU1SVHdlYzdqMW5QdDdDZ0R6cU1i"
}.
2021-09-07 16:32:17.785 +02:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2021-09-07 16:32:17.785 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 21.2669ms
2021-09-07 16:32:17.785 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:17.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=UUtrclpGNmR3Y2FNNn5BREpNRUxTcFJiLU1SVHdlYzdqMW5QdDdDZ0R6cU1i&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Dk-Z403HDLZko_SM7MT1CUbVworT8S0-W76pET8--FY&code_challenge_method=S256&nonce=UUtrclpGNmR3Y2FNNn5BREpNRUxTcFJiLU1SVHdlYzdqMW5QdDdDZ0R6cU1i&prompt=none - - - 302 0 - 61.0956ms
2021-09-07 16:32:20.202 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw&code_challenge_method=S256&nonce=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE - -
2021-09-07 16:32:20.203 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:32:20.203 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "QiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw",
  "code_challenge_method": "S256",
  "nonce": "ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE"
}.
2021-09-07 16:32:20.205 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:20.206 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:32:20.208 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:32:20.208 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:20.208 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:20.212 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2021-09-07 16:32:20.213 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-09-07 16:32:20.213 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 4.5701ms
2021-09-07 16:32:20.213 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:20.213 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw&code_challenge_method=S256&nonce=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE - - - 302 0 - 10.8684ms
2021-09-07 16:32:20.215 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DQiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw%26code_challenge_method%3DS256%26nonce%3DODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE - -
2021-09-07 16:32:20.215 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:32:20.216 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:32:20.216 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:32:20.216 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:32:20.216 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:32:20.216 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:32:20.216 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:32:20.217 +02:00 [INF] Executed page /Account/Login in 1.4378ms
2021-09-07 16:32:20.217 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:32:20.217 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DQiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw%26code_challenge_method%3DS256%26nonce%3DODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE - - - 200 - text/html;+charset=utf-8 1.9726ms
2021-09-07 16:32:22.679 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DQiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw%26code_challenge_method%3DS256%26nonce%3DODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE application/x-www-form-urlencoded 266
2021-09-07 16:32:22.679 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:32:22.679 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:32:22.679 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:32:22.680 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:32:22.680 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:32:22.680 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:22.682 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:32:22.691 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:32:22.692 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:32:22.693 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 16:32:22.693 +02:00 [INF] User logged in.
2021-09-07 16:32:22.693 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:32:22.693 +02:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?response_type=code&client_id=angularClient&state=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw&code_challenge_method=S256&nonce=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE.
2021-09-07 16:32:22.693 +02:00 [INF] Executed page /Account/Login in 13.3056ms
2021-09-07 16:32:22.693 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:32:22.693 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DQiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw%26code_challenge_method%3DS256%26nonce%3DODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE application/x-www-form-urlencoded 266 - 302 0 - 14.2575ms
2021-09-07 16:32:22.696 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw&code_challenge_method=S256&nonce=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE - -
2021-09-07 16:32:22.696 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:32:22.696 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "QiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw",
  "code_challenge_method": "S256",
  "nonce": "ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE"
}.
2021-09-07 16:32:22.697 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:22.698 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:32:22.700 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:32:22.701 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:22.701 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:22.710 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:32:22.739 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:32:22.745 +02:00 [INF] Executing ViewResult, running view Authorize.
2021-09-07 16:32:22.748 +02:00 [INF] Executed ViewResult - view Authorize executed in 4.9544ms.
2021-09-07 16:32:22.748 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 46.631ms
2021-09-07 16:32:22.748 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:22.748 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=QiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw&code_challenge_method=S256&nonce=ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE - - - 200 - text/html;+charset=utf-8 52.5886ms
2021-09-07 16:32:24.358 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/authorize application/x-www-form-urlencoded 619
2021-09-07 16:32:24.364 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:32:24.364 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:32:24.364 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:32:24.364 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "QiPFIIHTZ09_7jPl6WpNoNJ1YZPmQgdUX9yrBzFQ1Qw",
  "code_challenge_method": "S256",
  "nonce": "ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE",
  "submit.Accept": "Yes",
  "__RequestVerificationToken": "CfDJ8M0irElukjFNtbmp3BlrPn5_R_WdkyGDiEI2okeDTdvAIapNHmosfZdjahTGKPxDxVikgehOv2B9IYo369EW7QkOLCFLuKsJCr7FDtxyJZgIQ06dQO7Jp8PvpWwDedrtAHF1I8hzu0TyiMQbTwUqylKlz6bMT3j0iJalCL6JbJ4Dpm2x24r8Z9leESJWmrVChA"
}.
2021-09-07 16:32:24.364 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:24.365 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:32:24.365 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:32:24.367 +02:00 [INF] Authorization was successful.
2021-09-07 16:32:24.368 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer)'
2021-09-07 16:32:24.370 +02:00 [INF] Route matched with {action = "Accept", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Accept() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:24.373 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:32:24.374 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:32:24.375 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:32:24.375 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:32:24.410 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 16:32:24.421 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:24.475 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2021-09-07 16:32:24.490 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:32:24.506 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:24.513 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:24.547 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:32:24.658 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:24.659 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:24.680 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:32:24.691 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:32:24.696 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "ODFHeXlDcEl0YzlZejBjUVA1Q21WcFJPLXdzUC40WDU1eG9oUXBJYXkycHlE;%2Fhome"
}.
2021-09-07 16:32:24.697 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer) in 327.3701ms
2021-09-07 16:32:24.697 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer)'
2021-09-07 16:32:24.698 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/authorize application/x-www-form-urlencoded 619 - 302 0 - 339.9159ms
2021-09-07 16:32:24.878 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:32:24.878 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:24.878 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:32:24.878 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:32:24.879 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:32:24.879 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:32:24.879 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 1.0530ms
2021-09-07 16:32:24.891 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:32:24.891 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:24.891 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:32:24.892 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:32:24.892 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:32:24.892 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:32:24.893 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 1.3635ms
2021-09-07 16:32:24.900 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221
2021-09-07 16:32:24.901 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:24.901 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 16:32:24.904 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200",
  "code_verifier": "eWlTa2hkOFp1U2dDUHZzRExXdmFzUElwYTZCNWk1WWJaUGFmdF9uY2tRNS5y",
  "client_id": "angularClient"
}.
2021-09-07 16:32:24.910 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:24.911 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:32:24.926 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:32:25.001 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.006 +02:00 [INF] The token request was successfully validated.
2021-09-07 16:32:25.007 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:32:25.009 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:25.011 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:32:25.012 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:32:25.019 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:32:25.022 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:32:25.023 +02:00 [INF] The token '16eafe02-d9b4-4046-8ddd-261de5bde697' was successfully marked as redeemed.
2021-09-07 16:32:25.025 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.025 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.026 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:32:25.031 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.031 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.032 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:32:25.041 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.041 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.042 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:32:25.046 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 16:32:25.046 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 37.5645ms
2021-09-07 16:32:25.046 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:32:25.046 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221 - 200 6579 application/json;charset=UTF-8 145.9151ms
2021-09-07 16:32:25.050 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 16:32:25.050 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:25.050 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.4954ms
2021-09-07 16:32:25.051 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 16:32:25.052 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:25.052 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 16:32:25.053 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 16:32:25.059 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:25.068 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.072 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:32:25.073 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 16:32:25.077 +02:00 [INF] Authorization was successful.
2021-09-07 16:32:25.077 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:32:25.079 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 16:32:25.081 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:32:25.082 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:32:25.083 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 16:32:25.095 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 16.2468ms
2021-09-07 16:32:25.095 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:32:25.095 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 43.9845ms
2021-09-07 16:32:28.624 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4NDA1MjZDQjY4MDY2NEQwQUIyQzk3N0YyQzY5MjIwNEE5NkE2QjAiLCJ4NXQiOiJPRUJTYkxhQVprMEtzc2wzOHNhU0lFcVdwckEiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJiMDRkODNkMC00Y2ZlLTQ2NTYtOGFjMi05MThmMzU3Y2Y5YTMiLCJuYW1lIjoic2ViYXN0aWFuQGhvdG1haWwuY29tIiwib2lfYXVfaWQiOiI5ZmY2OGIxOC1iMmViLTRkZTgtYmVlOS04NWY3YjRjMzI5NTYiLCJhenAiOiJhbmd1bGFyQ2xpZW50Iiwibm9uY2UiOiJPREZIZVhsRGNFbDBZemxaZWpCalVWQTFRMjFXY0ZKUExYZHpVQzQwV0RVMWVHOW9VWEJKWVhreWNIbEUiLCJhdF9oYXNoIjoiZEdHbVFzZU85bGhuVkpkdnRwbF9XQSIsIm9pX3Rrbl9pZCI6ImNkY2YyMDdmLWY3NWMtNDk1Ny1iYzRkLTFhNzUwZmQ1MGY5MSIsImF1ZCI6ImFuZ3VsYXJDbGllbnQiLCJleHAiOjE2MzEwMjYzNDUsImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvIiwiaWF0IjoxNjMxMDI1MTQ1fQ.tbVuVG7KJ5MBxDyYfnThAIWflQlPk1RivzlXcLba21CZc4tdJtj6xXdYy1lsPVogD8kgjBQ3_GYdFF-2U_qn0p0KxNgPtXzpgwANFhXHJOg_NwuDnz3O6-tCpxxEUufAjjUC-41Z4PjwEiBpKL7uJAF-Qbc4iuJZU6xhyMrwW2-djIetq7IBtD0MRWIej3kPrlhKIFqRG46gdwo-4teGNyPS3BOrDu8bbjS3pfvat4GwVTZcKEXnKlBxhax4fLvZ7Z8QrziB_Y0uBMejMrRqVmS1w2JXf906avl0B3gHW_m7syKvf-xkaAxbKKx3rdZsJ0P5wYuLADGIzEx6cj99HA&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2021-09-07 16:32:28.624 +02:00 [INF] The request address matched a server endpoint: "Logout".
2021-09-07 16:32:28.626 +02:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2021-09-07 16:32:28.643 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:28.648 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__address_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__address_0 LIKE N'') OR (CHARINDEX(@__address_0, [o].[PostLogoutRedirectUris]) > 0)
2021-09-07 16:32:28.653 +02:00 [INF] The logout request was successfully validated.
2021-09-07 16:32:28.655 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer)'
2021-09-07 16:32:28.655 +02:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:28.657 +02:00 [INF] Executing ViewResult, running view Logout.
2021-09-07 16:32:28.659 +02:00 [INF] Executed ViewResult - view Logout executed in 3.3392ms.
2021-09-07 16:32:28.659 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer) in 3.5242ms
2021-09-07 16:32:28.659 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer)'
2021-09-07 16:32:28.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4NDA1MjZDQjY4MDY2NEQwQUIyQzk3N0YyQzY5MjIwNEE5NkE2QjAiLCJ4NXQiOiJPRUJTYkxhQVprMEtzc2wzOHNhU0lFcVdwckEiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJiMDRkODNkMC00Y2ZlLTQ2NTYtOGFjMi05MThmMzU3Y2Y5YTMiLCJuYW1lIjoic2ViYXN0aWFuQGhvdG1haWwuY29tIiwib2lfYXVfaWQiOiI5ZmY2OGIxOC1iMmViLTRkZTgtYmVlOS04NWY3YjRjMzI5NTYiLCJhenAiOiJhbmd1bGFyQ2xpZW50Iiwibm9uY2UiOiJPREZIZVhsRGNFbDBZemxaZWpCalVWQTFRMjFXY0ZKUExYZHpVQzQwV0RVMWVHOW9VWEJKWVhreWNIbEUiLCJhdF9oYXNoIjoiZEdHbVFzZU85bGhuVkpkdnRwbF9XQSIsIm9pX3Rrbl9pZCI6ImNkY2YyMDdmLWY3NWMtNDk1Ny1iYzRkLTFhNzUwZmQ1MGY5MSIsImF1ZCI6ImFuZ3VsYXJDbGllbnQiLCJleHAiOjE2MzEwMjYzNDUsImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvIiwiaWF0IjoxNjMxMDI1MTQ1fQ.tbVuVG7KJ5MBxDyYfnThAIWflQlPk1RivzlXcLba21CZc4tdJtj6xXdYy1lsPVogD8kgjBQ3_GYdFF-2U_qn0p0KxNgPtXzpgwANFhXHJOg_NwuDnz3O6-tCpxxEUufAjjUC-41Z4PjwEiBpKL7uJAF-Qbc4iuJZU6xhyMrwW2-djIetq7IBtD0MRWIej3kPrlhKIFqRG46gdwo-4teGNyPS3BOrDu8bbjS3pfvat4GwVTZcKEXnKlBxhax4fLvZ7Z8QrziB_Y0uBMejMrRqVmS1w2JXf906avl0B3gHW_m7syKvf-xkaAxbKKx3rdZsJ0P5wYuLADGIzEx6cj99HA&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 35.0474ms
2021-09-07 16:32:30.343 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/logout application/x-www-form-urlencoded 1328
2021-09-07 16:32:30.343 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:32:30.343 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:32:30.344 +02:00 [INF] The request address matched a server endpoint: "Logout".
2021-09-07 16:32:30.344 +02:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8M0irElukjFNtbmp3BlrPn5E-AVMn_JVWeUlVtG2aLcpH71v9VALhvwCa_2MkMIxS3EPTEW_bZFaBIAGj0_3j8WidPaG4pXJArgTO-lNwh9qVQlxkKaE3X5D71__85LWAPFJ2Tk4GTfqRvFXJ_jwb5keh3p0iLW6ll_2_mlqYtA8D9C5N6JHo3odtgNHYF2Y7A"
}.
2021-09-07 16:32:30.344 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:30.345 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__address_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__address_0 LIKE N'') OR (CHARINDEX(@__address_0, [o].[PostLogoutRedirectUris]) > 0)
2021-09-07 16:32:30.346 +02:00 [INF] The logout request was successfully validated.
2021-09-07 16:32:30.346 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer)'
2021-09-07 16:32:30.348 +02:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:30.349 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 16:32:30.349 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:32:30.349 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 16:32:30.349 +02:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-07 16:32:30.355 +02:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2021-09-07 16:32:30.355 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer) in 7.5559ms
2021-09-07 16:32:30.356 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer)'
2021-09-07 16:32:30.356 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/logout application/x-www-form-urlencoded 1328 - 302 0 - 12.4115ms
2021-09-07 16:32:30.515 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:32:30.516 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:30.516 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:32:30.516 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:32:30.517 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:32:30.518 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:32:30.518 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 2.3576ms
2021-09-07 16:32:30.530 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:32:30.531 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:32:30.531 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:32:30.531 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:32:30.532 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:32:30.533 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:32:30.533 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 2.4131ms
2021-09-07 16:32:30.541 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=cWZGM1AyYVR3dWFmTHJaUXNmaVpnRGZILVpYaDNiUlNnMEtFZnBDMVJueWdY&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=A2B2vX7fHMXDBCzLbFvmjdQntAa1yiPxBazm-RniykA&code_challenge_method=S256&nonce=cWZGM1AyYVR3dWFmTHJaUXNmaVpnRGZILVpYaDNiUlNnMEtFZnBDMVJueWdY&prompt=none - -
2021-09-07 16:32:30.541 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:32:30.541 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "cWZGM1AyYVR3dWFmTHJaUXNmaVpnRGZILVpYaDNiUlNnMEtFZnBDMVJueWdY",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "A2B2vX7fHMXDBCzLbFvmjdQntAa1yiPxBazm-RniykA",
  "code_challenge_method": "S256",
  "nonce": "cWZGM1AyYVR3dWFmTHJaUXNmaVpnRGZILVpYaDNiUlNnMEtFZnBDMVJueWdY",
  "prompt": "none"
}.
2021-09-07 16:32:30.541 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:30.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:32:30.542 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:32:30.542 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:30.543 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:30.543 +02:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-07 16:32:30.543 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "error": "login_required",
  "error_description": "The user is not logged in.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2015",
  "state": "cWZGM1AyYVR3dWFmTHJaUXNmaVpnRGZILVpYaDNiUlNnMEtFZnBDMVJueWdY"
}.
2021-09-07 16:32:30.543 +02:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2021-09-07 16:32:30.544 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 0.8457ms
2021-09-07 16:32:30.544 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:30.544 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=cWZGM1AyYVR3dWFmTHJaUXNmaVpnRGZILVpYaDNiUlNnMEtFZnBDMVJueWdY&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=A2B2vX7fHMXDBCzLbFvmjdQntAa1yiPxBazm-RniykA&code_challenge_method=S256&nonce=cWZGM1AyYVR3dWFmTHJaUXNmaVpnRGZILVpYaDNiUlNnMEtFZnBDMVJueWdY&prompt=none - - - 302 0 - 3.3421ms
2021-09-07 16:32:32.005 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=VcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI&code_challenge_method=S256&nonce=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf - -
2021-09-07 16:32:32.005 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:32:32.005 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "VcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI",
  "code_challenge_method": "S256",
  "nonce": "Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf"
}.
2021-09-07 16:32:32.006 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:32.007 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:32:32.007 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:32:32.007 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:32.007 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:32:32.007 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2021-09-07 16:32:32.007 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-09-07 16:32:32.007 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 0.3368ms
2021-09-07 16:32:32.008 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:32:32.008 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=VcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI&code_challenge_method=S256&nonce=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf - - - 302 0 - 2.4939ms
2021-09-07 16:32:32.010 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf - -
2021-09-07 16:32:32.010 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:32:32.010 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:32:32.010 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:32:32.010 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:32:32.010 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:32:32.010 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:32:32.011 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:32:32.011 +02:00 [INF] Executed page /Account/Login in 1.2135ms
2021-09-07 16:32:32.011 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:32:32.011 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf - - - 200 - text/html;+charset=utf-8 1.7375ms
2021-09-07 16:32:45.189 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 269
2021-09-07 16:32:45.189 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:32:45.189 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:32:45.189 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:32:45.189 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:32:45.190 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:32:45.190 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:45.191 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:32:45.191 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:32:45.192 +02:00 [INF] Executed page /Account/Login in 3.0485ms
2021-09-07 16:32:45.192 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:32:45.192 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 3.7791ms
2021-09-07 16:32:52.822 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 269
2021-09-07 16:32:52.822 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:32:52.822 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:32:52.822 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:32:52.823 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:32:52.823 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:32:52.823 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:32:52.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:32:52.824 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:32:52.825 +02:00 [INF] Executed page /Account/Login in 2.5686ms
2021-09-07 16:32:52.825 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:32:52.825 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 3.3271ms
2021-09-07 16:33:00.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:33:00.986 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:33:00.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 4.0849ms
2021-09-07 16:33:01.000 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:33:01.005 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:33:01.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.6841ms
2021-09-07 16:33:08.442 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 269
2021-09-07 16:33:08.442 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:33:08.442 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:33:08.443 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:33:08.443 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:33:08.443 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:33:08.443 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:33:08.445 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:33:08.446 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:33:08.447 +02:00 [INF] Executed page /Account/Login in 4.0595ms
2021-09-07 16:33:08.447 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:33:08.447 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 4.7779ms
2021-09-07 16:33:08.526 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:33:08.527 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:33:08.528 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 1.9298ms
2021-09-07 16:33:08.529 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:33:08.533 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:33:08.533 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.7969ms
2021-09-07 16:33:15.735 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 269
2021-09-07 16:33:15.735 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:33:15.735 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:33:15.736 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:33:15.736 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:33:15.736 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:33:15.736 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:33:15.737 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:33:15.737 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:33:15.739 +02:00 [INF] Executed page /Account/Login in 2.9634ms
2021-09-07 16:33:15.739 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:33:15.739 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 269 - 200 - text/html;+charset=utf-8 3.9239ms
2021-09-07 16:33:15.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:33:15.825 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:33:15.825 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:33:15.826 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.4979ms
2021-09-07 16:33:15.832 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:33:15.833 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 7.6212ms
2021-09-07 16:35:08.669 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266
2021-09-07 16:35:08.669 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:35:08.669 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:35:08.670 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:35:08.670 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:35:08.670 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:35:08.670 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:35:08.673 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:35:08.673 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:35:08.674 +02:00 [INF] Executed page /Account/Login in 4.3356ms
2021-09-07 16:35:08.674 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:35:08.674 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266 - 200 - text/html;+charset=utf-8 5.1923ms
2021-09-07 16:35:08.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:35:08.783 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:35:08.783 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.4037ms
2021-09-07 16:35:08.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:35:08.790 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:35:08.790 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.5056ms
2021-09-07 16:35:18.388 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266
2021-09-07 16:35:18.388 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:35:18.388 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:35:18.388 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:35:18.388 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:35:18.388 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:35:18.389 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:35:18.391 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:35:18.392 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:35:18.393 +02:00 [INF] Executed page /Account/Login in 4.6122ms
2021-09-07 16:35:18.393 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:35:18.393 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266 - 200 - text/html;+charset=utf-8 5.3709ms
2021-09-07 16:35:18.473 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:35:18.476 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:35:18.476 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.3252ms
2021-09-07 16:35:18.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:35:18.480 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:35:18.480 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.1499ms
2021-09-07 16:35:31.603 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266
2021-09-07 16:35:31.603 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:35:31.603 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:35:31.603 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:35:31.603 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:35:31.604 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:35:31.604 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:35:31.605 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:35:31.605 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:35:31.606 +02:00 [INF] Executed page /Account/Login in 2.9589ms
2021-09-07 16:35:31.606 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:35:31.606 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266 - 200 - text/html;+charset=utf-8 3.6146ms
2021-09-07 16:35:31.686 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:35:31.689 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:35:31.689 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.3480ms
2021-09-07 16:35:31.689 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:35:31.693 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:35:31.693 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 4.0291ms
2021-09-07 16:35:39.579 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266
2021-09-07 16:35:39.579 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:35:39.579 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:35:39.579 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:35:39.579 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:35:39.579 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:35:39.580 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:35:39.581 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:35:39.581 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:35:39.582 +02:00 [INF] Executed page /Account/Login in 2.3391ms
2021-09-07 16:35:39.582 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:35:39.582 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266 - 200 - text/html;+charset=utf-8 2.9372ms
2021-09-07 16:35:39.662 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:35:39.664 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:35:39.664 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.0472ms
2021-09-07 16:35:39.667 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:35:39.670 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:35:39.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.9880ms
2021-09-07 16:36:28.716 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266
2021-09-07 16:36:28.716 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:36:28.716 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:36:28.716 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:36:28.716 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:36:28.717 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:36:28.717 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:36:28.719 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:36:28.727 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:36:28.729 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:36:28.729 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 16:36:28.729 +02:00 [INF] User logged in.
2021-09-07 16:36:28.729 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:36:28.729 +02:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?response_type=code&client_id=angularClient&state=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=VcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI&code_challenge_method=S256&nonce=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf.
2021-09-07 16:36:28.729 +02:00 [INF] Executed page /Account/Login in 12.878ms
2021-09-07 16:36:28.729 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:36:28.729 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DVcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI%26code_challenge_method%3DS256%26nonce%3DZ2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf application/x-www-form-urlencoded 266 - 302 0 - 13.6026ms
2021-09-07 16:36:28.731 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=VcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI&code_challenge_method=S256&nonce=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf - -
2021-09-07 16:36:28.732 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:36:28.732 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "VcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI",
  "code_challenge_method": "S256",
  "nonce": "Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf"
}.
2021-09-07 16:36:28.732 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:36:28.734 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:36:28.734 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:36:28.734 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:36:28.734 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:36:28.736 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:36:28.741 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:36:28.744 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:36:28.744 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:36:28.747 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 16:36:28.747 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:36:28.750 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:28.751 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:28.753 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:36:28.756 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:28.757 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:28.761 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:36:28.763 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:36:28.764 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%2Fhome"
}.
2021-09-07 16:36:28.764 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 29.6864ms
2021-09-07 16:36:28.764 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:36:28.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=VcJYgnh9LHswunkzYiQqL0LH_rFV56rhEBLF9swYsbI&code_challenge_method=S256&nonce=Z2NTY3otMlNrMXdTVn5KYjZkbjFNLlVTMTJaQXVtcW5TYURPRlBxNTNsWFpf - - - 302 0 - 32.9088ms
2021-09-07 16:36:29.461 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:36:29.461 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:36:29.462 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:36:29.462 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:36:29.462 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:36:29.462 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:36:29.462 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 0.8910ms
2021-09-07 16:36:29.496 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:36:29.496 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:36:29.497 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:36:29.497 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:36:29.497 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:36:29.497 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:36:29.497 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 1.0815ms
2021-09-07 16:36:29.505 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221
2021-09-07 16:36:29.505 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:36:29.505 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 16:36:29.505 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200",
  "code_verifier": "QVM2VjlfMmc5MUoyMHp0M2NlY3V1S1FTM2VsWHJkMTNZQ0xCREgxRFdQZHdp",
  "client_id": "angularClient"
}.
2021-09-07 16:36:29.506 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:36:29.507 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:36:29.509 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:36:29.514 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.515 +02:00 [INF] The token request was successfully validated.
2021-09-07 16:36:29.515 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:36:29.515 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:36:29.516 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:36:29.516 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:36:29.517 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:36:29.518 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:36:29.519 +02:00 [INF] The token '561b9f2c-aa1c-4a4e-ae3d-7cddb4ba9c81' was successfully marked as redeemed.
2021-09-07 16:36:29.519 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.519 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.520 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:36:29.523 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.524 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.525 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:36:29.527 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.527 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.528 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:36:29.529 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 16:36:29.530 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 14.3192ms
2021-09-07 16:36:29.530 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:36:29.530 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221 - 200 6579 application/json;charset=UTF-8 25.0905ms
2021-09-07 16:36:29.534 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 16:36:29.535 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:36:29.535 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2329ms
2021-09-07 16:36:29.536 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 16:36:29.536 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:36:29.536 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 16:36:29.536 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 16:36:29.538 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:36:29.541 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.542 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:36:29.542 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 16:36:29.542 +02:00 [INF] Authorization was successful.
2021-09-07 16:36:29.543 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:36:29.543 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 16:36:29.544 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:36:29.544 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:36:29.545 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 16:36:29.545 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 2.4258ms
2021-09-07 16:36:29.545 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:36:29.545 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 9.6676ms
2021-09-07 16:37:12.991 +02:00 [INF] User profile is available. Using 'C:\Users\Pedro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-07 16:37:13.428 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:13.803 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:37:13.854 +02:00 [WRN] Role 9c7472a7-9032-4200-9f2f-95ddd53a4c30 validation failed: DuplicateRoleName.
2021-09-07 16:37:13.858 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:37:13.858 +02:00 [WRN] Role 737c89f7-dc2d-4183-a9ae-79082c0ccb5b validation failed: DuplicateRoleName.
2021-09-07 16:37:13.874 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__adminUser_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN NOT EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Id] = @__adminUser_Id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2021-09-07 16:37:13.880 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:37:13.897 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:37:13.900 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:37:13.996 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-09-07 16:37:14.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:37:14.031 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-09-07 16:37:14.034 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:37:14.041 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:37:14.042 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:37:14.049 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-09-07 16:37:14.053 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 16:37:14.055 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:37:14.057 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-09-07 16:37:14.057 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-07 16:37:14.058 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:37:14.059 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-07 16:37:14.060 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-09-07 16:37:14.060 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-09-07 16:37:14.121 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2021-09-07 16:37:14.121 +02:00 [INF] Quartz Scheduler created
2021-09-07 16:37:14.121 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2021-09-07 16:37:14.121 +02:00 [INF] RAMJobStore initialized.
2021-09-07 16:37:14.123 +02:00 [INF] Scheduler meta-data: Quartz Scheduler (v3.3.3.0) 'QuartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'Quartz.Core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'Quartz.Simpl.DefaultThreadPool' - with 10 threads.
  Using job-store 'Quartz.Simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2021-09-07 16:37:14.123 +02:00 [INF] Quartz scheduler 'QuartzScheduler' initialized
2021-09-07 16:37:14.123 +02:00 [INF] Quartz scheduler version: 3.3.3.0
2021-09-07 16:37:14.137 +02:00 [INF] Adding 1 jobs, 1 triggers.
2021-09-07 16:37:14.138 +02:00 [INF] Adding job: OpenIddict.Quartz.OpenIddictQuartzJob
2021-09-07 16:37:14.146 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2021-09-07 16:37:14.165 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:14.176 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-09-07 16:37:14.188 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-09-07 16:37:14.205 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:37:14.235 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:37:14.247 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2021-09-07 16:37:14.530 +02:00 [INF] Now listening on: https://localhost:5001
2021-09-07 16:37:14.531 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-07 16:37:14.531 +02:00 [INF] Hosting environment: Development
2021-09-07 16:37:14.531 +02:00 [INF] Content root path: C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer
2021-09-07 16:37:19.767 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4NDA1MjZDQjY4MDY2NEQwQUIyQzk3N0YyQzY5MjIwNEE5NkE2QjAiLCJ4NXQiOiJPRUJTYkxhQVprMEtzc2wzOHNhU0lFcVdwckEiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJiMDRkODNkMC00Y2ZlLTQ2NTYtOGFjMi05MThmMzU3Y2Y5YTMiLCJuYW1lIjoic2ViYXN0aWFuQGhvdG1haWwuY29tIiwib2lfYXVfaWQiOiI5ZmY2OGIxOC1iMmViLTRkZTgtYmVlOS04NWY3YjRjMzI5NTYiLCJhenAiOiJhbmd1bGFyQ2xpZW50Iiwibm9uY2UiOiJaMk5UWTNvdE1sTnJNWGRUVm41S1lqWmtiakZOTGxWVE1USmFRWFZ0Y1c1VFlVUlBSbEJ4TlROc1dGcGYiLCJhdF9oYXNoIjoiRkJuRk5tVmQ2R1JyZHVzdUNPeEZXQSIsIm9pX3Rrbl9pZCI6Ijc0ZGE5ZDQ0LWZiMmMtNGZmZi05MjlhLTk1Y2FmMTQzOWYxZiIsImF1ZCI6ImFuZ3VsYXJDbGllbnQiLCJleHAiOjE2MzEwMjY1ODksImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvIiwiaWF0IjoxNjMxMDI1Mzg5fQ.W1QhYTsg55s1w2N3se3iIsMTBAwOAnF5TecYC8UsQZiSA7GIyUPEcL9FTWl1quMgC4tcIHuXKNWujA2MaGH7FmLIV63wjJ3JTXPUnTy29vBlb033CeVshIvE-4I8yUESSywpCmnbHrzs9t04LGhD8KBNqP8Nkh_DIsd0zxYbTD0pWWGN0ndS41yqnLdRyr_64I6viyRGmrjqkklr8K_Zx_-r7Kw9P13vApcXl1pYLfjePFFnOggy24y79BAKLMGT9swwjC0jD6f38qndslfZ8D8cfR7U0jR5xjxZ1ORsvHiUArChzMP3lo5He_FqtwUWHAR5VwB7WzMV2RWuo_SnmA&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2021-09-07 16:37:19.823 +02:00 [INF] The request address matched a server endpoint: "Logout".
2021-09-07 16:37:19.843 +02:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2021-09-07 16:37:19.867 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:19.890 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__address_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__address_0 LIKE N'') OR (CHARINDEX(@__address_0, [o].[PostLogoutRedirectUris]) > 0)
2021-09-07 16:37:19.898 +02:00 [INF] The logout request was successfully validated.
2021-09-07 16:37:19.922 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer)'
2021-09-07 16:37:19.933 +02:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:37:19.947 +02:00 [INF] Executing ViewResult, running view Logout.
2021-09-07 16:37:20.021 +02:00 [INF] Executed ViewResult - view Logout executed in 81.7673ms.
2021-09-07 16:37:20.021 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer) in 88.3658ms
2021-09-07 16:37:20.022 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Logout (OpenIdServer)'
2021-09-07 16:37:20.026 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4NDA1MjZDQjY4MDY2NEQwQUIyQzk3N0YyQzY5MjIwNEE5NkE2QjAiLCJ4NXQiOiJPRUJTYkxhQVprMEtzc2wzOHNhU0lFcVdwckEiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJiMDRkODNkMC00Y2ZlLTQ2NTYtOGFjMi05MThmMzU3Y2Y5YTMiLCJuYW1lIjoic2ViYXN0aWFuQGhvdG1haWwuY29tIiwib2lfYXVfaWQiOiI5ZmY2OGIxOC1iMmViLTRkZTgtYmVlOS04NWY3YjRjMzI5NTYiLCJhenAiOiJhbmd1bGFyQ2xpZW50Iiwibm9uY2UiOiJaMk5UWTNvdE1sTnJNWGRUVm41S1lqWmtiakZOTGxWVE1USmFRWFZ0Y1c1VFlVUlBSbEJ4TlROc1dGcGYiLCJhdF9oYXNoIjoiRkJuRk5tVmQ2R1JyZHVzdUNPeEZXQSIsIm9pX3Rrbl9pZCI6Ijc0ZGE5ZDQ0LWZiMmMtNGZmZi05MjlhLTk1Y2FmMTQzOWYxZiIsImF1ZCI6ImFuZ3VsYXJDbGllbnQiLCJleHAiOjE2MzEwMjY1ODksImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjUwMDEvIiwiaWF0IjoxNjMxMDI1Mzg5fQ.W1QhYTsg55s1w2N3se3iIsMTBAwOAnF5TecYC8UsQZiSA7GIyUPEcL9FTWl1quMgC4tcIHuXKNWujA2MaGH7FmLIV63wjJ3JTXPUnTy29vBlb033CeVshIvE-4I8yUESSywpCmnbHrzs9t04LGhD8KBNqP8Nkh_DIsd0zxYbTD0pWWGN0ndS41yqnLdRyr_64I6viyRGmrjqkklr8K_Zx_-r7Kw9P13vApcXl1pYLfjePFFnOggy24y79BAKLMGT9swwjC0jD6f38qndslfZ8D8cfR7U0jR5xjxZ1ORsvHiUArChzMP3lo5He_FqtwUWHAR5VwB7WzMV2RWuo_SnmA&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 260.6792ms
2021-09-07 16:37:20.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:37:20.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:37:20.119 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:37:20.119 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:37:20.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 8.2624ms
2021-09-07 16:37:20.120 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 12.0543ms
2021-09-07 16:37:21.784 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/logout application/x-www-form-urlencoded 1328
2021-09-07 16:37:21.788 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:37:21.788 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:37:21.789 +02:00 [INF] The request address matched a server endpoint: "Logout".
2021-09-07 16:37:21.791 +02:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8M0irElukjFNtbmp3BlrPn4Zzfad3_Vttl2VM7GQyV3YvIoEPop1MPXLu8jwfxiH7oY0vpJwhjhl2f3IdTB53XkUzyWzm8CfEDydNL8eYvR7ClV_uk80Jr552kOBnJWH_eGen-gD2Yq7NjoSMP9dpMGvGEHCcU5lpWkxx0jzIPpep5-Hpcd46HdtsCTRu0vf7w"
}.
2021-09-07 16:37:21.793 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:21.794 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__address_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__address_0 LIKE N'') OR (CHARINDEX(@__address_0, [o].[PostLogoutRedirectUris]) > 0)
2021-09-07 16:37:21.795 +02:00 [INF] The logout request was successfully validated.
2021-09-07 16:37:21.796 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer)'
2021-09-07 16:37:21.799 +02:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:37:21.809 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-09-07 16:37:21.810 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:37:21.810 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-09-07 16:37:21.812 +02:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-07 16:37:21.822 +02:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2021-09-07 16:37:21.825 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer) in 25.6094ms
2021-09-07 16:37:21.825 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.LogoutPost (OpenIdServer)'
2021-09-07 16:37:21.825 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/logout application/x-www-form-urlencoded 1328 - 302 0 - 41.1351ms
2021-09-07 16:37:22.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:37:22.197 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:37:22.199 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:37:22.201 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:37:22.201 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:37:22.215 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:37:22.216 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 19.5333ms
2021-09-07 16:37:22.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:37:22.234 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:37:22.234 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:37:22.235 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:37:22.236 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:37:22.257 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:37:22.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 23.9124ms
2021-09-07 16:37:22.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=aVBFUjZCbmxLYjRJWGRBeFJ0OWhnTGVxb0RrVVJlMFVXc3dhTW9WQi5pbXZk&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=4GMtfXH0gOpkI4z3_czhv8r1ZAWPqv5vmnP5NsrLuw8&code_challenge_method=S256&nonce=aVBFUjZCbmxLYjRJWGRBeFJ0OWhnTGVxb0RrVVJlMFVXc3dhTW9WQi5pbXZk&prompt=none - -
2021-09-07 16:37:22.267 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:37:22.268 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "aVBFUjZCbmxLYjRJWGRBeFJ0OWhnTGVxb0RrVVJlMFVXc3dhTW9WQi5pbXZk",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "4GMtfXH0gOpkI4z3_czhv8r1ZAWPqv5vmnP5NsrLuw8",
  "code_challenge_method": "S256",
  "nonce": "aVBFUjZCbmxLYjRJWGRBeFJ0OWhnTGVxb0RrVVJlMFVXc3dhTW9WQi5pbXZk",
  "prompt": "none"
}.
2021-09-07 16:37:22.278 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:22.278 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:37:22.295 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:37:22.298 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:37:22.300 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:37:22.314 +02:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-07 16:37:22.327 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "error": "login_required",
  "error_description": "The user is not logged in.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2015",
  "state": "aVBFUjZCbmxLYjRJWGRBeFJ0OWhnTGVxb0RrVVJlMFVXc3dhTW9WQi5pbXZk"
}.
2021-09-07 16:37:22.328 +02:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2021-09-07 16:37:22.328 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 28.7257ms
2021-09-07 16:37:22.328 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:37:22.329 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=aVBFUjZCbmxLYjRJWGRBeFJ0OWhnTGVxb0RrVVJlMFVXc3dhTW9WQi5pbXZk&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=4GMtfXH0gOpkI4z3_czhv8r1ZAWPqv5vmnP5NsrLuw8&code_challenge_method=S256&nonce=aVBFUjZCbmxLYjRJWGRBeFJ0OWhnTGVxb0RrVVJlMFVXc3dhTW9WQi5pbXZk&prompt=none - - - 302 0 - 63.0499ms
2021-09-07 16:37:23.545 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Sz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM&code_challenge_method=S256&nonce=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI - -
2021-09-07 16:37:23.545 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:37:23.546 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "Sz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM",
  "code_challenge_method": "S256",
  "nonce": "bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI"
}.
2021-09-07 16:37:23.547 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:23.547 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:37:23.548 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:37:23.549 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:37:23.549 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:37:23.551 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2021-09-07 16:37:23.552 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-09-07 16:37:23.552 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 3.3449ms
2021-09-07 16:37:23.552 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:37:23.553 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI%3B%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Sz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM&code_challenge_method=S256&nonce=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI - - - 302 0 - 7.2421ms
2021-09-07 16:37:23.555 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DbUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DSz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM%26code_challenge_method%3DS256%26nonce%3DbUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI - -
2021-09-07 16:37:23.564 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:37:23.578 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:37:23.589 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:37:23.589 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:37:23.590 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:37:23.592 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:37:23.592 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:37:23.629 +02:00 [INF] Executed page /Account/Login in 50.7226ms
2021-09-07 16:37:23.629 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:37:23.629 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DbUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DSz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM%26code_challenge_method%3DS256%26nonce%3DbUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI - - - 200 - text/html;+charset=utf-8 73.9032ms
2021-09-07 16:37:23.714 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:37:23.716 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:37:23.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.4932ms
2021-09-07 16:37:23.736 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:37:23.740 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:37:23.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.9722ms
2021-09-07 16:37:34.348 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DbUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DSz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM%26code_challenge_method%3DS256%26nonce%3DbUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI application/x-www-form-urlencoded 269
2021-09-07 16:37:34.353 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:37:34.353 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:37:34.354 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:37:34.354 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:37:34.365 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:37:34.367 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:34.370 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:37:34.397 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:37:34.415 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:37:34.417 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:37:34.422 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:37:34.423 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:37:34.423 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:37:34.427 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 16:37:34.427 +02:00 [INF] User logged in.
2021-09-07 16:37:34.428 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:37:34.430 +02:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?response_type=code&client_id=angularClient&state=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Sz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM&code_challenge_method=S256&nonce=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI.
2021-09-07 16:37:34.430 +02:00 [INF] Executed page /Account/Login in 76.3247ms
2021-09-07 16:37:34.431 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:37:34.431 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DbUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%25252Fhome%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DSz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM%26code_challenge_method%3DS256%26nonce%3DbUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI application/x-www-form-urlencoded 269 - 302 0 - 82.8295ms
2021-09-07 16:37:34.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Sz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM&code_challenge_method=S256&nonce=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI - -
2021-09-07 16:37:34.433 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:37:34.434 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "Sz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM",
  "code_challenge_method": "S256",
  "nonce": "bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI"
}.
2021-09-07 16:37:34.435 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:34.437 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:37:34.439 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:37:34.440 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:37:34.441 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:37:34.446 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:37:34.487 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:37:34.494 +02:00 [INF] Executing ViewResult, running view Authorize.
2021-09-07 16:37:34.497 +02:00 [INF] Executed ViewResult - view Authorize executed in 4.3478ms.
2021-09-07 16:37:34.497 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 56.3652ms
2021-09-07 16:37:34.497 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:37:34.497 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%252Fhome&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=Sz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM&code_challenge_method=S256&nonce=bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI - - - 200 - text/html;+charset=utf-8 63.8891ms
2021-09-07 16:37:34.583 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2021-09-07 16:37:34.587 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2021-09-07 16:37:34.587 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 3.7317ms
2021-09-07 16:37:34.590 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:37:34.592 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:37:34.592 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 2.4160ms
2021-09-07 16:37:37.288 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/authorize application/x-www-form-urlencoded 619
2021-09-07 16:37:37.296 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:37:37.296 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:37:37.296 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:37:37.296 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%2Fhome",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "Sz24VaNZkXxYQbCkbf_jDz1vAN_XyIxDQaIZ94BllsM",
  "code_challenge_method": "S256",
  "nonce": "bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI",
  "submit.Accept": "Yes",
  "__RequestVerificationToken": "CfDJ8M0irElukjFNtbmp3BlrPn7CKNDNI71Zvupxjttw39pw5OMAyluZPZ89MlHzQEH8XdWmQjk-sygBnugXIR0SN2_Yc8LW_6KZaJBztUwIOcxmPqlGxXEE5qAvCZBB7spfNGdgNgXpxNkUPi8F22VobG_M4jx16jtMYU_Dj5WymXDUQBadAzuWDBl-oCNZWzuTNg"
}.
2021-09-07 16:37:37.296 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:37.297 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:37:37.297 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:37:37.300 +02:00 [INF] Authorization was successful.
2021-09-07 16:37:37.300 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer)'
2021-09-07 16:37:37.302 +02:00 [INF] Route matched with {action = "Accept", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Accept() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:37:37.305 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:37:37.306 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:37:37.307 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:37:37.308 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:37:37.308 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:37:37.309 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:37:37.309 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:37:37.310 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:37:37.349 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 16:37:37.360 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:37.410 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2021-09-07 16:37:37.424 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:37:37.440 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:37.447 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:37.480 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:37:37.587 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:37.588 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:37.605 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:37:37.613 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:37:37.617 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "bUh-RG0zSXJQd3dpVzVqNElrbUlHTkJTempNQUg2eUYtZ1JFVFhBRFJfaUNI;%2Fhome"
}.
2021-09-07 16:37:37.618 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer) in 315.7525ms
2021-09-07 16:37:37.618 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Accept (OpenIdServer)'
2021-09-07 16:37:37.619 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/authorize application/x-www-form-urlencoded 619 - 302 0 - 330.2810ms
2021-09-07 16:37:37.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:37:37.985 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:37:37.985 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:37:37.986 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:37:37.986 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:37:37.987 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:37:37.988 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 2.6980ms
2021-09-07 16:37:38.022 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:37:38.022 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:37:38.022 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:37:38.023 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:37:38.023 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:37:38.023 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:37:38.023 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 1.4204ms
2021-09-07 16:37:38.033 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221
2021-09-07 16:37:38.034 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:37:38.034 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 16:37:38.037 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200",
  "code_verifier": "MzdUVm5LS3FQT2hrYmhEVWYydERvRVB2OXdVZ1dEfnMyZkhUX3YwWWNxeXBR",
  "client_id": "angularClient"
}.
2021-09-07 16:37:38.043 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:38.044 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:37:38.061 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:37:38.141 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.146 +02:00 [INF] The token request was successfully validated.
2021-09-07 16:37:38.147 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:37:38.149 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:37:38.152 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:37:38.152 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:37:38.162 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:37:38.163 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:37:38.165 +02:00 [INF] The token '1d07590b-28bf-49a6-a9e6-99bc4f3a0d16' was successfully marked as redeemed.
2021-09-07 16:37:38.166 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.167 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.168 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:37:38.173 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.173 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.174 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:37:38.183 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.183 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.184 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:37:38.189 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 16:37:38.189 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 39.9581ms
2021-09-07 16:37:38.189 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:37:38.189 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221 - 200 6819 application/json;charset=UTF-8 155.8303ms
2021-09-07 16:37:38.194 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 16:37:38.194 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:37:38.195 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.5108ms
2021-09-07 16:37:38.196 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 16:37:38.196 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:37:38.196 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 16:37:38.198 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 16:37:38.204 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:37:38.213 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.216 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:37:38.217 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 16:37:38.222 +02:00 [INF] Authorization was successful.
2021-09-07 16:37:38.222 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:37:38.224 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 16:37:38.226 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:37:38.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:37:38.229 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 16:37:38.240 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 15.9306ms
2021-09-07 16:37:38.240 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:37:38.240 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 44.5384ms
2021-09-07 16:38:36.135 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:38:36.135 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:38:36.135 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - - - 204 - - 0.7177ms
2021-09-07 16:38:36.137 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:38:36.137 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:38:36.137 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:38:36.138 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:38:36.138 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:38:36.139 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:38:36.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 2.5610ms
2021-09-07 16:38:36.193 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - -
2021-09-07 16:38:36.193 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:38:36.193 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - - - 204 - - 0.2636ms
2021-09-07 16:38:36.194 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:38:36.194 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:38:36.194 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:38:36.195 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:38:36.195 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:38:36.197 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:38:36.198 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 3.4368ms
2021-09-07 16:40:08.377 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:40:08.378 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:40:08.378 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:40:08.378 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:40:08.378 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:40:08.378 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:40:08.378 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 0.8944ms
2021-09-07 16:40:08.390 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:40:08.390 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:40:08.391 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:40:08.391 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:40:08.391 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:40:08.391 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:40:08.391 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 1.0572ms
2021-09-07 16:40:08.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=SzU5Ull0Z3d3RmpSSGZuM1FpZWRBWGMydWJ-ZW9oMWk1YXdlX2pERWdjQnZX&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=1F7ng2vqtFAYpWhxrBs4P0bBSs7l9qsSaKb2PkCwXXk&code_challenge_method=S256&nonce=SzU5Ull0Z3d3RmpSSGZuM1FpZWRBWGMydWJ-ZW9oMWk1YXdlX2pERWdjQnZX&prompt=none - -
2021-09-07 16:40:08.403 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:40:08.403 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "SzU5Ull0Z3d3RmpSSGZuM1FpZWRBWGMydWJ-ZW9oMWk1YXdlX2pERWdjQnZX",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "1F7ng2vqtFAYpWhxrBs4P0bBSs7l9qsSaKb2PkCwXXk",
  "code_challenge_method": "S256",
  "nonce": "SzU5Ull0Z3d3RmpSSGZuM1FpZWRBWGMydWJ-ZW9oMWk1YXdlX2pERWdjQnZX",
  "prompt": "none"
}.
2021-09-07 16:40:08.404 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:40:08.407 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:40:08.408 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:40:08.408 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:40:08.408 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:40:08.409 +02:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2021-09-07 16:40:08.409 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "error": "login_required",
  "error_description": "The user is not logged in.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2015",
  "state": "SzU5Ull0Z3d3RmpSSGZuM1FpZWRBWGMydWJ-ZW9oMWk1YXdlX2pERWdjQnZX"
}.
2021-09-07 16:40:08.409 +02:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2021-09-07 16:40:08.409 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 0.93ms
2021-09-07 16:40:08.409 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:40:08.410 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=SzU5Ull0Z3d3RmpSSGZuM1FpZWRBWGMydWJ-ZW9oMWk1YXdlX2pERWdjQnZX&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=1F7ng2vqtFAYpWhxrBs4P0bBSs7l9qsSaKb2PkCwXXk&code_challenge_method=S256&nonce=SzU5Ull0Z3d3RmpSSGZuM1FpZWRBWGMydWJ-ZW9oMWk1YXdlX2pERWdjQnZX&prompt=none - - - 302 0 - 6.8036ms
2021-09-07 16:40:12.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh%3B%252Fprincipal&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=yuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50&code_challenge_method=S256&nonce=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh - -
2021-09-07 16:40:12.077 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:40:12.077 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%2Fprincipal",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "yuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50",
  "code_challenge_method": "S256",
  "nonce": "R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh"
}.
2021-09-07 16:40:12.078 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:40:12.078 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:40:12.079 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:40:12.079 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:40:12.079 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:40:12.079 +02:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2021-09-07 16:40:12.080 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-09-07 16:40:12.080 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 0.463ms
2021-09-07 16:40:12.080 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:40:12.080 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh%3B%252Fprincipal&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=yuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50&code_challenge_method=S256&nonce=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh - - - 302 0 - 2.7821ms
2021-09-07 16:40:12.081 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DR0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%25252Fprincipal%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DyuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50%26code_challenge_method%3DS256%26nonce%3DR0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh - -
2021-09-07 16:40:12.081 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:40:12.082 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:40:12.082 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2021-09-07 16:40:12.082 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-09-07 16:40:12.082 +02:00 [INF] Executed handler method OnGetAsync, returned result .
2021-09-07 16:40:12.082 +02:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2021-09-07 16:40:12.082 +02:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2021-09-07 16:40:12.085 +02:00 [INF] Executed page /Account/Login in 3.2737ms
2021-09-07 16:40:12.085 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:40:12.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DR0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%25252Fprincipal%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DyuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50%26code_challenge_method%3DS256%26nonce%3DR0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh - - - 200 - text/html;+charset=utf-8 3.9755ms
2021-09-07 16:40:12.096 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - -
2021-09-07 16:40:12.096 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/css/site.css - -
2021-09-07 16:40:12.097 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - -
2021-09-07 16:40:12.097 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\css\site.css'
2021-09-07 16:40:12.097 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2021-09-07 16:40:12.097 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/css/site.css - - - 200 1417 text/css 0.6614ms
2021-09-07 16:40:12.097 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2021-09-07 16:40:12.098 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\js\site.js'
2021-09-07 16:40:12.098 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2021-09-07 16:40:12.098 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\jquery\dist\jquery.min.js'
2021-09-07 16:40:12.098 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 0.5801ms
2021-09-07 16:40:12.098 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 1.8677ms
2021-09-07 16:40:12.098 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 1.1905ms
2021-09-07 16:40:12.098 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2021-09-07 16:40:12.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2021-09-07 16:40:12.098 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 application/javascript 1.1531ms
2021-09-07 16:40:12.099 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2021-09-07 16:40:12.099 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation\dist\jquery.validate.js'
2021-09-07 16:40:12.099 +02:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\Pedro\.nuget\packages\microsoft.aspnetcore.identity.ui\5.0.8\staticwebassets\V4\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2021-09-07 16:40:12.099 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 application/javascript 0.9993ms
2021-09-07 16:40:12.099 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19366 application/javascript 0.6493ms
2021-09-07 16:40:12.138 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2021-09-07 16:40:12.144 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2021-09-07 16:40:12.144 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 6.4690ms
2021-09-07 16:40:12.174 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - -
2021-09-07 16:40:12.175 +02:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Pedro\source\repos\openiddict-with-angular\OpenIdServer\wwwroot\favicon.ico'
2021-09-07 16:40:12.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - - - 200 5430 image/x-icon 0.6047ms
2021-09-07 16:40:26.857 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DR0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%25252Fprincipal%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DyuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50%26code_challenge_method%3DS256%26nonce%3DR0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh application/x-www-form-urlencoded 291
2021-09-07 16:40:26.857 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:40:26.857 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:40:26.858 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:40:26.858 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:40:26.859 +02:00 [INF] Executing handler method OpenIdServer.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2021-09-07 16:40:26.860 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:40:26.862 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-07 16:40:26.869 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:40:26.871 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:40:26.872 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:40:26.873 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:40:26.874 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:40:26.875 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:40:26.875 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-09-07 16:40:26.875 +02:00 [INF] User logged in.
2021-09-07 16:40:26.875 +02:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2021-09-07 16:40:26.876 +02:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?response_type=code&client_id=angularClient&state=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%252Fprincipal&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=yuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50&code_challenge_method=S256&nonce=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh.
2021-09-07 16:40:26.876 +02:00 [INF] Executed page /Account/Login in 17.7174ms
2021-09-07 16:40:26.876 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:40:26.876 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fresponse_type%3Dcode%26client_id%3DangularClient%26state%3DR0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%25252Fprincipal%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26scope%3Dopenid%2520profile%2520email%2520offline_access%2520roles%2520forecast%26code_challenge%3DyuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50%26code_challenge_method%3DS256%26nonce%3DR0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh application/x-www-form-urlencoded 291 - 302 0 - 19.3933ms
2021-09-07 16:40:26.877 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%252Fprincipal&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=yuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50&code_challenge_method=S256&nonce=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh - -
2021-09-07 16:40:26.877 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:40:26.878 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%2Fprincipal",
  "redirect_uri": "https://localhost:4200",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "yuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50",
  "code_challenge_method": "S256",
  "nonce": "R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh"
}.
2021-09-07 16:40:26.878 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:40:26.879 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:40:26.879 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:40:26.879 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:40:26.880 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:40:26.881 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:40:26.883 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:40:26.885 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:40:26.886 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:40:26.886 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:40:26.887 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:40:26.887 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:40:26.888 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:40:26.890 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 16:40:26.891 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:40:26.894 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:26.895 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:26.897 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:40:26.900 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:26.900 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:26.903 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:40:26.905 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:40:26.906 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%2Fprincipal"
}.
2021-09-07 16:40:26.906 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 26.6529ms
2021-09-07 16:40:26.906 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:40:26.907 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh;%252Fprincipal&redirect_uri=https%3A%2F%2Flocalhost%3A4200&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=yuvRqXcWxEeyOklWGXf7t6peKmPAO0f1143gxWogW50&code_challenge_method=S256&nonce=R0Q3al81VTFBT2YwbjRKX2JPfkZtaGo5eE5TQXZyaFpvZmxFX2dxYkkxZTVh - - - 302 0 - 29.2224ms
2021-09-07 16:40:27.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:40:27.565 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:40:27.565 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:40:27.565 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:40:27.566 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:40:27.566 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:40:27.566 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 0.7914ms
2021-09-07 16:40:27.580 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:40:27.580 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:40:27.580 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:40:27.581 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:40:27.581 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:40:27.581 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:40:27.581 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 0.8592ms
2021-09-07 16:40:27.596 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221
2021-09-07 16:40:27.596 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:40:27.596 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 16:40:27.596 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200",
  "code_verifier": "NWhyVElXdUF6TktmTnppQ1VlUFM1eVFoZEtULlRNVUxXdnZtNkI0VUZ4M2dK",
  "client_id": "angularClient"
}.
2021-09-07 16:40:27.597 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:40:27.598 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:40:27.600 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:40:27.605 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.605 +02:00 [INF] The token request was successfully validated.
2021-09-07 16:40:27.606 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:40:27.606 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:40:27.607 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:40:27.607 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:40:27.609 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:40:27.610 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:40:27.610 +02:00 [INF] The token '9bcf5120-1c45-4f19-942c-93763a6a73ec' was successfully marked as redeemed.
2021-09-07 16:40:27.611 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.611 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.612 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:40:27.614 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.614 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.615 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:40:27.617 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.618 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.619 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:40:27.621 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 16:40:27.622 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 16.0468ms
2021-09-07 16:40:27.622 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:40:27.622 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 221 - 200 6819 application/json;charset=UTF-8 26.2802ms
2021-09-07 16:40:27.626 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 16:40:27.627 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:40:27.627 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2642ms
2021-09-07 16:40:27.628 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 16:40:27.628 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:40:27.628 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 16:40:27.628 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 16:40:27.630 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:40:27.632 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.633 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:40:27.634 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 16:40:27.634 +02:00 [INF] Authorization was successful.
2021-09-07 16:40:27.634 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:40:27.634 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 16:40:27.635 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:40:27.636 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:40:27.636 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 16:40:27.637 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 2.2615ms
2021-09-07 16:40:27.637 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:40:27.637 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 9.2075ms
2021-09-07 16:42:11.700 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:42:11.700 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:42:11.700 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/openid-configuration - - - 204 - - 0.3814ms
2021-09-07 16:42:11.701 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - -
2021-09-07 16:42:11.701 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:42:11.702 +02:00 [INF] The request address matched a server endpoint: "Configuration".
2021-09-07 16:42:11.702 +02:00 [INF] The configuration request was successfully extracted: {}.
2021-09-07 16:42:11.702 +02:00 [INF] The configuration request was successfully validated.
2021-09-07 16:42:11.702 +02:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:5001/",
  "authorization_endpoint": "https://localhost:5001/connect/authorize",
  "token_endpoint": "https://localhost:5001/connect/token",
  "introspection_endpoint": "https://localhost:5001/connect/introspect",
  "end_session_endpoint": "https://localhost:5001/connect/logout",
  "userinfo_endpoint": "https://localhost:5001/connect/userinfo",
  "jwks_uri": "https://localhost:5001/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "refresh_token"
  ],
  "response_types_supported": [
    "code"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "email",
    "profile",
    "roles",
    "forecast",
    "offline_access"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false
}.
2021-09-07 16:42:11.702 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/openid-configuration - - - 200 1407 application/json;charset=UTF-8 1.1237ms
2021-09-07 16:42:11.744 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - -
2021-09-07 16:42:11.744 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:42:11.744 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/.well-known/jwks - - - 204 - - 0.2462ms
2021-09-07 16:42:11.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/.well-known/jwks - -
2021-09-07 16:42:11.745 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:42:11.745 +02:00 [INF] The request address matched a server endpoint: "Cryptography".
2021-09-07 16:42:11.746 +02:00 [INF] The cryptography request was successfully extracted: {}.
2021-09-07 16:42:11.746 +02:00 [INF] The cryptography request was successfully validated.
2021-09-07 16:42:11.746 +02:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "3840526CB680664D0AB2C977F2C692204A96A6B0",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "yK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g_Hg87Ke8SknSTgd-LTD-Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8-bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I_V4q78B7WDCUy2E60ecrC-8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z-2pD2Xs_Wk6bFmGVBsVAVycvYus_sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA-clRcK_OTqdN4JqSqRHIL1wQ",
      "x5t": "OEBSbLaAZk0Kssl38saSIEqWprA",
      "x5c": [
        "MIIC9TCCAd2gAwIBAgIJAJvmI9ZyfF60MA0GCSqGSIb3DQEBCwUAMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwHhcNMjEwODEzMTUwMDQ4WhcNMjMwODEzMTUwMDQ4WjAwMS4wLAYDVQQDEyVPcGVuSWRkaWN0IFNlcnZlciBTaWduaW5nIENlcnRpZmljYXRlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyK4lhNK2Eh0eb3CwKZitELF6VUbSlT66g/Hg87Ke8SknSTgd+LTD+Li6IukW5W2Yr2jEo2VVeUU7qOW3JI8+bRWxnuI2Z3kVtp57j2R4qJ836xrL61D7DZF9mpeI9I/V4q78B7WDCUy2E60ecrC+8NjiwHCTyp8lAHrBZpsVBJA54DDAXhR4p9S4vVSSdPjWb3J5ovFUGncEQvVDM3eYiveFtJ80kcVXhEQIEVBaM7oPBVZlJo3JR41z+2pD2Xs/Wk6bFmGVBsVAVycvYus/sljT4bAqqsbGos4YJ5sKcbfUZd6m4qO4HM4Ibu3anA+clRcK/OTqdN4JqSqRHIL1wQIDAQABoxIwEDAOBgNVHQ8BAf8EBAMCB4AwDQYJKoZIhvcNAQELBQADggEBAJaqeudqN9qvEhiBHMpLcuxs7XUMHNIgrbvSoT0/w9FnUnix7mFPUPAPI4N9nKHEfY3arGNhkqRfluJHN4DaG64dvrBTg77oLoiRf3JfVYhf9do4Zg1nvN5Wr0DrZb2kyTIjy0arRZp682hmXt/+lDlBYfI1BJ2/sNyMTPYVRsVzDwsiIDHOv251t3YbROKmaq+SxUCwkbl2xKkUyYQM+xAbZVHBGemtJYFyvXrGFHDeUvJoKQ6GXG15VUZKQhytFz6CUjbcQS3obu+jR1NU+ofR7IADWLSVo5PdU3ihnrWiPofDY1vMsyC94gjHvbocA4Utx/TMyDU/816aiO5zNhc="
      ]
    }
  ]
}.
2021-09-07 16:42:11.746 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 1.1413ms
2021-09-07 16:43:14.136 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:43:14.153 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] NOT IN (N'inactive', N'valid') OR [o].[Status] IS NULL) OR ([o0].[Id] IS NOT NULL AND (([o0].[Status] <> N'valid') OR [o0].[Status] IS NULL))) OR ([o].[ExpirationDate] < GETUTCDATE()))
ORDER BY [o].[Id]
2021-09-07 16:43:14.194 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE ([o].[CreationDate] < @__date_0) AND ((([o].[Status] <> N'valid') OR [o].[Status] IS NULL) OR (([o].[Type] = N'ad-hoc') AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id], [o1].[Id]
2021-09-07 16:45:28.509 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Z3JnbnZTcX5RbzBVYUl4UUtwQjNKZFJHMkp1MlhwZF85dDVGU290TF90UHBV&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=0pvKgr2XdMXS48R3eFVpgBtChj1J8ZXugmELQATirLI&code_challenge_method=S256&nonce=Z3JnbnZTcX5RbzBVYUl4UUtwQjNKZFJHMkp1MlhwZF85dDVGU290TF90UHBV&prompt=none - -
2021-09-07 16:45:28.509 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:45:28.509 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "Z3JnbnZTcX5RbzBVYUl4UUtwQjNKZFJHMkp1MlhwZF85dDVGU290TF90UHBV",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "0pvKgr2XdMXS48R3eFVpgBtChj1J8ZXugmELQATirLI",
  "code_challenge_method": "S256",
  "nonce": "Z3JnbnZTcX5RbzBVYUl4UUtwQjNKZFJHMkp1MlhwZF85dDVGU290TF90UHBV",
  "prompt": "none"
}.
2021-09-07 16:45:28.510 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:45:28.511 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:45:28.512 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:45:28.512 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:45:28.512 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:45:28.514 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:45:28.516 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:45:28.518 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:45:28.520 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:45:28.521 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:45:28.522 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:45:28.522 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:45:28.523 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:45:28.524 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 16:45:28.525 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:45:28.526 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.527 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.529 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:45:28.548 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.550 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.556 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:45:28.562 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:45:28.564 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "Z3JnbnZTcX5RbzBVYUl4UUtwQjNKZFJHMkp1MlhwZF85dDVGU290TF90UHBV"
}.
2021-09-07 16:45:28.564 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 51.634ms
2021-09-07 16:45:28.564 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:45:28.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=Z3JnbnZTcX5RbzBVYUl4UUtwQjNKZFJHMkp1MlhwZF85dDVGU290TF90UHBV&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=0pvKgr2XdMXS48R3eFVpgBtChj1J8ZXugmELQATirLI&code_challenge_method=S256&nonce=Z3JnbnZTcX5RbzBVYUl4UUtwQjNKZFJHMkp1MlhwZF85dDVGU290TF90UHBV&prompt=none - - - 302 0 - 55.3363ms
2021-09-07 16:45:28.897 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 16:45:28.897 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:45:28.898 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.5212ms
2021-09-07 16:45:28.899 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 16:45:28.899 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:45:28.899 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 16:45:28.901 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "dTNWdGdFWXEuWHphMnN6LnVtRDhrdEl0UlFfS1Itb21lWklKTWl0fl9qTG5Y",
  "client_id": "angularClient"
}.
2021-09-07 16:45:28.903 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:45:28.904 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:45:28.908 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:45:28.912 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.912 +02:00 [INF] The token request was successfully validated.
2021-09-07 16:45:28.913 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:45:28.913 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:45:28.914 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:45:28.914 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:45:28.915 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:45:28.916 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:45:28.921 +02:00 [INF] The token '9458c26b-9e68-4502-9137-baaeb986dbff' was successfully marked as redeemed.
2021-09-07 16:45:28.922 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.922 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.923 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:45:28.926 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.926 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.927 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:45:28.929 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.930 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.931 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:45:28.932 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 16:45:28.933 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 19.3009ms
2021-09-07 16:45:28.933 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:45:28.933 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6862 application/json;charset=UTF-8 33.7780ms
2021-09-07 16:45:28.936 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 16:45:28.937 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:45:28.937 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.3634ms
2021-09-07 16:45:28.938 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 16:45:28.938 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:45:28.938 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 16:45:28.939 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 16:45:28.941 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:45:28.943 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.944 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:45:28.944 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 16:45:28.944 +02:00 [INF] Authorization was successful.
2021-09-07 16:45:28.944 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:45:28.944 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 16:45:28.945 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:45:28.946 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:45:28.946 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 16:45:28.946 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.8174ms
2021-09-07 16:45:28.946 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:45:28.947 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 8.7401ms
2021-09-07 16:46:20.383 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 16:46:20.383 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:46:20.383 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:46:20.384 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:46:20.384 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:46:20.385 +02:00 [INF] Antiforgery token validation failed. The provided antiforgery token was meant for a different claims-based user than the current user.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The provided antiforgery token was meant for a different claims-based user than the current user.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2021-09-07 16:46:20.394 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2021-09-07 16:46:20.396 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2021-09-07 16:46:20.396 +02:00 [INF] Executed page /Account/Login in 12.3584ms
2021-09-07 16:46:20.396 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:46:20.396 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 400 0 - 13.2690ms
2021-09-07 16:46:26.423 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269
2021-09-07 16:46:26.423 +02:00 [INF] CORS policy execution failed.
2021-09-07 16:46:26.423 +02:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2021-09-07 16:46:26.424 +02:00 [INF] Executing endpoint '/Account/Login'
2021-09-07 16:46:26.424 +02:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2021-09-07 16:46:26.424 +02:00 [INF] Antiforgery token validation failed. The provided antiforgery token was meant for a different claims-based user than the current user.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The provided antiforgery token was meant for a different claims-based user than the current user.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateTokens(HttpContext httpContext, AntiforgeryTokenSet antiforgeryTokenSet)
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2021-09-07 16:46:26.424 +02:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2021-09-07 16:46:26.424 +02:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2021-09-07 16:46:26.425 +02:00 [INF] Executed page /Account/Login in 0.7088ms
2021-09-07 16:46:26.425 +02:00 [INF] Executed endpoint '/Account/Login'
2021-09-07 16:46:26.425 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/Identity/Account/Login application/x-www-form-urlencoded 269 - 400 0 - 1.6743ms
2021-09-07 16:46:30.774 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:46:30.774 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:46:30.775 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:46:30.777 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:46:30.779 +02:00 [INF] Executed ViewResult - view Index executed in 4.0059ms.
2021-09-07 16:46:30.780 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 4.3718ms
2021-09-07 16:46:30.780 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:46:30.780 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 6.2376ms
2021-09-07 16:46:31.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - -
2021-09-07 16:46:31.219 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:46:31.220 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpenIdServer.Controllers.HomeController (OpenIdServer).
2021-09-07 16:46:31.220 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-07 16:46:31.221 +02:00 [INF] Executed ViewResult - view Index executed in 1.0502ms.
2021-09-07 16:46:31.221 +02:00 [INF] Executed action OpenIdServer.Controllers.HomeController.Index (OpenIdServer) in 1.3231ms
2021-09-07 16:46:31.221 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.HomeController.Index (OpenIdServer)'
2021-09-07 16:46:31.221 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - - - 200 - text/html;+charset=utf-8 2.3673ms
2021-09-07 16:50:29.709 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=bkNRMGhpa3dremhafkdoTXVUekJKSjNBaE0xdVlYTm5odFR2aWFLZUlrWGlu&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=qN9Yl0tYA82Fxo2hLOHRSV0WKwdeouUS2M_8NZlOM9Q&code_challenge_method=S256&nonce=bkNRMGhpa3dremhafkdoTXVUekJKSjNBaE0xdVlYTm5odFR2aWFLZUlrWGlu&prompt=none - -
2021-09-07 16:50:29.710 +02:00 [INF] The request address matched a server endpoint: "Authorization".
2021-09-07 16:50:29.710 +02:00 [INF] The authorization request was successfully extracted: {
  "response_type": "code",
  "client_id": "angularClient",
  "state": "bkNRMGhpa3dremhafkdoTXVUekJKSjNBaE0xdVlYTm5odFR2aWFLZUlrWGlu",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "scope": "openid profile email offline_access roles forecast",
  "code_challenge": "qN9Yl0tYA82Fxo2hLOHRSV0WKwdeouUS2M_8NZlOM9Q",
  "code_challenge_method": "S256",
  "nonce": "bkNRMGhpa3dremhafkdoTXVUekJKSjNBaE0xdVlYTm5odFR2aWFLZUlrWGlu",
  "prompt": "none"
}.
2021-09-07 16:50:29.710 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:50:29.716 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:50:29.716 +02:00 [INF] The authorization request was successfully validated.
2021-09-07 16:50:29.717 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:50:29.717 +02:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:50:29.718 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:50:29.721 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE ((([o].[Subject] = @__subject_0) AND ([o].[Status] = @__status_1)) AND ([o].[Type] = @__type_2)) AND ([o1].[Id] = @__key_3)
2021-09-07 16:50:29.722 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2021-09-07 16:50:29.724 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:50:29.725 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:50:29.726 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:50:29.727 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-09-07 16:50:29.727 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2021-09-07 16:50:29.729 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'email', N'offline_access', N'roles', N'forecast')
2021-09-07 16:50:29.729 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:50:29.731 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:29.731 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:29.734 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:50:29.739 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:29.739 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:29.743 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:50:29.745 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:50:29.746 +02:00 [INF] The authorization response was successfully returned to 'https://localhost:4200/silent-refresh.html' using the query response mode: {
  "code": "[redacted]",
  "state": "bkNRMGhpa3dremhafkdoTXVUekJKSjNBaE0xdVlYTm5odFR2aWFLZUlrWGlu"
}.
2021-09-07 16:50:29.746 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer) in 29.381ms
2021-09-07 16:50:29.746 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Authorize (OpenIdServer)'
2021-09-07 16:50:29.746 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/authorize?response_type=code&client_id=angularClient&state=bkNRMGhpa3dremhafkdoTXVUekJKSjNBaE0xdVlYTm5odFR2aWFLZUlrWGlu&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsilent-refresh.html&scope=openid%20profile%20email%20offline_access%20roles%20forecast&code_challenge=qN9Yl0tYA82Fxo2hLOHRSV0WKwdeouUS2M_8NZlOM9Q&code_challenge_method=S256&nonce=bkNRMGhpa3dremhafkdoTXVUekJKSjNBaE0xdVlYTm5odFR2aWFLZUlrWGlu&prompt=none - - - 302 0 - 36.9526ms
2021-09-07 16:50:30.069 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/token - -
2021-09-07 16:50:30.069 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:50:30.069 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/token - - - 204 - - 0.2419ms
2021-09-07 16:50:30.070 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243
2021-09-07 16:50:30.070 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:50:30.070 +02:00 [INF] The request address matched a server endpoint: "Token".
2021-09-07 16:50:30.070 +02:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200/silent-refresh.html",
  "code_verifier": "bnNYQVNFZlZTV3dnSVVWY25sLlRLRzNILmhrLk9IcGgudDNsbnJzaFhtbWs4",
  "client_id": "angularClient"
}.
2021-09-07 16:50:30.071 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:50:30.071 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2021-09-07 16:50:30.072 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:50:30.076 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.076 +02:00 [INF] The token request was successfully validated.
2021-09-07 16:50:30.077 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:50:30.077 +02:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpenIdServer.Controllers.AuthorizationController (OpenIdServer).
2021-09-07 16:50:30.078 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:50:30.078 +02:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2021-09-07 16:50:30.079 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2021-09-07 16:50:30.080 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
SELECT @@ROWCOUNT;
2021-09-07 16:50:30.082 +02:00 [INF] The token '87f263e6-b15d-4fae-8cee-94ba39f04a1e' was successfully marked as redeemed.
2021-09-07 16:50:30.083 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.083 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.084 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:50:30.086 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.086 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.087 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:50:30.089 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.089 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.090 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2021-09-07 16:50:30.092 +02:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile email offline_access roles forecast",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2021-09-07 16:50:30.092 +02:00 [INF] Executed action OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer) in 15.0816ms
2021-09-07 16:50:30.092 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.AuthorizationController.Exchange (OpenIdServer)'
2021-09-07 16:50:30.092 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/connect/token application/x-www-form-urlencoded 243 - 200 6862 application/json;charset=UTF-8 21.9705ms
2021-09-07 16:50:30.096 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - -
2021-09-07 16:50:30.096 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:50:30.096 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/connect/userinfo - - - 204 - - 0.2861ms
2021-09-07 16:50:30.097 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/connect/userinfo - -
2021-09-07 16:50:30.097 +02:00 [INF] CORS policy execution successful.
2021-09-07 16:50:30.097 +02:00 [INF] The request address matched a server endpoint: "Userinfo".
2021-09-07 16:50:30.097 +02:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2021-09-07 16:50:30.099 +02:00 [INF] Entity Framework Core 5.0.9 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-09-07 16:50:30.101 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.102 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2021-09-07 16:50:30.102 +02:00 [INF] The userinfo request was successfully validated.
2021-09-07 16:50:30.102 +02:00 [INF] Authorization was successful.
2021-09-07 16:50:30.102 +02:00 [INF] Executing endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:50:30.102 +02:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpenIdServer.Controllers.UserinfoController (OpenIdServer).
2021-09-07 16:50:30.103 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2021-09-07 16:50:30.104 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-07 16:50:30.104 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-09-07 16:50:30.104 +02:00 [INF] Executed action OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer) in 1.5828ms
2021-09-07 16:50:30.104 +02:00 [INF] Executed endpoint 'OpenIdServer.Controllers.UserinfoController.Userinfo (OpenIdServer)'
2021-09-07 16:50:30.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/connect/userinfo - - - 200 - application/json;+charset=utf-8 6.8445ms
